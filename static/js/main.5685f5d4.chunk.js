(this["webpackJsonpcan-explorer"]=this["webpackJsonpcan-explorer"]||[]).push([[0],{126:function(e,t,n){"use strict";n.d(t,"a",(function(){return swapKeysAndValues}));n(5),n(10),n(11);function swapKeysAndValues(e,t){return Object.keys(e).reduce((function(t,n){return t[e[n]]=n,t}),{})}},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),s=n(3),i=function(){function BoardUnit(e){Object(a.a)(this,BoardUnit),this.name=e,this.attributes={},this.comment=null}return Object(s.a)(BoardUnit,[{key:"text",value:function text(){return this.name}}]),BoardUnit}()},128:function(e,t,n){"use strict";var a=n(218),s=n(14),i=n.n(s);t.a=function(){var e=[],t=[];return[].forEach.call(arguments,(function(n){n&&n._definition&&n._name?e.push(n):t.push(n)})),i.a.apply(null,[].concat(t,[Object(a.css)(e)]))}},129:function(e,t,n){"use strict";n.d(t,"a",(function(){return shade}));var a=n(11);function shade(e,t){var n=Object(a.a)(e,3),s=n[0],i=n[1],r=n[2],o=t<0?0:255,l=Math.abs(t);return[Math.round((o-s)*l)+s,Math.round((o-i)*l)+i,Math.round((o-r)*l)+r]}},13:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return g})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return m}));var a=n(22),s="4b43250e7499a97d62a5",i="https://api.comma.ai/cabana/ghcallback",r="gh_access_token",o="commaai/opendbc",l="undefined"!==typeof window&&null!==Object(a.a)("unlogger"),c="http://localhost:8080/unlogger",u="4bc98019-8277-4fe0-867c-ed21ea843cc5",d=3,g=5e3,h=60,m="https://my.comma.ai/"},17:function(e,t,n){"use strict";(function(e){function createMessageSpec(e,t,n,a){var s=e.getMessageFrame(t),i=s?s.size:8;return{address:t,id:n,bus:a,entries:[],frame:s,byteColors:Array(i).fill(0),byteStateChangeCounts:Array(i).fill(0)}}function createMessageEntry(t,n,a,s,i,r){return{signals:t.getSignalValues(n,i),time:a,relTime:s,hexData:e.from(i).toString("hex"),byteStateChangeTimes:r,updated:Date.now()}}function parseMessage(t,n,a,s,i,r){var o;"string"===typeof s?(o=s,s=e.from(s,"hex")):o=e.from(s).toString("hex");var l=t.getMessageFrame(a),c=n-i,u=function determineByteStateChangeTimes(e,t,n,a){var s,i=Array(n).fill(0);if(a){s=Array.from(a.byteStateChangeTimes);for(var r=0;r<s.length;r++){e.substr(2*r,2)!==a.hexData.substr(2*r,2)&&(s[r]=t,i[r]=1)}}else s=Array(n).fill(t);return{byteStateChangeTimes:s,byteStateChangeCounts:i}}(o,c,l?l.size:8,r),d=u.byteStateChangeTimes,g=u.byteStateChangeCounts;return{msgEntry:createMessageEntry(t,a,n,c,s,d),byteStateChangeCounts:g}}for(var n=[],a=0;a<64;a+=8)for(var s=7;s>-1;s--)n.push(a+s);t.a={bigEndianBitIndex:function bigEndianBitIndex(e){return n.indexOf(e)},addCanMessage:function addCanMessage(e,t,n,a,s,i){var r=e.address,o=e.busTime,l=e.data,c=e.bus,u=c+":"+r.toString(16);void 0===a[u]&&(a[u]=createMessageSpec(t,r,u,c));var d=a[u].entries.length>0?a[u].entries[a[u].entries.length-1]:s[u]||null;i[u]&&a[u].byteStateChangeCounts.every((function(e){return 0===e}))&&(a[u].byteStateChangeCounts=i[u]);var g=parseMessage(t,o,r,l,n,d),h=g.msgEntry,m=g.byteStateChangeCounts;return a[u].byteStateChangeCounts=m.map((function(e,t){return a[u].byteStateChangeCounts[t]+e})),a[u].entries.push(h),h},createMessageSpec:createMessageSpec,matrixBitNumber:function matrixBitNumber(e){return n[e]},parseMessage:parseMessage,findMaxByteStateChangeCount:function findMaxByteStateChangeCount(e){return Object.values(e).map((function(e){return e.byteStateChangeCounts})).reduce((function(e,t){return e.concat(t)}),[]).reduce((function(e,t){return e>t?e:t}),0)},setMessageByteColors:function setMessageByteColors(e,t){return e.byteColors=e.byteStateChangeCounts.map((function(e){return isNaN(e)?0:Math.min(255,75+e/t*180)})).map((function(e){return"rgb("+Math.round(e)+",0,0)"})),e},createMessageEntry:createMessageEntry}}).call(this,n(20).Buffer)},215:function(e,t,n){"use strict";(function(e){var a=n(2),s=n(3),i=n(59),r=n(13),o=function(){function CloudLog(){Object(a.a)(this,CloudLog),i.a.init({token:r.f,no_format:!0,catchall:!1}),this.context={}}return Object(s.a)(CloudLog,[{key:"bind",value:function bind(e){this.context.update(e)}},{key:"emit",value:function emit(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";if("undefined"===typeof e.__JEST__){var a={ctx:this.context,created:(new Date).getTime()/1e3,msg:t,src:"JSCloudLog"};"log"===n?i.a.log(a):"warn"===n?i.a.warn(a):"error"===n&&i.a.error(a)}}},{key:"log",value:function log(e){this.emit(e)}},{key:"warn",value:function warn(e){this.emit(e,"warn")}},{key:"error",value:function error(e){this.emit(e,"error")}}]),CloudLog}();t.a=new o}).call(this,n(19))},217:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var a=n(10),s=n(11),i=n(2),r=n(3),o=n(7),l=n(4),c=n(8),u=n(1),d=n.n(u),g=n(32),h=n(128),m=n(231),p=n(38),f=n(129),b=n(17);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var v=g.StyleSheet.create({bit:{margin:0,padding:12,userSelect:"none",cursor:"pointer",textAlign:"center",position:"relative"},bitSelectedStyle:{backgroundColor:"rgba(0,119,158,0.5)"},bitSignificance:{fontSize:12,display:"block",position:"absolute",bottom:0,left:0,right:0,margin:"0 auto"},highlightedSignalTitle:{backgroundColor:"rgba(0,0,0,0.2)"}}),S=function(t){function AddSignals(e){var t;Object(i.a)(this,AddSignals),(t=Object(o.a)(this,Object(l.a)(AddSignals).call(this,e))).updateSignalStyles=function(){var e=t.calcSignalStyles(t.state.signals);t.setState({signalStyles:e})},t.onSignalHover=function(e){e&&t.setState({highlightedSignal:e.name},t.updateSignalStyles)},t.onBitHover=function(e,n){var a=t.state,s=a.dragStartBit,i=a.signals,r=a.dragSignal;if(null!==s)if(null!==r){if(i=t.copySignals(i),s===(r=Object.assign(Object.create(r),r)).startBit&&r.size>1){if(r.isLittleEndian){if(e>r.msbBitIndex())return}else if(b.a.bigEndianBitIndex(e)>r.lsbBitNumber())return;var o=e-s;r.isLittleEndian?r.size-=o:null===r.bitDescription(e)?r.size+=Math.abs(o):r.size-=Math.abs(o),r.startBit+=o,i[r.name]=r,s=r.startBit}else if(1===r.size)Math.floor(e/8)===Math.floor(s/8)&&(e>s?r.isLittleEndian?r.size=e-r.startBit:(r.startBit=e,r.size=e-s+1,s=e):r.isLittleEndian?(r.startBit=e,r.size=s-e+1,s=e):(r.size=s-e+1,s=e)),i[r.name]=r;else if(r.isLittleEndian&&s===r.msbBitIndex()){if(e<r.startBit)return;var l=e-s;null===r.bitDescription(e)?r.size+=Math.abs(l):r.size-=Math.abs(l),i[r.name]=r,s=r.msbBitIndex()}else if(!r.isLittleEndian&&s===r.lsbBitIndex()){var c=e-s;null===r.bitDescription(e)?r.size+=Math.abs(c):r.size-=Math.abs(c),i[r.name]=r,s=r.lsbBitIndex()}t.setState({signals:i,dragSignal:r,dragCurrentBit:e,dragStartBit:s})}else t.setState({dragCurrentBit:e});n&&t.onSignalHover(n)},t.onSignalHoverEnd=function(e){e&&t.setState({highlightedSignal:null},t.updateSignalStyles)},t.resetDragState=function(){t.setState({dragStartBit:null,dragSignal:null,dragCurrentBit:null})},t.onTentativeSignalChange=function(e){var n=t.state.signals;n[e.name]=e,t.setState({signals:n})},t.onSignalChange=function(e,n){var a=t.state.signals;for(var s in a)a[s].uid===e.uid&&delete a[s];a[e.name]=e,t.setState({signals:a},t.propagateUpSignalChange)},t.onSignalRemove=function(e){var n=t.state.signals;delete n[e.name],t.setState({signals:n},t.propagateUpSignalChange)},t.onSignalPlotChange=function(e,n){var a=t.props.message;t.props.onSignalPlotChange(e,a.id,n)};var n={};return e.message&&e.message.frame&&e.message.frame.signals&&(n=t.copySignals(e.message.frame.signals)),t.state={bits:[],signals:n,signalStyles:t.calcSignalStyles(n),highlightedSignal:null,dragStartBit:null,dragSignal:null,dragCurrentBit:null},t}return Object(c.a)(AddSignals,t),Object(r.a)(AddSignals,[{key:"copySignals",value:function copySignals(e){return Object.entries(e).reduce((function(e,t){var n=Object(s.a)(t,2),a=n[0],i=n[1];return e[a]=Object.assign(Object.create(i),i),e}),{})}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return e.message.hexData!==this.props.message.hexData||e.messageIndex!==this.props.messageIndex||JSON.stringify(e.plottedSignalUids)!==JSON.stringify(this.props.plottedSignalUids)||JSON.stringify(this.state)!==JSON.stringify(t)}},{key:"signalColorStyle",value:function signalColorStyle(e){var t,n,a=e.colors;if(this.state&&this.state.highlightedSignal===e.name){var s=Object(f.a)(a,-.5),i=Object(f.a)(a,.9);t="rgb(".concat(i.join(","),")"),n="rgba(".concat(s.join(","),",0.5)")}else{var r=a.join(",");t="rgb(".concat(r,")"),n="rgba(".concat(r,",0.2)")}return g.StyleSheet.create({signal:{color:t,backgroundColor:n}}).signal}},{key:"calcSignalStyles",value:function calcSignalStyles(e){var t=this,n={};return Object.values(e).forEach((function(e){n[e.name]=t.signalColorStyle(e)})),n}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=e.message;if(t.address!==this.props.message.address){var n=t.frame?t.frame.signals:{};this.setState({signals:this.copySignals(n)},this.updateSignalStyles)}}},{key:"signalForBit",value:function signalForBit(e){return Object.values(this.state.signals).filter((function(t){return null!==t.bitDescription(e)}))[0]}},{key:"signalBitIndex",value:function signalBitIndex(e,t){var n=t.startBit;return t.isLittleEndian||(n=b.a.bigEndianBitIndex(n)),e-n}},{key:"nextNewSignalName",value:function nextNewSignalName(){var e,t=Object.keys(this.state.signals),n=1;do{e="NEW_SIGNAL_"+n,n++}while(-1!==t.indexOf(e));return e}},{key:"onBitMouseDown",value:function onBitMouseDown(e,t){this.setState({dragStartBit:e,dragSignal:t||null})}},{key:"createSignal",value:function createSignal(e){var t=e.startBit,n=e.size,s=e.isLittleEndian,i=new p.a({name:this.nextNewSignalName(),startBit:t,size:n,isLittleEndian:s}),r=this.state.signals;(r=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))[i.name]=i,this.setState({signals:r},this.propagateUpSignalChange)}},{key:"createSignalIfNotExtendingOne",value:function createSignalIfNotExtendingOne(e,t){if(null===this.state.dragSignal){for(var n=e;n<=t;n++)if(void 0!==this.signalForBit(n))return;var a,s=Math.floor(t/8)===Math.floor(e/8);a=s||!(!s&&t<e)?e%8<4:e%8>=4;var i,r=e;s?i=Math.abs(t-e)+1:a?t>e?(r=e,i=t-e+1):(r=t,i=e-t+1):(t<e&&(r=t),i=Math.abs(b.a.bigEndianBitIndex(t)-b.a.bigEndianBitIndex(e))+1),this.createSignal({startBit:r,size:i,isLittleEndian:a})}}},{key:"onBitMouseUp",value:function onBitMouseUp(e,t){if(null!==this.state.dragStartBit){var n=this.state.dragStartBit;e!==n&&this.createSignalIfNotExtendingOne(n,e),this.propagateUpSignalChange(),this.resetDragState()}}},{key:"byteValueHex",value:function byteValueHex(e){var t=this.props.message.entries;return this.props.messageIndex<t.length?t[this.props.messageIndex].hexData.substr(2*e,2):"--"}},{key:"bitValue",value:function bitValue(t,n){var a=this.props.message.entries;if(this.props.messageIndex<a.length){var s=a[this.props.messageIndex],i=e.from(s.hexData,"hex");return t>=i.length?"-":i.readInt8(t)>>n&1}return"-"}},{key:"bitIsContainedInSelection",value:function bitIsContainedInSelection(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,a=n.dragStartBit,s=n.dragCurrentBit;if(t||a%8<4)return null!==a&&null!==s&&e>=a&&e<=s;var i=b.a.bigEndianBitIndex(a),r=b.a.bigEndianBitIndex(s),o=b.a.bigEndianBitIndex(e);return null!==a&&null!==s&&o>=i&&o<=r}},{key:"onBitDoubleClick",value:function onBitDoubleClick(e,t){void 0===t&&this.createSignal({startBit:e,size:1,isLittleEndian:!1})}},{key:"renderBitMatrix",value:function renderBitMatrix(){var e,t=this,n=this.props.message,a=[];e=n.frame&&n.frame.size?Math.floor(8*n.frame.size/8):8;for(var s=0;s<e;s++){for(var i=[],r=function _loop(){var e=8*s+o,n=t.signalForBit(e),a=null,r="";if(n){a=t.state.signalStyles[n.name]||null;var l=n.bitDescription(e);r=l.isMsb?"msb":l.isLsb?"lsb":""}else t.bitIsContainedInSelection(e)&&(a=v.bitSelectedStyle);var c=Object(h.a)("bit",v.bit,a),u=t.bitValue(s,o);i.push(d.a.createElement("td",{key:o.toString(),className:c,onMouseEnter:function onMouseEnter(){return t.onBitHover(e,n)},onMouseLeave:function onMouseLeave(){return t.onSignalHoverEnd(n)},onMouseDown:t.onBitMouseDown.bind(t,e,n),onMouseUp:t.onBitMouseUp.bind(t,e,n),onDoubleClick:function onDoubleClick(){return t.onBitDoubleClick(e,n)}},d.a.createElement("span",null,u),d.a.createElement("span",{className:Object(h.a)(v.bitSignificance)},r)))},o=7;o>=0;o--)r();i.push(d.a.createElement("td",{key:"hex-repr"},this.byteValueHex(s))),a.push(d.a.createElement("tr",{key:s.toString()},i))}return d.a.createElement("div",{className:"cabana-explorer-signals-matrix"},d.a.createElement("table",{cellSpacing:0,onMouseLeave:this.resetDragState},d.a.createElement("tbody",null,a)))}},{key:"propagateUpSignalChange",value:function propagateUpSignalChange(){var e=this.state.signals;this.props.onConfirmedSignalChange(this.props.message,this.copySignals(e))}},{key:"render",value:function render(){return d.a.createElement("div",{className:"cabana-explorer-signals-controller"},0===Object.keys(this.state.signals).length?d.a.createElement("p",null,"Double click or drag to add a signal"):null,this.props.message.entries[this.props.messageIndex]?d.a.createElement("div",{className:"cabana-explorer-signals-time"},d.a.createElement("p",null,"time:"," ",this.props.message.entries[this.props.messageIndex].relTime.toFixed(3))):null,this.props.message.isLogEvent||this.renderBitMatrix(),d.a.createElement(m.a,{isLogEvent:!!this.props.message.isLogEvent,signals:this.state.signals,signalStyles:this.state.signalStyles,highlightedSignal:this.state.highlightedSignal,onSignalHover:this.onSignalHover,onSignalHoverEnd:this.onSignalHoverEnd,onTentativeSignalChange:this.onTentativeSignalChange,onSignalChange:this.onSignalChange,onSignalRemove:this.onSignalRemove,onSignalPlotChange:this.onSignalPlotChange,plottedSignalUids:this.props.plottedSignalUids}))}}]),AddSignals}(u.Component)}).call(this,n(20).Buffer)},22:function(e,t,n){"use strict";n.d(t,"c",(function(){return objToQuery})),n.d(t,"a",(function(){return getUrlParameter})),n.d(t,"b",(function(){return modifyQueryParameters}));var a=n(10);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function objToQuery(e){return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(decodeURIComponent(e[t]))})).join("&")}function getUrlParameter(e){var t=window.location;e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t.search);return null===n?null:decodeURIComponent(n[1].replace(/\+/g," "))}function modifyQueryParameters(e){var t=e.add,n=e.remove,s=void 0===n?[]:n,i=new RegExp("[\\?&]([^&#]+)=([^&#]*)").exec(location.search),r={};if(null!=i){for(var o=1;o<i.length-1;o+=2){var l=i[o],c=i[o+1];r[l]=c}for(var u in r)-1!==s.indexOf(u)&&delete r[u];r=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{},t)}else r=t;return location.origin+location.pathname+"?"+objToQuery(r)}},231:function(e,t,n){"use strict";var a=n(11),s=n(5),i=n(2),r=n(3),o=n(7),l=n(4),c=n(8),u=n(1),d=n.n(u),g=n(14),h=n.n(g),m=(n(38),n(17)),p=function unsignedTransformation(e){return function(t,n){return""!==t&&(t=Number(t)||0)<0&&(t=0),n[e]=t,n}},f=[{field:"name",title:"Name",type:"string"},{field:"size",title:"Size",type:"number",transform:p("size")},{field:"startBit",title:function title(e){return e.isLittleEndian?"Least significant bit":"Most significant bit"},type:"number",transform:p("startBit")},{field:"isLittleEndian",title:"Endianness",type:"option",options:{options:["Little","Big"],optionValues:{Little:!0,Big:!1}},transform:function transform(e,t){if(t.isLittleEndian!==e){var n=t.startBit;if(e){var a=Math.floor(t.startBit/8),s=Math.floor((t.startBit-t.size+1)/8);t.startBit=a===s?t.startBit-t.size+1:m.a.matrixBitNumber(n)}else{var i=Math.floor(t.startBit/8),r=Math.floor((t.startBit+t.size-1)/8);t.startBit=i===r?t.startBit+t.size-1:m.a.bigEndianBitIndex(n)}t.isLittleEndian=e}return t}},{field:"isSigned",title:"Sign",type:"option",options:{options:["Signed","Unsigned"],optionValues:{Signed:!0,Unsigned:!1}}},{field:"factor",title:"Factor",type:"number"},{field:"offset",title:"Offset",type:"number"},{field:"unit",title:"Unit",type:"string"},{field:"comment",title:"Comment",type:"string"},{field:"min",title:"Minimum value",type:"number"},{field:"max",title:"Maximum value",type:"number"}],b=function(e){function Field(){return Object(i.a)(this,Field),Object(o.a)(this,Object(l.a)(Field).apply(this,arguments))}return Object(c.a)(Field,e),Object(r.a)(Field,[{key:"render",value:function render(){var e=this.props,t=e.title,n=e.htmlFor,a=e.children;return d.a.createElement("div",{className:"form-field form-field--small"},d.a.createElement("label",{htmlFor:n},t),a)}}]),Field}(u.Component),v=n(126),S={number:function(e){var t,n=e.fieldSpec,a=e.signal,s=e.isExpanded,i=e.signalEdited,r=e.updateField,o=n.field,l=n.title,c="".concat(a.name,"_").concat(o);if(s){var u=i;if(""!==u){var g=Number(u);u=isNaN(g)?"":g}t=d.a.createElement("input",{id:c,type:"number",value:u,onChange:function onChange(e){r(n,e.target.value)}})}else{var h=a[o];t=d.a.createElement("span",null,h)}return d.a.createElement(b,{title:"function"===typeof l?l(a):l,htmlFor:c},t)},option:function(e){var t,n=e.fieldSpec,a=e.signal,s=e.isExpanded,i=e.signalEdited,r=e.updateField,o=n.field,l=n.title,c="".concat(a.name,"_").concat(o),u=n.options,g=u.options,h=u.optionValues,m=Object(v.a)(h);if(s){var p=g.map((function(e){return d.a.createElement("option",{key:e,value:h[e]},e)}));t=d.a.createElement("select",{id:c,defaultValue:i,onChange:function onChange(e){r(n,"true"===e.target.value)}},p)}else t=d.a.createElement("span",null,m[a[o]]);return d.a.createElement(b,{title:"function"===typeof l?l(a):l,htmlFor:c},t)},string:function(e){var t,n=e.fieldSpec,a=e.signal,s=e.isExpanded,i=e.signalEdited,r=e.updateField,o=n.field,l=n.title,c="".concat(a.name,"_").concat(o);return t=s?d.a.createElement("input",{id:c,type:"text",value:i||"",onChange:function onChange(e){r(n,e.target.value)}}):d.a.createElement("span",null,a[o]),d.a.createElement(b,{title:"function"===typeof l?l(a):l,htmlFor:c},t)}},E=function(e){var t=e.signal,n=e.onSignalRemove,a=e.isExpanded,s=e.getSignalEdited,i=e.update;return d.a.createElement("div",{className:"signals-legend-entry-form"},f.map((function(e){var n=S[e.type];return d.a.createElement("div",{className:"signals-legend-entry-form-field",key:e.field},d.a.createElement(n,{fieldSpec:e,signal:t,isExpanded:a,signalEdited:s(e.field),updateField:i}))})),d.a.createElement("div",{className:"signals-legend-entry-form-remove"},d.a.createElement("button",{className:"button--tiny button--alpha",onClick:function onClick(){return n(t)}},"Remove Signal")))},y=n(57),O=n(58);function _templateObject(){var e=Object(y.a)(["\n  display: block;\n  height: 100%;\n  left: 0;\n  position: absolute;\n  width: 1.5%;\n  opacity: ",";\n  background-color: rgb(",");\n"]);return _templateObject=function _templateObject(){return e},e}var C=Object(O.a)("div")(_templateObject(),(function(e){return e.isHighlighted?.5:.3}),(function(e){return e.rgb.join(",")})),_=function(e){function SignalLegendEntry(e){var t;return Object(i.a)(this,SignalLegendEntry),(t=Object(o.a)(this,Object(l.a)(SignalLegendEntry).call(this,e))).updateField=function(e,n){var s=t.state.signalEdited,i=t.props.signal;e.transform?s=e.transform(n,s):s[e.field]=n,t.setState({signalEdited:s});var r=Object.assign(Object.create(i),i);Object.entries(s).forEach((function(e){var t=Object(a.a)(e,2),n=t[0],s=t[1];r[n]=s})),t.props.onSignalChange(r,i)},t.toggleEditing=function(e){if(!t.props.isLogEvent){var n=t.state.signalEdited,s=t.props,i=s.signal,r=s.isExpanded,o=Object.assign(Object.create(i),i);r?(Object.entries(n).forEach((function(e){var t=Object(a.a)(e,2),n=t[0],s=t[1],i=SignalLegendEntry.fieldSpecForName(n);i&&"number"===i.type&&isNaN(parseInt(s,10))&&(s=0),o[n]=s})),t.props.onSignalChange(o,i)):n=o,t.setState({signalEdited:n}),t.props.toggleExpandSignal(i),e.stopPropagation()}},t.toggleSignalPlot=function(e){var n=t.props,a=n.signal,s=n.isPlotted;e.preventDefault(),t.props.onSignalPlotChange(!s,a.uid)},t.getSignalEdited=function(e){return t.state.signalEdited[e]},t.state={signalEdited:Object.assign(Object.create(e.signal),e.signal)},t}return Object(c.a)(SignalLegendEntry,e),Object(r.a)(SignalLegendEntry,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){e.signal.equals(this.props.signal)||this.setState({signalEdited:Object.assign(Object.create(e.signal),e.signal)})}},{key:"render",value:function render(){var e=this,t=this.props,n=t.signal,a=t.isHighlighted,s=t.color,i=t.isPlotted,r=t.isExpanded,o=r?"is-expanded":null,l=i?"button":"button--alpha";return d.a.createElement("div",{className:h()("signals-legend-entry",o),onMouseEnter:function onMouseEnter(){return e.props.onSignalHover(n)},onMouseLeave:function onMouseLeave(){return e.props.onSignalHoverEnd(n)}},d.a.createElement(C,{isHighlighted:a,rgb:s}),d.a.createElement("div",{className:"signals-legend-entry-header"},d.a.createElement("div",{className:"signals-legend-entry-header-name",onClick:this.toggleEditing},d.a.createElement("strong",null,n.name)),d.a.createElement("div",{className:"signals-legend-entry-header-action",onClick:this.toggleSignalPlot},d.a.createElement("button",{className:h()("button--tiny",l)},i?"Hide Plot":"Show Plot"))),d.a.createElement("div",{className:"signals-legend-entry-body"},r&&d.a.createElement(E,{signal:n,onSignalRemove:this.props.onSignalRemove,isExpanded:r,getSignalEdited:this.getSignalEdited,update:this.updateField})))}}]),SignalLegendEntry}(u.Component);_.fieldSpecForName=function(e){return f.find((function(t){return t.field===e}))},n.d(t,"a",(function(){return k}));var k=function(e){function SignalLegend(){var e,t;Object(i.a)(this,SignalLegend);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(l.a)(SignalLegend)).call.apply(e,[this].concat(a)))).state={expandedSignals:[]},t.toggleExpandSignal=function(e){var n=t.state.expandedSignals;if(n.includes(e.uid)){var a=n.filter((function(t){return t!==e.uid}));t.setState({expandedSignals:a})}else{var i=[].concat(Object(s.a)(n),[e.uid]);t.setState({expandedSignals:i})}},t}return Object(c.a)(SignalLegend,e),Object(r.a)(SignalLegend,[{key:"checkExpandedSignal",value:function checkExpandedSignal(e){return this.state.expandedSignals.includes(e)}},{key:"render",value:function render(){var e=this,t=this.props,n=t.signals,s=t.highlightedSignal,i=Object.entries(n).sort((function(e,t){var n=Object(a.a)(e,2),s=(n[0],n[1]),i=Object(a.a)(t,2),r=(i[0],i[1]);return s.startBit<r.startBit?-1:1})).map((function(t){var i=Object(a.a)(t,2),r=i[0],o=i[1],l=n[r].colors,c=s===r;return d.a.createElement(_,{isLogEvent:e.props.isLogEvent,key:o.uid,signal:o,isHighlighted:c,color:l,onSignalHover:e.props.onSignalHover,onSignalHoverEnd:e.props.onSignalHoverEnd,onTentativeSignalChange:e.props.onTentativeSignalChange,onSignalChange:e.props.onSignalChange,onSignalRemove:e.props.onSignalRemove,onSignalPlotChange:e.props.onSignalPlotChange,toggleExpandSignal:e.toggleExpandSignal,isPlotted:-1!==e.props.plottedSignalUids.indexOf(o.uid),isExpanded:e.checkExpandedSignal(o.uid)})})).filter((function(e){return null!=e})).reduce((function(e,t){return e.concat(t)}),[]);return d.a.createElement("div",{className:"cabana-explorer-signals-legend"},i)}}]),SignalLegend}(u.Component)},232:function(e,t,n){e.exports=n(530)},266:function(e,t){},30:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D}));var a=n(11),s=n(2),i=n(3),r=n(214),o=n.n(r),l=n(215),c=n(38),u=n(56),d=n(127),g=n(17),h=n(85),m=n(379).UINT64,p=/^CM_ *"(.*)";/,f=/^CM_ *"(.*)/,b=/^BO_ (\w+) (\w+) *: (\w+) (\w+)/,v=/^SG_ (\w+) : (\d+)\|(\d+)@(\d+)([+|-]) \(([0-9.+-eE]+),([0-9.+-eE]+)\) \[([0-9.+-eE]+)\|([0-9.+-eE]+)\] "(.*)" (.*)/,S=/^SG_ (\w+) (\w+) *: (\d+)\|(\d+)@(\d+)([+|-]) \(([0-9.+-eE]+),([0-9.+-eE]+)\) \[([0-9.+-eE]+)\|([0-9.+-eE]+)\] "(.*)" (.*)/,E=/^VAL_ (\w+) (\w+) (.*);/,y=/^VAL_TABLE_ (\w+) (.*);/,O=/^BO_TX_BU_ ([0-9]+) *: *(.+);/,C=/^CM_ SG_ *(\w+) *(\w+) *"(.*)";/,_=/^CM_ SG_ *(\w+) *(\w+) *"(.*)/,k=/^CM_ BO_ *(\w+) *"(.*)";/,M=/^CM_ BO_ *(\w+) *"(.*)/,x=/^BU_:(.*)/,w=/^CM_ BU_ *(\w+) *"(.*)";/,P=/^CM_ BU_ *(\w+) *"(.*)/;function floatOrInt(e){return Number.isInteger(e)?parseInt(e,10):parseFloat(e)}var D=function(){function DBC(e){Object(s.a)(this,DBC),this.boardUnits=[],this.comments=[],this.messages=new Map,void 0!==e&&(this.dbcText=e,this.importDbcString(e))}return Object(i.a)(DBC,[{key:"getMessageFrame",value:function getMessageFrame(e){return h.b(e)?h.a(e):this.messages.get(e)}},{key:"nextNewFrameName",value:function nextNewFrameName(){var e=[],t=!0,n=!1,a=void 0;try{for(var s,i=this.messages.values()[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var r=s.value;e.push(r.name)}}catch(c){n=!0,a=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}var o,l=1;do{o="NEW_MSG_"+l,l++}while(-1!==e.indexOf(o));return o}},{key:"updateBoardUnits",value:function updateBoardUnits(){var e=this.boardUnits.map((function(e){return e.name})),t=Array.from(this.messages.entries()).map((function(e){var t=Object(a.a)(e,2),n=(t[0],t[1]);return Object.values(n.signals)})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return e.receiver})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(t){return-1===e.indexOf(t)})).map((function(e){return new d.a(e)}));this.boardUnits=this.boardUnits.concat(t)}},{key:"text",value:function text(){this.updateBoardUnits();var e='VERSION ""\n\n\n';e+="NS_ :"+this._newSymbols(),e+="\n\nBS_:\n",e+="\nBU_: "+this.boardUnits.map((function(e){return e.text()})).join(" ")+"\n\n\n";var t=[],n=!0,s=!1,i=void 0;try{for(var r,o=this.messages.values()[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var l=r.value;t.push(l)}}catch(u){s=!0,i=u}finally{try{n||null==o.return||o.return()}finally{if(s)throw i}}e+=t.map((function(e){return e.text()})).join("\n\n")+"\n\n",e+=t.map((function(e){return[e.id,e.transmitters.slice(1)]})).filter((function(e){var t=Object(a.a)(e,2);t[0];return t[1].length>0})).map((function(e){var t=Object(a.a)(e,2),n=t[0],s=t[1];return"BO_TX_BU_ ".concat(n," : ").concat(s.join(","),";")})).join("\n")+"\n\n\n",e+=this.boardUnits.filter((function(e){return null!==e.comment})).map((function(e){return"CM_ BU_ ".concat(e.name,' "').concat(e.comment,'";')})).join("\n"),e+=t.filter((function(e){return null!==e.comment})).map((function(e){return"CM_ BO_ ".concat(e.address,' "').concat(e.comment,'";')})).join("\n");var c=t.map((function(e){return Object.values(e.signals).map((function(t){return[e.id,t]}))})).reduce((function(e,t){return e.concat(t)}),[]);return e+=c.filter((function(e){var t=Object(a.a)(e,2);t[0];return null!==t[1].comment})).map((function(e){var t=Object(a.a)(e,2),n=t[0],s=t[1];return"CM_ SG_ ".concat(n," ").concat(s.name,' "').concat(s.comment,'";')})).join("\n")+"\n",e+=c.filter((function(e){var t=Object(a.a)(e,2);t[0];return t[1].valueDescriptions.size>0})).map((function(e){var t=Object(a.a)(e,2),n=t[0];return t[1].valueDescriptionText(n)})).join("\n")+"\n",(e+=this.comments.map((function(e){return'CM_ "'.concat(e,'";')})).join("\n")).trim()+"\n"}},{key:"getMessageName",value:function getMessageName(e){var t=this.getMessageFrame(e);return t&&t.frame?t.frame.name:null}},{key:"getSignals",value:function getSignals(e){var t=this.getMessageFrame(e);return t?t.signals:{}}},{key:"createFrame",value:function createFrame(e){var t=new u.a({name:this.nextNewFrameName(),id:e,size:8});return this.messages.set(e,t),t}},{key:"setSignals",value:function setSignals(e,t){var n=this.getMessageFrame(e);if(n){var a=Object.assign(Object.create(n),n);a.signals=t,this.messages.set(e,a)}else{var s=this.createFrame(e);s.signals=t,this.messages.set(e,s),this.updateBoardUnits()}}},{key:"addSignal",value:function addSignal(e,t){var n=this.getMessageFrame(e);n&&(n.signals[t.name]=t,this.updateBoardUnits())}},{key:"importDbcString",value:function importDbcString(e){for(var t=[],n=new Map,s=[],i=new Map,r=0,o=null,g=e.split("\n"),h=0;h<g.length;h++){var m=g[h].trim();if(0!==m.length){if(null!=o){var D=o,T=D.type,j=D.data;m=m.replace(/" *;/,"");var N="\n".concat(m.substr(0,m.length));if(-1!==m.indexOf('"')&&(o=null,N=N.substr(0,N.length-1)),"FollowUpSignalComment"===T)j.comment+=N;else if("FollowUpMsgComment"===T){j.comment+=N}else if("FollowUpBoardUnitComment"===T){j.comment+=N}else if("FollowUpDbcComment"===T){var B=this.comments[this.comments.length-1];this.comments[this.comments.length-1]=B+N}}if(0===m.indexOf("BO_ ")){var L=m.match(b);if(null===L){t.push("failed to parse message definition on line ".concat(h+1," -- ").concat(m));continue}var R=L.slice(1),I=Object(a.a)(R,4),G=I[0],A=I[1],U=I[2],F=I[3];r=parseInt(G,0),U=parseInt(U,10);var X=new u.a({name:A,id:r,size:U,transmitters:[F]});n.set(r,X)}else if(0===m.indexOf("SG_")){var H=m.match(v);if(null===H){if(null===(H=m.match(S))){t.push("failed to parse signal definition on line ".concat(h+1," -- ").concat(m));continue}H=H[1]+H.slice(3)}else H=H.slice(1);var W=H,V=Object(a.a)(W,11),z=V[0],Y=V[1],K=V[2],J=V[3],q=V[4],Q=V[5],$=V[6],Z=V[7],ee=V[8],te=V[9],ne=V[10],ae={name:z,startBit:Y=parseInt(Y,10),size:K=parseInt(K,10),isLittleEndian:J=1===parseInt(J,10),isSigned:q="-"===q,factor:Q=floatOrInt(Q),offset:$=floatOrInt($),unit:te,min:Z=floatOrInt(Z),max:ee=floatOrInt(ee),receiver:ne.split(",").map((function(e){return e.trim()}))},se=new c.a(ae);void 0!==n.get(r)?n.get(r).signals[z]=se:l.a.warn("importDbcString: could not add signal: "+z+" due to missing message: "+r)}else if(0===m.indexOf("VAL_ ")){var ie=m.match(E);if(null!==ie){var re=ie.slice(1),oe=Object(a.a)(re,3),le=oe[0],ce=oe[1],ue=oe[2];ue=ue.split('"').map((function(e){return e.trim()})).filter((function(e){return e.length>0})),le=parseInt(le,10);var de=n.get(le).signals[ce];if(void 0===de){t.push("could not find signal for value description on line ".concat(h+1," -- ").concat(m));continue}for(var ge=0;ge<ue.length;ge+=2){var he=ue[ge].trim(),me=ue[ge+1].trim();de.valueDescriptions.set(he,me)}}else t.push("failed to parse value description on line ".concat(h+1," -- ").concat(m))}else if(0===m.indexOf("VAL_TABLE_ ")){var pe=m.match(y);if(null!==pe){var fe=new Map,be=pe.slice(1),ve=Object(a.a)(be,2),Se=ve[0],Ee=ve[1];Ee=Ee.split('"').map((function(e){return e.trim()})).filter((function(e){return e.length>0}));for(var ye=0;ye<Ee.length;ye+=2){var Oe=Ee[ye],Ce=Ee[ye+1];fe.set(Oe,Ce)}i.set(Se,fe)}else t.push("failed to parse value table on line ".concat(h+1," -- ").concat(m))}else if(0===m.indexOf("BO_TX_BU_ ")){var _e=m.match(O);if(null!==_e){var ke=_e.slice(1),Me=Object(a.a)(ke,2),xe=Me[0],we=Me[1];xe=parseInt(xe,10);var Pe=n.get(xe);Pe.transmitters.push(we),n.set(xe,Pe)}else t.push("failed to parse message transmitter definition on line ".concat(h+1," -- ").concat(m))}else if(0===m.indexOf("CM_ SG_ ")){var De=m.match(C),Te=!1;if(null===De&&(De=m.match(_),Te=!0),null===De){t.push("failed to parse signal comment on line ".concat(h+1," -- ").concat(m));continue}var je=De.slice(1),Ne=Object(a.a)(je,3),Be=Ne[0],Le=Ne[1],Re=Ne[2];Be=parseInt(Be,10);var Ie=n.get(Be);if(void 0===Ie){t.push("failed to parse signal comment on line ".concat(h+1," -- ").concat(m,":\n                                    message id ").concat(Be," does not exist prior to this line"));continue}var Ge=Ie.signals[Le];if(void 0===Ge){t.push("failed to parse signal comment on line ".concat(h+1," -- ").concat(m));continue}Ge.comment=Re,n.set(Be,Ie),Te&&(o={type:"FollowUpSignalComment",data:Ge})}else if(0===m.indexOf("CM_ BO_ ")){var Ae=m.match(k),Ue=!1;if(null===Ae&&(Ue=!0,null===(Ae=m.match(M)))){t.push("failed to message comment on line ".concat(h+1," -- ").concat(m));continue}var Fe=Ae.slice(1),Xe=Object(a.a)(Fe,2),He=Xe[0],We=Xe[1];He=parseInt(He,10);var Ve=n.get(He);Ve.comment=We,Ue&&(o={type:"FollowUpMsgComment",data:Ve})}else if(0===m.indexOf("BU_: ")){var ze=m.match(x);if(null===ze){t.push("failed to parse board unit definition on line ".concat(h+1," -- ").concat(m));continue}var Ye=ze.slice(1),Ke=Object(a.a)(Ye,1)[0].split(" ").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).map((function(e){return new d.a(e)}));s=s.concat(Ke)}else if(0===m.indexOf("CM_ BU_ ")){if("continue"===function(){var e=m.match(w),n=!1;if(null===e&&(n=!0,null===(e=m.match(P))))return t.push("failed to parse board unit comment on line ".concat(h+1," -- ").concat(m)),"continue";var i=e.slice(1),r=Object(a.a)(i,2),l=r[0],c=r[1],u=s.find((function(e){return e.name===l}));u&&(u.comment=c),n&&(o={type:"FollowUpBoardUnitComment",data:u})}())continue}else if(0===m.indexOf("CM_ ")){var Je=m.match(p),qe=!1;if(null===Je){if(null===(Je=m.match(f))){t.push("failed to parse dbc comment on line ".concat(h+1," -- ").concat(m));continue}qe=!0}var Qe=Je.slice(1),$e=Object(a.a)(Qe,1)[0];this.comments.push($e),qe&&(o={type:"FollowUpDbcComment",data:$e})}}}t.length,this.messages=n,this.boardUnits=s,this.valueTables=i}},{key:"valueForInt64Signal",value:function valueForInt64Signal(e,t){var n,a,s,i=4*t.length;if(e.isLittleEndian?(n=m(function swapOrder(e,t,n){for(var a=[],s=0;s<e.length;s+=t)for(var i=e.slice(s,s+t),r=t-n;r>-n;r-=n)a.push(i.slice(r,r+n));return a.join("")}(t,16,2),16),a=e.startBit,s=m(a)):(n=m(t,16),a=g.a.bigEndianBitIndex(e.startBit),s=m(i-(a+e.size))),s<0)return null;var r=m(Math.pow(2,e.size)-1),o=n.shiftr(s).and(r).toNumber();return e.isSigned&&o&Math.pow(2,e.size-1)&&(o-=Math.pow(2,e.size)),o=o*e.factor+e.offset}},{key:"valueForInt32Signal",value:function valueForInt32Signal(e,t){var n,a,s;if(e.isLittleEndian)n=64-e.startBit-e.size;else{var i=(-e.startBit-1)%8;i<0&&(i+=8),n=8*Math.floor(e.startBit/8)+i}var r=Math.min(4,Math.floor(e.startBit/8));return e.isLittleEndian?(s=t.readUInt32LE(r),a=e.startBit-8*r):(s=t.readUInt32BE(r),a=32-(n-8*r+e.size)),s=s>>>a&(1<<e.size)-1,e.isSigned&&s>>>e.size-1&&(s-=1<<e.size),s*e.factor+e.offset}},{key:"getSignalValues",value:function getSignalValues(t,n){var a=this;if(!this.messages.has(t)&&!h.b(t))return{};var s=this.getMessageFrame(t),i=e.from(n),r=i;if(8!==i.length){var l=o()(i.toString("hex"),16,"0");r=e.from(l,"hex")}var c=r.toString("hex"),u={};return Object.values(s.signals).forEach((function(e){var t;t=e.size>32?a.valueForInt64Signal(e,c):a.valueForInt32Signal(e,r),u[e.name]=t})),u}},{key:"getChffrMetricMappings",value:function getChffrMetricMappings(){var e=this.comments.find((function(e){return 0===e.indexOf("CHFFR_METRIC")}));return e?e.split(";").map((function(e){return e.trim().split(" ")})).reduce((function(e,t){var n=Object(a.a)(t,6),s=(n[0],n[1]),i=n[2],r=n[3],o=n[4],l=n[5];return e[r]={messageId:parseInt(s,10),signalName:i,factor:parseFloat(o),offset:parseFloat(l)},e}),{}):null}},{key:"_newSymbols",value:function _newSymbols(){return"\n    NS_DESC_\n    CM_\n    BA_DEF_\n    BA_\n    VAL_\n    CAT_DEF_\n    CAT_\n    FILTER\n    BA_DEF_DEF_\n    EV_DATA_\n    ENVVAR_DATA_\n    SGTYPE_\n    SGTYPE_VAL_\n    BA_DEF_SGTYPE_\n    BA_SGTYPE_\n    SIG_TYPE_REF_\n    VAL_TABLE_\n    SIG_GROUP_\n    SIG_VALTYPE_\n    SIGTYPE_VALTYPE_\n    BO_TX_BU_\n    BA_DEF_REL_\n    BA_REL_\n    BA_DEF_DEF_REL_\n    BU_SG_REL_\n    BU_EV_REL_\n    BU_BO_REL_\n    SG_MUL_VAL_"}}]),DBC}()}).call(this,n(20).Buffer)},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(11),s=n(2),i=n(3),r=n(17),o=function(){function Signal(e){var t=e.name,n=e.startBit,a=void 0===n?0:n,i=e.size,r=void 0===i?0:i,o=e.isLittleEndian,l=void 0===o||o,c=e.isSigned,u=void 0!==c&&c,d=e.isFloat,g=void 0!==d&&d,h=e.factor,m=void 0===h?1:h,p=e.offset,f=void 0===p?0:p,b=e.unit,v=void 0===b?"":b,S=e.receiver,E=void 0===S?["XXX"]:S,y=e.comment,O=void 0===y?null:y,C=e.multiplex,_=void 0===C?null:C,k=e.min,M=void 0===k?null:k,x=e.max,w=void 0===x?null:x,P=e.valueDescriptions,D=void 0===P?new Map:P;Object(s.a)(this,Signal),Object.assign(this,{name:t,startBit:a,size:r,isLittleEndian:l,isSigned:u,isFloat:g,factor:m,offset:f,unit:v,receiver:E,comment:O,multiplex:_,valueDescriptions:D});var T=Math.random().toString(36);null==M&&(M=this.calculateMin()),null==w&&(w=this.calculateMax());var j=this.generateColors();Object.assign(this,{min:M,max:w,uid:T,colors:j})}return Object(i.a)(Signal,[{key:"text",value:function text(){var e=this.multiplex?" "+this.multiplex:"",t=this.isLittleEndian?1:0,n=this.isSigned?"-":"+";return"SG_ ".concat(this.name).concat(e," : ")+"".concat(this.startBit,"|").concat(this.size,"@").concat(t).concat(n)+" (".concat(this.factor,",").concat(this.offset,")")+" [".concat(this.min,"|").concat(this.max,"]")+' "'.concat(this.unit,'" ').concat(this.receiver)}},{key:"valueDescriptionText",value:function valueDescriptionText(e){var t=Array.from(this.valueDescriptions.entries()).reduce((function(e,t){var n=Object(a.a)(t,2),s=n[0],i=n[1];return e+s+' "'.concat(i,'" ')}),"");return"VAL_ ".concat(e," ").concat(this.name," ").concat(t,";")}},{key:"lsbBitIndex",value:function lsbBitIndex(){if(this.isLittleEndian)return this.startBit;var e=this.lsbBitNumber();return r.a.matrixBitNumber(e)}},{key:"lsbBitNumber",value:function lsbBitNumber(){return r.a.bigEndianBitIndex(this.startBit)+this.size-1}},{key:"msbBitIndex",value:function msbBitIndex(){return this.isLittleEndian?this.startBit+this.size-1:this.startBit}},{key:"littleEndianBitDescription",value:function littleEndianBitDescription(e){var t=[this.startBit,this.startBit+this.size-1];return e<t[0]||e>t[1]?null:{bitNumber:e-t[0],isLsb:e===t[0],isMsb:e===t[1]}}},{key:"bigEndianBitDescription",value:function bigEndianBitDescription(e){var t=r.a.bigEndianBitIndex(this.startBit),n=[t,t+this.size-1],a=r.a.bigEndianBitIndex(e);return a<n[0]||a>n[1]?null:{bitNumber:a,isLsb:a===n[1],isMsb:e===this.startBit,range:n}}},{key:"bitDescription",value:function bitDescription(e){return this.isLittleEndian?this.littleEndianBitDescription(e):this.bigEndianBitDescription(e)}},{key:"calculateRawRange",value:function calculateRawRange(){var e=Math.pow(2,this.size);return this.isSigned&&(e/=2),[this.isSigned?-1*e:0,e-1]}},{key:"calculateMin",value:function calculateMin(){var e=this.calculateRawRange()[0];return this.offset+e*this.factor}},{key:"calculateMax",value:function calculateMax(){var e=this.calculateRawRange()[1];return this.offset+e*this.factor}},{key:"generateColors",value:function generateColors(){for(var e=Array(3),t=0;t<3;t++)e[t]=Math.floor(211*Math.random());return e}},{key:"equals",value:function equals(e){var t=this;return e.name===this.name&&e.startBit===this.startBit&&e.size===this.size&&e.isLittleEndian===this.isLittleEndian&&e.isSigned===this.isSigned&&e.isFloat===this.isFloat&&e.factor===this.factor&&e.offset===this.offset&&e.unit===this.unit&&e.receiver.length===this.receiver.length&&e.receiver.every((function(e,n){return e===t.receiver[n]}))&&e.comment===this.comment&&e.multiplex===this.multiplex}}]),Signal}()},465:function(e,t,n){e.exports=n.p+"static/media/webusb-enable-experimental-features.e5a08e76.png"},466:function(e,t,n){e.exports=n.p+"static/media/webusb-enable-webusb.aceef6a0.png"},522:function(e,t){},525:function(e,t,n){e.exports=function(){return new Worker(n.p+"44d57ae622d2d3a06175.worker.js")}},526:function(e,t,n){e.exports=function(){return new Worker(n.p+"8406be4e6a1d28b3c855.worker.js")}},527:function(e,t,n){e.exports=function(){return new Worker(n.p+"6f909e9787210a36c8bc.worker.js")}},528:function(e,t,n){e.exports=function(){return new Worker(n.p+"ca759c33ef1bfbdfb66f.worker.js")}},529:function(e,t,n){},530:function(e,t,n){"use strict";n.r(t);var a=n(9),s=n.n(a),i=n(12),r=n(11),o=n(210),l=n.n(o);var c={init:function init(){var e={};"undefined"!==typeof __webpack_hash__&&(e.release=__webpack_hash__),l.a.config("https://50006e5d91894f508dd288bbbf4585a6@sentry.io/185303",e).install()}},u=n(1),d=n.n(u),g=n(211),h=n.n(g),m=n(49),p=n.n(m),f=n(31),b=n(5),v=n(10),S=n(2),E=n(3),y=n(7),O=n(4),C=n(6),_=n(8),k=n(50),M=n.n(k),x=n(14),w=n.n(x),P=n(212),D=n(213),T=n.n(D),j=n(13),N=n(22);function authorizeUrl(e){var t={client_id:j.d,redirect_uri:j.e,scope:"user:email public_repo",state:JSON.stringify({route:e})};return"http://github.com/login/oauth/authorize?".concat(Object(N.c)(t))}var B=n(30),L=n(216),R=n.n(L),I=function(e){function MessageBytes(e){var t;return Object(S.a)(this,MessageBytes),(t=Object(y.a)(this,Object(O.a)(MessageBytes).call(this,e))).state={isVisible:!0,lastMessageIndex:0,lastSeekTime:0},t.onVisibilityChange=t.onVisibilityChange.bind(Object(C.a)(t)),t.onCanvasRefAvailable=t.onCanvasRefAvailable.bind(Object(C.a)(t)),t}return Object(_.a)(MessageBytes,e),Object(E.a)(MessageBytes,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){if(e.live){var n=e.message.entries[e.message.entries.length-1],a=this.props.message.entries[this.props.message.entries.length-1];return n.hexData!==a.hexData}return e.seekTime!==this.props.seekTime}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){function frameForTime(e){return~~(60*e)}this.props.seekIndex===e.seekIndex&&frameForTime(this.props.seekTime)===frameForTime(e.seekTime)||this.updateCanvas(e)}},{key:"findMostRecentMessage",value:function findMostRecentMessage(e){var t=this.props.message,n=this.state,a=n.lastMessageIndex,s=n.lastSeekTime,i=null;if(e>=s)for(var r=a;r<t.entries.length;++r){var o=t.entries[r];if(o&&o.relTime>=e){i=r;break}}if(i||(i=t.entries.findIndex((function(t){return t.relTime>=e}))),i)return this.setState({lastMessageIndex:i,lastSeekTime:e}),t.entries[i]}},{key:"updateCanvas",value:function updateCanvas(e){var t=e.message,n=e.live,a=e.seekTime;if(this.canvas&&0!==t.entries.length){var s=t.entries[t.entries.length-1];n||(s=this.findMostRecentMessage(a))||(s=t.entries[0]);for(var i=this.canvas.getContext("2d"),r=0;r<t.byteStateChangeCounts.length;++r){var o=s.hexData.substr(2*r,2);i.fillStyle=t.byteColors[r],i.fillRect(20*r,0,20,15),i.font="12px Courier",i.fillStyle="white",o?i.fillText(o,20*r+2,12):i.fillText("-",20*r+7,12)}}}},{key:"onVisibilityChange",value:function onVisibilityChange(e){e!==this.state.isVisible&&this.setState({isVisible:e})}},{key:"onCanvasRefAvailable",value:function onCanvasRefAvailable(e){e&&(this.canvas=e,this.canvas.width=160*window.devicePixelRatio,this.canvas.height=15*window.devicePixelRatio,this.canvas.getContext("2d").scale(window.devicePixelRatio,window.devicePixelRatio))}},{key:"render",value:function render(){return d.a.createElement("canvas",{ref:this.onCanvasRefAvailable,className:"cabana-meta-messages-list-item-bytes-canvas"})}}]),MessageBytes}(u.Component),G=n(389).ckmeans,A=function(e){function Meta(e){var t;Object(S.a)(this,Meta),(t=Object(y.a)(this,Object(O.a)(Meta).call(this,e))).onFilterChanged=t.onFilterChanged.bind(Object(C.a)(t)),t.onFilterFocus=t.onFilterFocus.bind(Object(C.a)(t)),t.onFilterUnfocus=t.onFilterUnfocus.bind(Object(C.a)(t)),t.canMsgFilter=t.canMsgFilter.bind(Object(C.a)(t)),t.logEventMsgFilter=t.logEventMsgFilter.bind(Object(C.a)(t)),t.renderMessageBytes=t.renderMessageBytes.bind(Object(C.a)(t)),t.toggleShowLogEvents=t.toggleShowLogEvents.bind(Object(C.a)(t));var n=e.dbcLastSaved;return t.state={filterText:"Filter",lastSaved:null!==n?t.props.dbcLastSaved.fromNow():null,hoveredMessages:[],orderedMessageKeys:[],showLogEvents:!1},t}return Object(_.a)(Meta,e),Object(E.a)(Meta,[{key:"componentWillMount",value:function componentWillMount(){var e=this;this.lastSavedTimer=setInterval((function(){null!==e.props.dbcLastSaved&&e.setState({lastSaved:e.props.dbcLastSaved.fromNow()})}),3e4)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.clearInterval(this.lastSavedTimer)}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){e.lastSaved!==this.props.lastSaved&&"object"===typeof e&&this.setState({lastSaved:e.dbcLastSaved.fromNow()});var t=Object.keys(e.messages);if(JSON.stringify(t)!==JSON.stringify(Object.keys(this.props.messages))){var n=this.sortMessages(e.messages);this.setState({hoveredMessages:[],orderedMessageKeys:n})}else if(0===this.state.orderedMessageKeys.length||!this.props.live&&this.props.messages&&e.messages&&this.byteCountsDidUpdate(this.props.messages,e.messages)){var a=this.sortMessages(e.messages);this.setState({orderedMessageKeys:a})}}},{key:"byteCountsDidUpdate",value:function byteCountsDidUpdate(e,t){return Object.entries(t).some((function(t){var n=Object(r.a)(t,2),a=n[0],s=n[1];return JSON.stringify(s.byteStateChangeCounts)!==JSON.stringify(e[a].byteStateChangeCounts)}))}},{key:"sortMessages",value:function sortMessages(e){if(0===Object.keys(e).length)return[];var t=Object.entries(e).reduce((function(e,t){var n=Object(r.a)(t,2),a=(n[0],n[1]),s=a.entries.length.toString();return e[s]?e[s].push(a):e[s]=[a],e}),{}),n=Object.keys(t).map((function(e){return parseInt(e,10)}));return G(n,Math.min(n.length,10)).map((function(e){return e.map((function(e){return t[e.toString()]})).reduce((function(e,t){return e.concat(t)}),[]).sort((function(e,t){return e.address<t.address?1:-1})).map((function(e){return e.id}))})).reduce((function(e,t){return e.concat(t)}),[]).reverse()}},{key:"toggleShowLogEvents",value:function toggleShowLogEvents(){this.setState({showLogEvents:!this.state.showLogEvents})}},{key:"onFilterChanged",value:function onFilterChanged(e){var t=e.target.value;"Filter"===t.trim()&&(t=""),this.setState({filterText:t})}},{key:"onFilterFocus",value:function onFilterFocus(e){"Filter"===this.state.filterText.trim()&&this.setState({filterText:""})}},{key:"onFilterUnfocus",value:function onFilterUnfocus(e){""===this.state.filterText.trim()&&this.setState({filterText:"Filter"})}},{key:"canMsgFilter",value:function canMsgFilter(e){if(!e.isLogEvent){var t=this.state.filterText,n=e.frame?e.frame.name:"";return"Filter"===t||""===t||-1!==e.id.toLowerCase().indexOf(t.toLowerCase())||-1!==n.toLowerCase().indexOf(t.toLowerCase())}}},{key:"logEventMsgFilter",value:function logEventMsgFilter(e){if(e.isLogEvent){var t=this.state.filterText,n=e.frame?e.frame.name:"";return"Filter"===t||""===t||-1!==e.id.toLowerCase().indexOf(t.toLowerCase())||-1!==n.toLowerCase().indexOf(t.toLowerCase())}}},{key:"lastSavedPretty",value:function lastSavedPretty(){return this.props.dbcLastSaved.fromNow()}},{key:"onMessageHover",value:function onMessageHover(e){var t=this.state.hoveredMessages;-1===t.indexOf(e)&&(t.push(e),this.setState({hoveredMessages:t}))}},{key:"onMessageHoverEnd",value:function onMessageHoverEnd(e){var t=this.state.hoveredMessages;t=t.filter((function(t){return t!==e})),this.setState({hoveredMessages:t})}},{key:"onMsgRemoveClick",value:function onMsgRemoveClick(e){var t=this.state.selectedMessages;t=t.filter((function(t){return t!==e})),this.props.onMessageUnselected(e),this.setState({selectedMessages:t})}},{key:"onMessageSelected",value:function onMessageSelected(e){var t=[];t.push(e),this.props.updateSelectedMessages(t),this.props.onMessageSelected(e)}},{key:"orderedMessages",value:function orderedMessages(){var e=this.state.orderedMessageKeys,t=this.props.messages;return e.map((function(e){return t[e]}))}},{key:"selectedMessageClass",value:function selectedMessageClass(e){return this.props.selectedMessages.includes(e)?"is-selected":null}},{key:"renderMessageBytes",value:function renderMessageBytes(e){var t=this;return d.a.createElement("tr",{onClick:function onClick(){t.onMessageSelected(e.id)},key:e.id,className:w()("cabana-meta-messages-list-item",this.selectedMessageClass(e.id))},e.isLogEvent?d.a.createElement("td",{colSpan:"2"},e.id):d.a.createElement(d.a.Fragment,null,d.a.createElement("td",null,e.frame?e.frame.name:"untitled"),d.a.createElement("td",null,e.id)),d.a.createElement("td",null,e.entries.length),d.a.createElement("td",null,d.a.createElement("div",{className:"cabana-meta-messages-list-item-bytes"},d.a.createElement(I,{key:e.id,message:e,seekIndex:this.props.seekIndex,seekTime:this.props.seekTime,live:this.props.live}))))}},{key:"renderCanMessages",value:function renderCanMessages(){return this.orderedMessages().filter(this.canMsgFilter).map(this.renderMessageBytes)}},{key:"renderLogEventMessages",value:function renderLogEventMessages(){return this.orderedMessages().filter(this.logEventMsgFilter).map(this.renderMessageBytes)}},{key:"renderAvailableMessagesList",value:function renderAvailableMessagesList(){return 0===Object.keys(this.props.messages).length?d.a.createElement("p",null,"Loading messages..."):d.a.createElement(d.a.Fragment,null,d.a.createElement("table",{cellPadding:"5"},this.state.showLogEvents&&d.a.createElement(d.a.Fragment,null,d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("td",{colSpan:"2"},"Name"),d.a.createElement("td",null,"Count"),d.a.createElement("td",null,"Bytes"))),d.a.createElement("tbody",null,this.renderLogEventMessages(),d.a.createElement("tr",null,d.a.createElement("td",{colSpan:"4"},d.a.createElement("hr",null))))),d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("td",null,"Name"),d.a.createElement("td",null,"ID"),d.a.createElement("td",null,"Count"),d.a.createElement("td",null,"Bytes"))),d.a.createElement("tbody",null,this.renderCanMessages())))}},{key:"saveable",value:function saveable(){try{return"serviceWorker"in navigator&&new ReadableStream&&new WritableStream,"saveable"}catch(e){return!1}}},{key:"render",value:function render(){return d.a.createElement("div",{className:"cabana-meta"},d.a.createElement("div",{className:"cabana-meta-header"},d.a.createElement("h5",{className:"cabana-meta-header-label t-capline"},"Currently editing:"),d.a.createElement("strong",{className:"cabana-meta-header-filename"},this.props.dbcFilename),null!==this.props.dbcLastSaved?d.a.createElement("div",{className:"cabana-meta-header-last-saved"},d.a.createElement("p",null,"Last saved: ",this.lastSavedPretty())):null,d.a.createElement("div",{className:"cabana-meta-header-actions ".concat(this.saveable())},d.a.createElement("div",{className:"cabana-meta-header-action"},d.a.createElement("button",{onClick:this.props.showLoadDbc},"Load DBC")),this.saveable()&&d.a.createElement("div",{className:"cabana-meta-header-action"},d.a.createElement("button",{onClick:this.props.saveLog},"Save Log")),this.props.shareUrl?d.a.createElement("div",{className:"cabana-meta-header-action special-wide","data-clipboard-text":this.props.shareUrl,"data-clipboard-action":"copy",ref:function ref(e){return e?new R.a(e):null}},d.a.createElement("a",{className:"button",href:this.props.shareUrl,onClick:function onClick(e){return e.preventDefault()}},"Copy Share Link")):null,d.a.createElement("div",{className:"cabana-meta-header-action"},d.a.createElement("button",{onClick:this.props.showSaveDbc},"Save DBC")))),d.a.createElement("div",{className:"cabana-meta-messages"},d.a.createElement("div",{className:"cabana-meta-messages-header"},d.a.createElement("div",{style:{display:"inline-block",float:"right"}},d.a.createElement("h5",{className:"t-capline"},"Show log events",d.a.createElement("input",{type:"checkbox",onChange:this.toggleShowLogEvents,checked:!!this.state.showLogEvents}))),d.a.createElement("h5",{className:"t-capline"},"Available messages")),d.a.createElement("div",{className:"cabana-meta-messages-window"},d.a.createElement("div",{className:"cabana-meta-messages-filter"},d.a.createElement("div",{className:"form-field form-field--small"},d.a.createElement("input",{type:"text",value:this.state.filterText,onFocus:this.onFilterFocus,onBlur:this.onFilterUnfocus,onChange:this.onFilterChanged}))),d.a.createElement("div",{className:"cabana-meta-messages-list"},this.renderAvailableMessagesList()))))}}]),Meta}(u.Component),U=n(217),F=n(84),X=n(532);n(38);var H={elementWiseEquals:function elementWiseEquals(e,t){return e.length===t.length&&e.every((function(e,n){return t[n]===e}))},findIndexRight:function findIndexRight(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return n}};function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _calcGraphData(e,t,n){if(!e)return null;var a=Object.values(e.frame.signals).find((function(e){return e.uid===t}));if(!a)return console.warn("_calcGraphData: no signal",t,e),null;var s=[],i=Math.floor(e.entries.length/j.a);if(0===i)s=e.entries;else{for(var r=0;r<e.entries.length;r+=i)s.push(e.entries[r]);s.push(e.entries[e.entries.length-1])}if(!s.length)return[];var o=s[0].relTime;return s.filter((function(e){return void 0!==e.signals[a.name]})).map((function(e){return e.relTime-o>2&&(t=Math.random().toString(36)),o=e.relTime,{x:e.time,relTime:e.relTime,y:e.signals[a.name],unit:a.unit,color:"rgba(".concat(a.colors.join(","),", 0.5)"),signalName:a.name,signalUid:t}}))}var W={_calcGraphData:_calcGraphData,appendNewGraphData:function appendNewGraphData(e,t,n,a){return e.map((function(e){return e.reduce((function(e,t){var n=t.messageId;t.signalUid;return e.push(n),e}),[])})).map((function(e,t){return{plottedMessageIds:e,index:t}})).filter((function(e){var a=e.plottedMessageIds,s=e.index;if(s<t.length){var i=0,r=t[s].series;return r.length>0&&(i=r[t[s].series.length-1].relTime),a.some((function(e){return n[e].entries.length>0&&0===r.length||n[e].entries.some((function(e){return e.relTime>i}))}))}return!1})).map((function(e){var t=e.plottedMessageIds,n=e.index;return{plottedMessageIds:t=t.reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[]),index:n}})).forEach((function(a){var s=a.plottedMessageIds,i=a.index,r=e[i].reduce((function(e,t){var n=t.messageId,a=t.signalUid;return e[n]||(e[n]=[]),e[n].push(a),e}),{}),o=t[i].series,l=s.reduce((function(e,t){var n=r[t],a=H.findIndexRight(o,(function(e){return-1!==n.indexOf(e.signalUid)}));return a?e[t]=o[a].relTime:o.length>0?e[t]=o[o.length-1].relTime:e[t]=-1,e}),{}),c=[];s.map((function(e){return{messageId:e,entries:n[e].entries}})).filter((function(e){var t=e.messageId,n=e.entries;return n[n.length-1].relTime>l[t]})).forEach((function(e){var t=e.messageId,a=e.entries,s=a.findIndex((function(e){return e.relTime>l[t]})),i=a.slice(s);r[t].forEach((function(e){var a=_calcGraphData(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n[t],{entries:i}),e);c=c.concat(a)}))}));var u=o.length>0&&s.find((function(e){return n[e].entries.length>0&&o[0].relTime<n[e].entries[0].relTime}));if(t[i]={series:t[i].series.concat(c),updated:Date.now()},u){var d=t[i].series.findIndex((function(e){return e.relTime>n[u].entries[0].relTime}));d&&(t[i].series=t[i].series.slice(d))}})),Object(b.a)(t)}},V={$schema:"https://vega.github.io/schema/vega/v5.6.json",width:400,height:200,padding:{top:5,left:30,right:5,bottom:10},signals:[{name:"tipTime",on:[{events:"mousemove",update:"invert('xrelscale', x())"}]},{name:"clickTime",on:[{events:"click",update:"invert('xrelscale', x())"}]},{name:"videoTime"},{name:"segment",value:{data:"table",field:"relTime"}}],data:[{name:"table"},{name:"segment"},{name:"tooltip",source:"table",transform:[{type:"filter",expr:"abs(datum.relTime - tipTime) <= 0.01"},{type:"aggregate",fields:["relTime","y","unit"],ops:["min","argmin","argmin"],as:["min","argmin","argmin"]}]},{name:"ySegmentScale",source:"table",transform:[{type:"filter",expr:"length(segment) != 2 || (datum.relTime >= segment[0] && datum.relTime <= segment[1])"},{type:"extent",field:"y",signal:"ySegment"}]}],scales:[{name:"xscale",type:"linear",range:"width",domain:{data:"table",field:"x"},zero:!1},{name:"xrelscale",type:"linear",range:"width",domain:{data:"table",field:"relTime"},zero:!1,clamp:!0,domainRaw:{signal:"segment"}},{name:"yscale",type:"linear",range:"height",clamp:!0,zero:!1,domain:{signal:"ySegment"}},{name:"color",type:"ordinal",domain:{data:"table",field:"color"},range:{data:"table",field:"color"}}],axes:[{orient:"bottom",scale:"xrelscale",labelOverlap:!0},{orient:"left",scale:"yscale"}],marks:[{type:"group",name:"plot",interactive:!0,encode:{enter:{width:{signal:"width"},height:{signal:"height"},fill:{value:"transparent"}}},signals:[{name:"brush",value:0,on:[{events:"@boundingRect:mousedown",update:"[x(), x()]"},{events:"[@boundingRect:mousedown, window:mouseup] > window:mousemove!",update:"[brush[0], clamp(x(), 0, width)]"},{events:{signal:"delta"},update:"clampRange([anchor[0] + delta, anchor[1] + delta], 0, width)"}]},{name:"anchor",value:null,on:[{events:"@brush:mousedown",update:"slice(brush)"}]},{name:"xdown",value:0,on:[{events:"@brush:mousedown",update:"x()"}]},{name:"xup",value:0,on:[{events:"@brush:mouseup",update:"x()"}]},{name:"delta",value:0,on:[{events:"[@brush:mousedown, window:mouseup] > window:mousemove!",update:"x() - xdown"}]},{name:"segment",push:"outer",on:[{events:"window:mouseup",update:"span(brush) && span(brush) > 15 ? invert('xrelscale', brush) : segment"}]}],marks:[{type:"group",from:{facet:{name:"series",data:"table",groupby:"signalUid"}},marks:{type:"line",name:"lineMark",from:{data:"series"},interactive:!0,encode:{update:{interpolate:{value:"step"},x:{scale:"xrelscale",field:"relTime"},y:{scale:"yscale",field:"y"}},hover:{fillOpacity:{value:.5}},enter:{clip:{value:!0},stroke:{scale:"color",field:"color"},strokeWidth:{value:2}}}}},{type:"rect",interactive:!0,name:"brush",encode:{enter:{y:{value:0},height:{signal:"height"},fill:{value:"#333"},fillOpacity:{value:.2}},update:{x:{signal:"brush[0]"},x2:{signal:"brush[1]"}}}},{type:"rule",encode:{update:{y:{value:0},y2:{field:{group:"height"}},stroke:{value:"#000"},strokeWidth:{value:2},x:{scale:"xrelscale",signal:"videoTime",offset:.5}}}},{type:"symbol",from:{data:"tooltip"},encode:{update:{x:{scale:"xrelscale",field:"argmin.relTime"},y:{scale:"yscale",field:"argmin.y"},size:{value:50},fill:{value:"black"}}}},{type:"group",from:{data:"tooltip"},interactive:!1,name:"tooltipGroup",encode:{update:{x:[{test:"inrange(datum.argmin.relTime + 80, domain('xrelscale'))",scale:"xrelscale",field:"argmin.relTime"},{scale:"xrelscale",field:"argmin.relTime",offset:-80}],y:{scale:"yscale",field:"argmin.y"},height:{value:20},width:{value:80},fill:{value:"#fff"},fillOpacity:{value:.85},stroke:{value:"#aaa"},strokeWidth:{value:.5}}},marks:[{type:"text",interactive:!1,encode:{update:{text:{signal:"format(parent.argmin.relTime, ',.2f') + ': ' + format(parent.argmin.y, ',.2f') + ' ' + parent.argmin.unit"},fill:{value:"black"},fontWeight:{value:"bold"},y:{value:20}}}}]},{type:"rect",name:"boundingRect",interactive:!0,encode:{enter:{width:{signal:"width"},height:{signal:"height"},fill:{value:"transparent"}}}}]}]};function debounce(e,t,n){var a;return function(){var s=this,i=arguments,r=function later(){a=null,n||e.apply(s,i)},o=n&&!a;clearTimeout(a),a=setTimeout(r,t),o&&e.apply(s,i)}}function CanGraph_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function CanGraph_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CanGraph_ownKeys(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CanGraph_ownKeys(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z={position:"absolute",top:0,left:0},Y=function(e){function CanGraph(e){var t;return Object(S.a)(this,CanGraph),(t=Object(y.a)(this,Object(O.a)(CanGraph).call(this,e))).updateBounds=debounce((function(){t.view.signal("width",t.state.bounds.width-70),t.view.signal("height",.4*(t.state.bounds.width-70)),t.view.run()}),100),t.insertData=debounce((function(){if(t.view){var e=t.state.data.series,n=t.view.changeset().remove((function(e){return!0})).insert(e);t.view.change("table",n),t.view.run()}else console.log("Cannot insertData")}),250),t.state={plotInnerStyle:null,shiftX:0,shiftY:0,bounds:null,isDataInserted:!1,data:t.getGraphData(e),spec:t.getGraphSpec(e)},t.onNewView=t.onNewView.bind(Object(C.a)(t)),t.onSignalClickTime=t.onSignalClickTime.bind(Object(C.a)(t)),t.onSignalSegment=t.onSignalSegment.bind(Object(C.a)(t)),t.onDragAnchorMouseDown=t.onDragAnchorMouseDown.bind(Object(C.a)(t)),t.onDragAnchorMouseUp=t.onDragAnchorMouseUp.bind(Object(C.a)(t)),t.onDragStart=t.onDragStart.bind(Object(C.a)(t)),t.onPlotResize=t.onPlotResize.bind(Object(C.a)(t)),t.insertData=t.insertData.bind(Object(C.a)(t)),t}return Object(_.a)(CanGraph,e),Object(E.a)(CanGraph,[{key:"getGraphData",value:function getGraphData(e){var t=-1,n=-1,a=e.plottedSignals.map((function(a){var s=a.messageId,i=a.signalUid,r=e.messages[s].entries;if(r.length){var o=r[0].relTime;t=-1===t?o:Math.min(t,o),o=r[r.length-1].relTime,n=Math.max(n,o)}return W._calcGraphData(e.messages[s],i,0)})).reduce((function(e,t){return e.concat(t)}),[]);return{updated:Date.now(),series:a,firstRelTime:t,lastRelTime:n}}},{key:"getGraphSpec",value:function getGraphSpec(e){return CanGraph_objectSpread({},V,{scales:[CanGraph_objectSpread({},V.scales[0],{domainMin:e.segment[0],domainMax:e.segment[1]})].concat(Object(b.a)(V.scales.slice(1)))})}},{key:"segmentIsNew",value:function segmentIsNew(e){var t=this;return e.length!==this.props.segment.length||!e.every((function(e,n){return t.props.segment[n]===e}))}},{key:"visualChanged",value:function visualChanged(e,t){return e.canReceiveGraphDrop!==t.canReceiveGraphDrop||JSON.stringify(e.dragPos)!==JSON.stringify(t.dragPos)}},{key:"onPlotResize",value:function onPlotResize(e){if(this.view){e&&e.bounds?(this.setState({bounds:e.bounds}),e.bounds):this.state.bounds,this.view.runAfter(this.updateBounds)}}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){if(e.dragPos&&JSON.stringify(e.dragPos)!==JSON.stringify(this.props.dragPos)?this.updateStyleFromDragPos(e.dragPos):e.dragPos||null===this.state.plotInnerStyle||this.setState({plotInnerStyle:null}),this.props.messages!==e.messages||this.props.plottedSignal!==e.plottedSignal){var t=this.getGraphData(e);t.series.length===this.state.data.series.length&&t.firstRelTime===this.state.data.firstRelTime&&t.lastRelTime===this.state.data.lastRelTime||this.setState({data:t})}this.segmentIsNew(e.segment)&&this.setState({spec:this.getGraphSpec(e)})}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return!this.view||(this.state.spec!==t.spec||(this.state.data!==t.data&&this.insertData(),this.props.currentTime!==e.currentTime&&this.view.signal("videoTime",e.currentTime),this.segmentIsNew(e.segment)&&(e.segment.length>0?this.view.signal("segment",e.segment):this.view.signal("segment",0)),this.view.runAsync(),!1))}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){this.view&&(this.props.segment.length>0?this.view.signal("segment",this.props.segment):this.view.signal("segment",0),this.view.signal("videoTime",this.props.currentTime),this.view.runAsync())}},{key:"updateStyleFromDragPos",value:function updateStyleFromDragPos(e){var t=e.left,n=e.top,a=CanGraph_objectSpread({},this.state.plotInnerStyle);a.left=t,a.top=n,this.setState({plotInnerStyle:a})}},{key:"onNewView",value:function onNewView(e){this.view=e,this.state.bounds&&this.onPlotResize(),this.props.segment.length>0&&e.signal("segment",this.props.segment),e.signal("videoTime",this.props.currentTime),this.insertData()}},{key:"onSignalClickTime",value:function onSignalClickTime(e,t){void 0!==t&&this.props.onRelativeTimeClick(this.props.messageId,t)}},{key:"onSignalSegment",value:function onSignalSegment(e,t){var n=this;Array.isArray(t)&&(this.props.onSegmentChanged(this.props.messageId,t),this.view&&this.view.runAfter((function(){var e=n.view.getState();e.subcontext[0].signals.brush=0,n.view.setState(e),n.insertData()})))}},{key:"plotInnerStyleFromMouseEvent",value:function plotInnerStyleFromMouseEvent(e){var t=this.state,n=t.shiftX,a=t.shiftY,s=CanGraph_objectSpread({},z),i=this.props.container.getBoundingClientRect(),r=e.clientX-i.left-n,o=e.clientY-i.top-a;return s.left=r,s.top=o,s}},{key:"onDragAnchorMouseDown",value:function onDragAnchorMouseDown(e){var t=this;e.persist();var n=e.clientX-e.target.getBoundingClientRect().left,a=e.clientY-e.target.getBoundingClientRect().top;this.setState({shiftX:n,shiftY:a},(function(){t.setState({plotInnerStyle:t.plotInnerStyleFromMouseEvent(e)})})),this.props.onDragStart(this.props.messageId,this.props.signalSpec.uid,n,a)}},{key:"onDragAnchorMouseUp",value:function onDragAnchorMouseUp(e){this.props.onDragEnd(),this.setState({plotInnerStyle:null,shiftX:0,shiftY:0})}},{key:"onDragStart",value:function onDragStart(e){return e.preventDefault(),!1}},{key:"render",value:function render(){var e=this,t=this.state.plotInnerStyle,n=this.props.canReceiveGraphDrop?"is-droppable":null;return d.a.createElement("div",{className:"cabana-explorer-visuals-plot",ref:this.props.onGraphRefAvailable},d.a.createElement("div",{className:w()("cabana-explorer-visuals-plot-inner",n),style:t||null},d.a.createElement("div",{className:"cabana-explorer-visuals-plot-draganchor",onMouseDown:this.onDragAnchorMouseDown},d.a.createElement("span",{className:"fa fa-bars"})),this.props.plottedSignals.map((function(t){var n=t.messageId,a=t.signalUid,s=t.messageName,i=Object.values(e.props.messages[n].frame.signals).find((function(e){return e.uid===a})),r=i.colors;return d.a.createElement("div",{className:"cabana-explorer-visuals-plot-header",key:n+"_"+i.uid},d.a.createElement("div",{className:"cabana-explorer-visuals-plot-header-toggle"},d.a.createElement("button",{className:"button--tiny",onClick:function onClick(){return e.props.unplot(n,a)}},d.a.createElement("span",null,"Hide Plot"))),d.a.createElement("div",{className:"cabana-explorer-visuals-plot-header-copy"},d.a.createElement("div",{className:"cabana-explorer-visuals-plot-message"},d.a.createElement("span",null,s)),d.a.createElement("div",{className:"cabana-explorer-visuals-plot-signal"},d.a.createElement("div",{className:"cabana-explorer-visuals-plot-signal-color",style:{background:"rgb(".concat(r)}}),d.a.createElement("strong",null,i.name))))})),d.a.createElement(F.a,{bounds:!0,onResize:this.onPlotResize},(function(t){var n=t.measureRef;return d.a.createElement("div",{ref:n,className:"cabana-explorer-visuals-plot-container"},d.a.createElement(X.a,{onNewView:e.onNewView,logLevel:1,signalListeners:{clickTime:e.onSignalClickTime,segment:e.onSignalSegment},renderer:"canvas",spec:e.state.spec,actions:!1,data:{table:e.state.data.series}}))}))))}}]),CanGraph}(u.Component);function CanGraphList_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}Y.emptyTable=[],n(463);var K=function(e){function CanGraphList(e){var t;return Object(S.a)(this,CanGraphList),(t=Object(y.a)(this,Object(O.a)(CanGraphList).call(this,e))).state={draggingSignal:{},dragPos:null,dragShift:null,graphToReceiveDrop:null},t.plotListRef=null,t.plotRefs=[],t.renderSignalPlot=t.renderSignalPlot.bind(Object(C.a)(t)),t.onPlotListRefReady=t.onPlotListRefReady.bind(Object(C.a)(t)),t.onGraphDragStart=t.onGraphDragStart.bind(Object(C.a)(t)),t.onGraphDragEnd=t.onGraphDragEnd.bind(Object(C.a)(t)),t.onMouseMove=t.onMouseMove.bind(Object(C.a)(t)),t}return Object(_.a)(CanGraphList,e),Object(E.a)(CanGraphList,[{key:"onGraphDragStart",value:function onGraphDragStart(e,t,n,a){this.setState({draggingSignal:{messageId:e,signalUid:t},dragShift:{x:n,y:a}})}},{key:"determineDraggingGraph",value:function determineDraggingGraph(){var e=this.state.draggingSignal;return this.plotRefs.find((function(t){var n=t.messageId,a=t.signalUid;return e.messageId===n&&e.signalUid===a}))}},{key:"onMouseMove",value:function onMouseMove(e){var t=this.state.dragShift;if(null!==t){var n=this.plotListRef.getBoundingClientRect(),a=this.determineDraggingGraph();if(a){a.ref.hidden=!0;var s=document.elementFromPoint(e.clientX,e.clientY);a.ref.hidden=!1;var i=s.closest(".cabana-explorer-visuals-plot"),r=this.plotRefs.find((function(e){var t=e.ref,n=e.messageId,s=e.signalUid;return!(n===a.messageId&&s===a.signalUid)&&t.isEqualNode(i)}));r?this.setState({graphToReceiveDrop:r}):this.setState({graphToReceiveDrop:null})}var o=e.clientX-n.left-t.x,l=e.clientY-n.top-t.y;this.setState({dragPos:{left:o,top:l}})}else null!==this.state.graphToReceiveDrop&&this.setState({graphToReceiveDrop:null})}},{key:"onGraphDragEnd",value:function onGraphDragEnd(){null!==this.state.graphToReceiveDrop&&this.props.mergePlots({fromPlot:this.state.draggingSignal,toPlot:this.state.graphToReceiveDrop}),this.setState({draggingSignal:{},dragShift:null,dragPos:null,graphToReceiveDrop:null})}},{key:"addCanGraphRef",value:function addCanGraphRef(e,t,n){if(e){var a=this.plotRefs;a=a.filter((function(e){return!(e.messageId===t&&e.signalUid===n)})).concat([{messageId:t,signalUid:n,ref:e}]),this.plotRefs=a}}},{key:"renderSignalPlot",value:function renderSignalPlot(e,t){var n=this,a=this.state,s=a.draggingSignal,i=a.graphToReceiveDrop,r=e[0],o=r.messageId,l=r.signalUid,c=this.props.messages[o],u=Object.values(c.frame.signals).find((function(e){return e.uid===l}));if(!this.plotListRef)return[];var g=s.signalUid===l&&s.messageId===o,h=i&&i.signalUid===l&&i.messageId===o,m=(e=e.map((function(e){return function CanGraphList_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CanGraphList_ownKeys(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CanGraphList_ownKeys(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({messageName:n.props.messages[e.messageId].frame.name},e)}))).reduce((function(e,t){return e+t.messageId+"_"+t.signalUid}),"");return d.a.createElement(Y,{onGraphRefAvailable:function onGraphRefAvailable(e){n.addCanGraphRef(e,o,l)},key:m,unplot:this.props.onSignalUnplotPressed,messages:this.props.messages,messageId:o,messageName:c.frame?c.frame.name:null,signalSpec:Object.assign(Object.create(u),u),onSegmentChanged:this.props.onSegmentChanged,segment:this.props.segment,onRelativeTimeClick:this.props.onGraphTimeClick,currentTime:this.props.seekTime,onDragStart:this.onGraphDragStart,onDragEnd:this.onGraphDragEnd,container:this.plotListRef,dragPos:g?this.state.dragPos:null,canReceiveGraphDrop:h,plottedSignals:e,live:this.props.live})}},{key:"onPlotListRefReady",value:function onPlotListRefReady(e){this.plotListRef=e}},{key:"render",value:function render(){return d.a.createElement("div",{className:"cabana-explorer-visuals-plots",ref:this.onPlotListRefReady,onMouseMove:this.onMouseMove,onMouseLeave:this.onGraphDragEnd,onMouseUp:this.onGraphDragEnd},this.props.plottedSignals.map(this.renderSignalPlot))}}]),CanGraphList}(u.Component),J=n(32),q=n(226),Q=n.n(q),$=function(e){function HLS(){var e,t;Object(S.a)(this,HLS);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=Object(y.a)(this,(e=Object(O.a)(HLS)).call.apply(e,[this].concat(a)))).onSeeking=function(){t.props.playing||(t.props.onLoadStart(),t.props.onPlaySeek(t.videoElement.currentTime))},t.shouldInitVideoTime=!0,t.onSeeked=function(){t.props.playing||(t.shouldInitVideoTime&&(t.videoElement.currentTime=t.props.startTime,t.shouldInitVideoTime=!1),t.props.onLoadEnd())},t}return Object(_.a)(HLS,e),Object(E.a)(HLS,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){this.videoElement.playbackRate=e.playbackSpeed,e.source!==this.props.source&&this.loadSource(e.source),e.playing?this.videoElement&&(this.videoElement.paused||this.videoElement.currentTime<.01)&&this.videoElement.play():this.videoElement.pause()}},{key:"componentDidMount",value:function componentDidMount(){this.player=new Q.a({disablePtsDtsCorrectionInMp4Remux:!0}),this.loadSource()}},{key:"loadSource",value:function loadSource(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.source;this.videoElement&&(this.player.loadSource(e),this.player.attachMedia(this.videoElement),this.props.onVideoElementAvailable(this.videoElement),this.videoElement.currentTime=this.props.startTime)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.player&&this.player.destroy()}},{key:"render",value:function render(){var e=this;return d.a.createElement("div",{className:"cabana-explorer-visuals-camera-wrapper",onClick:this.props.onClick},d.a.createElement("video",{ref:function ref(t){e.videoElement=t},autoPlay:this.props.playing,muted:!0,onWaiting:this.props.onLoadStart,onPlaying:this.props.onLoadEnd,onSeeking:this.onSeeking,onSeeked:this.onSeeked}))}}]),HLS}(u.Component),Z=function(e){function PlayButton(e){var t;return Object(S.a)(this,PlayButton),(t=Object(y.a)(this,Object(O.a)(PlayButton).call(this,e))).state={hover:!1},t.onClick=t.onClick.bind(Object(C.a)(t)),t}return Object(_.a)(PlayButton,e),Object(E.a)(PlayButton,[{key:"imageSource",value:function imageSource(){var e=this.state.hover;return this.props.isPlaying?e?"/cabana/img/ic_pause_circle_filled_white_24px.svg":"/cabana/img/ic_pause_circle_outline_white_24px.svg":e?"/cabana/img/ic_play_circle_filled_white_24px.svg":"/cabana/img/ic_play_circle_outline_white_24px.svg"}},{key:"onClick",value:function onClick(e){this.props.isPlaying?this.props.onPause():this.props.onPlay()}},{key:"render",value:function render(){var e=this;return d.a.createElement("img",{src:this.imageSource(),alt:this.props.isPlaying?"Pause":"Play",className:this.props.className,onClick:this.onClick,onMouseOver:function onMouseOver(){return e.setState({hover:!0})},onMouseLeave:function onMouseLeave(){return e.setState({hover:!1})}})}}]),PlayButton}(u.Component),ee=function(e){function RouteSeeker(e){var t;return Object(S.a)(this,RouteSeeker),(t=Object(y.a)(this,Object(O.a)(RouteSeeker).call(this,e))).updateDraggingSeek=debounce((function(e){return t.props.onUserSeek(e)}),250),t.state={seekedBarStyle:RouteSeeker.zeroSeekedBarStyle,markerStyle:RouteSeeker.hiddenMarkerStyle,tooltipStyle:RouteSeeker.hiddenTooltipStyle,ratio:0,tooltipTime:"0:00",isPlaying:!1,isDragging:!1},t.onMouseMove=t.onMouseMove.bind(Object(C.a)(t)),t.onMouseLeave=t.onMouseLeave.bind(Object(C.a)(t)),t.onMouseDown=t.onMouseDown.bind(Object(C.a)(t)),t.onMouseUp=t.onMouseUp.bind(Object(C.a)(t)),t.onClick=t.onClick.bind(Object(C.a)(t)),t.onPlay=t.onPlay.bind(Object(C.a)(t)),t.onPause=t.onPause.bind(Object(C.a)(t)),t.executePlayTimer=t.executePlayTimer.bind(Object(C.a)(t)),t}return Object(_.a)(RouteSeeker,e),Object(E.a)(RouteSeeker,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=this.state.ratio;if(JSON.stringify(this.props.segmentIndices)!==JSON.stringify(e.segmentIndices))this.setState({seekedBarStyle:RouteSeeker.zeroSeekedBarStyle,markerStyle:RouteSeeker.hiddenMarkerStyle,ratio:0});else if(e.videoLength!==this.props.videoLength){var n=t*this.props.videoLength/e.videoLength;this.updateSeekedBar(n)}if(this.props.nearestFrameTime!==e.nearestFrameTime){var a=this.props.segmentProgress(e.nearestFrameTime);this.updateSeekedBar(a)}e.playing&&!this.state.isPlaying?this.onPlay():!e.playing&&this.state.isPlaying&&this.onPause()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.cancelAnimationFrame(this.playTimer)}},{key:"mouseEventXOffsetPercent",value:function mouseEventXOffsetPercent(e){var t=this.progressBar.getBoundingClientRect();return(e.clientX-t.left)/this.progressBar.offsetWidth*100}},{key:"onMouseMove",value:function onMouseMove(e){var t=this.mouseEventXOffsetPercent(e);if(t<0)this.onMouseLeave();else{var n=RouteSeeker.markerWidth,a={display:"",left:"calc(".concat(t+"%"," - ").concat(n/2,"px)")},s=RouteSeeker.tooltipWidth,i={display:"flex",left:"calc(".concat(t+"%"," - ").concat(s/2,"px)")},r=Math.max(0,t/100);this.state.isDragging&&(this.updateSeekedBar(r),this.updateDraggingSeek(r)),this.setState({markerStyle:a,tooltipStyle:i,tooltipTime:this.props.ratioTime(r).toFixed(3)})}}},{key:"onMouseLeave",value:function onMouseLeave(e){this.setState({markerStyle:RouteSeeker.hiddenMarkerStyle,tooltipStyle:RouteSeeker.hiddenTooltipStyle,isDragging:!1})}},{key:"updateSeekedBar",value:function updateSeekedBar(e){var t={width:100*e+"%"};this.setState({seekedBarStyle:t,ratio:e})}},{key:"onClick",value:function onClick(e){var t=this.mouseEventXOffsetPercent(e)/100;t=Math.min(1,Math.max(0,t)),this.updateSeekedBar(t),this.props.onUserSeek(t)}},{key:"onPlay",value:function onPlay(){this.playTimer=window.requestAnimationFrame(this.executePlayTimer);var e=this.state.ratio;e>=1&&(e=0),this.setState({isPlaying:!0,ratio:e}),this.props.onPlay()}},{key:"executePlayTimer",value:function executePlayTimer(){var e=this.props.videoElement;if(null!==e){var t=this.props,n=t.videoLength,a=t.startTime,s=e.currentTime,i=e.duration;s=roundTime(s),a=roundTime(a),n=roundTime(n),i=roundTime(i);var r=(s-a)/n;r!==this.state.ratio?((r>=1||r<0)&&(r=0,s=a,this.props.onUserSeek(r)),r>=0&&(this.updateSeekedBar(r),this.props.onPlaySeek(s)),this.playTimer=window.requestAnimationFrame(this.executePlayTimer)):this.playTimer=window.requestAnimationFrame(this.executePlayTimer)}else this.playTimer=window.requestAnimationFrame(this.executePlayTimer)}},{key:"onPause",value:function onPause(){window.cancelAnimationFrame(this.playTimer),this.setState({isPlaying:!1}),this.props.onPause()}},{key:"onMouseDown",value:function onMouseDown(){this.state.isDragging||this.setState({isDragging:!0})}},{key:"onMouseUp",value:function onMouseUp(){this.state.isDragging&&this.setState({isDragging:!1})}},{key:"render",value:function render(){var e=this,t=this.state,n=t.seekedBarStyle,a=t.markerStyle,s=t.tooltipStyle;return d.a.createElement("div",{className:"cabana-explorer-visuals-camera-seeker"},d.a.createElement(Z,{className:"cabana-explorer-visuals-camera-seeker-playbutton",onPlay:this.onPlay,onPause:this.onPause,isPlaying:this.state.isPlaying}),d.a.createElement("div",{className:"cabana-explorer-visuals-camera-seeker-progress",onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onClick:this.onClick,ref:function ref(t){return e.progressBar=t}},d.a.createElement("div",{className:"cabana-explorer-visuals-camera-seeker-progress-tooltip",style:s},this.state.tooltipTime),d.a.createElement("div",{className:"cabana-explorer-visuals-camera-seeker-progress-marker",style:a}),d.a.createElement("div",{className:"cabana-explorer-visuals-camera-seeker-progress-inner",style:n})))}}]),RouteSeeker}(u.Component);function roundTime(e){return Math.round(1e3*e)/1e3}ee.hiddenMarkerStyle={display:"none",left:0},ee.zeroSeekedBarStyle={width:0},ee.hiddenTooltipStyle={display:"none",left:0},ee.markerWidth=20,ee.tooltipWidth=50;var te=J.StyleSheet.create({loadingOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",zIndex:3},loadingSpinner:{width:"25%",height:"25%",display:"block"},img:{height:480,display:"block",position:"absolute",zIndex:2},hls:{zIndex:1,height:480,backgroundColor:"rgba(0,0,0,0.9)"},seekBar:{position:"absolute",bottom:0,left:0,width:"100%",zIndex:4}}),ne=function(e){function RouteVideoSync(e){var t;return Object(S.a)(this,RouteVideoSync),(t=Object(y.a)(this,Object(O.a)(RouteVideoSync).call(this,e))).state={shouldShowJpeg:!0,isLoading:!0,videoElement:null,shouldRestartHls:!1},t.onLoadStart=t.onLoadStart.bind(Object(C.a)(t)),t.onLoadEnd=t.onLoadEnd.bind(Object(C.a)(t)),t.segmentProgress=t.segmentProgress.bind(Object(C.a)(t)),t.onVideoElementAvailable=t.onVideoElementAvailable.bind(Object(C.a)(t)),t.onUserSeek=t.onUserSeek.bind(Object(C.a)(t)),t.onHlsRestart=t.onHlsRestart.bind(Object(C.a)(t)),t.ratioTime=t.ratioTime.bind(Object(C.a)(t)),t}return Object(_.a)(RouteVideoSync,e),Object(E.a)(RouteVideoSync,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){(this.props.userSeekIndex!==e.userSeekIndex||this.props.canFrameOffset!==e.canFrameOffset||this.props.message&&e.message&&this.props.message.entries.length!==e.message.entries.length)&&this.setState({shouldRestartHls:!0}),e.userSeekTime&&this.props.userSeekTime!==e.userSeekTime&&this.state.videoElement&&(this.state.videoElement.currentTime=e.userSeekTime)}},{key:"nearestFrameUrl",value:function nearestFrameUrl(){var e=this.props.url,t=Math.round(this.props.userSeekTime);return isNaN(t),Object(f.derived)(e).getJpegUrl(t)}},{key:"loadingOverlay",value:function loadingOverlay(){return d.a.createElement("div",{className:Object(J.css)(te.loadingOverlay)},d.a.createElement("img",{className:Object(J.css)(te.loadingSpinner),src:"/cabana/img/loading.svg",alt:"Loading video"}))}},{key:"onLoadStart",value:function onLoadStart(){this.setState({shouldShowJpeg:!0,isLoading:!0})}},{key:"onLoadEnd",value:function onLoadEnd(){this.setState({shouldShowJpeg:!1,isLoading:!1})}},{key:"videoLength",value:function videoLength(){return this.props.segment.length?this.props.segment[1]-this.props.segment[0]:this.state.videoElement?this.state.videoElement.duration:0}},{key:"startTime",value:function startTime(){return this.props.segment.length?this.props.segment[0]:0}},{key:"segmentProgress",value:function segmentProgress(e){var t=this.startTime();e<t&&(e=t);var n=(e-t)/this.videoLength();return Math.max(0,Math.min(1,n))}},{key:"ratioTime",value:function ratioTime(e){return e*this.videoLength()+this.startTime()}},{key:"onVideoElementAvailable",value:function onVideoElementAvailable(e){this.setState({videoElement:e})}},{key:"onUserSeek",value:function onUserSeek(e){var t=this,n=this.state.videoElement;if(isNaN(n.duration))this.setState({shouldRestartHls:!0},s);else{var a=this.ratioTime(e);n.currentTime=a;var s=function funcSeekToRatio(){return t.props.onUserSeek(a)};0===e?this.setState({shouldRestartHls:!0},s):s()}}},{key:"onHlsRestart",value:function onHlsRestart(){this.setState({shouldRestartHls:!1})}},{key:"render",value:function render(){return d.a.createElement("div",{className:"cabana-explorer-visuals-camera"},this.state.isLoading?this.loadingOverlay():null,this.state.shouldShowJpeg?d.a.createElement("img",{src:this.nearestFrameUrl(),className:Object(J.css)(te.img),alt:"Camera preview at t = "+Math.round(this.props.userSeekTime)}):null,d.a.createElement($,{className:Object(J.css)(te.hls),source:Object(f.video)(this.props.url,"https://cabana-video.azureedge.net").getRearCameraStreamIndexUrl(),startTime:this.startTime(),videoLength:this.videoLength(),playbackSpeed:this.props.playSpeed,onVideoElementAvailable:this.onVideoElementAvailable,playing:this.props.playing,onClick:this.props.onVideoClick,onLoadStart:this.onLoadStart,onLoadEnd:this.onLoadEnd,onUserSeek:this.onUserSeek,onPlaySeek:this.props.onPlaySeek,segmentProgress:this.segmentProgress,shouldRestart:this.state.shouldRestartHls,onRestart:this.onHlsRestart}),d.a.createElement(ee,{className:Object(J.css)(te.seekBar),nearestFrameTime:this.props.userSeekTime,segmentProgress:this.segmentProgress,startTime:this.startTime(),videoLength:this.videoLength(),segmentIndices:this.props.segmentIndices,onUserSeek:this.onUserSeek,onPlaySeek:this.props.onPlaySeek,videoElement:this.state.videoElement,onPlay:this.props.onPlay,onPause:this.props.onPause,playing:this.props.playing,ratioTime:this.ratioTime}))}}]),RouteVideoSync}(u.Component),ae=n(227),se=n.n(ae),ie=function(e){function CanLog(e){var t;return Object(S.a)(this,CanLog),(t=Object(y.a)(this,Object(O.a)(CanLog).call(this,e))).state={length:0,expandedMessages:[],messageHeights:[],allPacketsExpanded:!1},t.renderLogListItemMessage=t.renderLogListItemMessage.bind(Object(C.a)(t)),t.addDisplayedMessages=t.addDisplayedMessages.bind(Object(C.a)(t)),t.renderLogListItem=t.renderLogListItem.bind(Object(C.a)(t)),t.renderLogList=t.renderLogList.bind(Object(C.a)(t)),t.onExpandAllChanged=t.onExpandAllChanged.bind(Object(C.a)(t)),t.toggleExpandAllPackets=t.toggleExpandAllPackets.bind(Object(C.a)(t)),t.toggleSignalPlot=t.toggleSignalPlot.bind(Object(C.a)(t)),t}return Object(_.a)(CanLog,e),Object(E.a)(CanLog,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){e.message&&!this.props.message&&this.addDisplayedMessages()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){var n=this.props.message?this.props.message.entries.length:0,a=e.message?e.message.entries.length:0;return this.props.message!==e.message||a!==n||e.messageIndex!==this.props.messageIndex||e.plottedSignals.length!==this.props.plottedSignals.length||JSON.stringify(e.segmentIndices)!==JSON.stringify(this.props.segmentIndices)||JSON.stringify(t)!==JSON.stringify(this.state)||this.props.message!==e.message||void 0!==this.props.message&&void 0!==e.message&&void 0!==this.props.message.frame&&void 0!==e.message.frame&&JSON.stringify(this.props.message.frame)!==JSON.stringify(e.message.frame)}},{key:"addDisplayedMessages",value:function addDisplayedMessages(){var e=this.state.length+CanLog.ITEMS_PER_PAGE;this.setState({length:e})}},{key:"expandMessage",value:function expandMessage(e,t){this.setState({expandedMessages:this.state.expandedMessages.concat([e.time])}),this.props.onMessageExpanded()}},{key:"collapseMessage",value:function collapseMessage(e,t){this.setState({expandedMessages:this.state.expandedMessages.filter((function(t){return t!==e.time}))})}},{key:"isSignalPlotted",value:function isSignalPlotted(e,t){return void 0!==this.props.plottedSignals.find((function(n){return n.some((function(n){return n.messageId===e&&n.signalUid===t}))}))}},{key:"signalValuePretty",value:function signalValuePretty(e,t){return e.isFloat?t.toFixed(3):t}},{key:"isMessageExpanded",value:function isMessageExpanded(e){return-1!==this.state.expandedMessages.indexOf(e.time)}},{key:"toggleSignalPlot",value:function toggleSignalPlot(e,t,n){n?this.props.onSignalUnplotPressed(e,t):this.props.onSignalPlotPressed(e,t)}},{key:"toggleExpandPacketSignals",value:function toggleExpandPacketSignals(e){if(this.props.message.frame){var t=this.state.allPacketsExpanded||this.isMessageExpanded(e),n=Object.keys(this.props.message.frame.signals).length>0;if(t&&n)this.setState({expandedMessages:this.state.expandedMessages.filter((function(t){return t!==e.time}))});else{if(!n)return;this.setState({expandedMessages:this.state.expandedMessages.concat([e.time])}),this.props.onMessageExpanded()}}}},{key:"renderLogListItemSignals",value:function renderLogListItemSignals(e){var t=this,n=this.props.message;return d.a.createElement("div",{className:"signals-log-list-signals"},Object.entries(e.signals).map((function(e){var a=Object(r.a)(e,2),s=a[0],i=a[1],o=n.frame.signals[s];if(void 0===o)return null;var l=o.unit.length>0?o.unit:"units",c=t.isSignalPlotted(n.id,o.uid),u=c?null:"button--alpha",g=c?"Hide Plot":"Show Plot";return d.a.createElement("div",{key:s,className:"signals-log-list-signal"},d.a.createElement("div",{className:"signals-log-list-signal-message"},d.a.createElement("span",null,s)),d.a.createElement("div",{className:"signals-log-list-signal-value"},d.a.createElement("span",null,"(",d.a.createElement("strong",null,t.signalValuePretty(o,i))," ",l,")")),d.a.createElement("div",{className:"signals-log-list-signal-action",onClick:function onClick(){t.toggleSignalPlot(n.id,o.uid,c)}},d.a.createElement("button",{className:w()("button--tiny",u)},d.a.createElement("span",null,g))))})))}},{key:"renderLogListItemMessage",value:function renderLogListItemMessage(e,t){var n=this,a=this.props.message,s=this.state.allPacketsExpanded||this.isMessageExpanded(e),i=Object.keys(e.signals).length>0?"has-signals":null,r=s?"is-expanded":null;return d.a.createElement("div",{key:t,className:w()("signals-log-list-item",i,r)},d.a.createElement("div",{className:"signals-log-list-item-header",onClick:function onClick(){n.toggleExpandPacketSignals(e)}},d.a.createElement("div",{className:"signals-log-list-message"},d.a.createElement("strong",null,(a.frame?a.frame.name:null)||a.id)),d.a.createElement("div",{className:"signals-log-list-time"},d.a.createElement("span",null,"[",e.relTime.toFixed(3),"]")),d.a.createElement("div",{className:"signals-log-list-bytes"},d.a.createElement("span",{className:"t-mono"},e.hexData))),d.a.createElement("div",{className:"signals-log-list-item-body"},s?this.renderLogListItemSignals(e):null))}},{key:"renderLogListItem",value:function renderLogListItem(e,t){var n=this.props.messageIndex;return 0===n&&2===this.props.segmentIndices.length&&(n=this.props.segmentIndices[0]),n+e<this.props.message.entries.length?this.renderLogListItemMessage(this.props.message.entries[n+e],t):null}},{key:"renderLogList",value:function renderLogList(e,t){return d.a.createElement("div",{className:"signals-log-list"},d.a.createElement("div",{className:"signals-log-list-header"},d.a.createElement("div",{className:"signals-log-list-message"},"Message"),d.a.createElement("div",{className:"signals-log-list-time"},"Time"),d.a.createElement("div",{className:"signals-log-list-bytes"},"Bytes")),d.a.createElement("div",{className:"signals-log-list-items",ref:t},e))}},{key:"listLength",value:function listLength(){var e=this.props,t=e.segmentIndices,n=e.messageIndex;return n>0?this.props.message.entries.length-n:2===t.length?t[1]-t[0]:this.props.message?this.props.message.entries.length:0}},{key:"onExpandAllChanged",value:function onExpandAllChanged(e){this.setState({allPacketsExpanded:e.target.checked})}},{key:"toggleExpandAllPackets",value:function toggleExpandAllPackets(){this.setState({allPacketsExpanded:!this.state.allPacketsExpanded})}},{key:"render",value:function render(){var e=this.state.allPacketsExpanded?"Collapse All":"Expand All",t=this.state.allPacketsExpanded?null:"button--alpha";return d.a.createElement("div",{className:"cabana-explorer-signals-log"},d.a.createElement("div",{className:"cabana-explorer-signals-log-header"},d.a.createElement("strong",null,"Message Packets"),d.a.createElement("button",{className:w()("button--tiny",t),onClick:this.toggleExpandAllPackets},e)),d.a.createElement("div",{className:"cabana-explorer-signals-log-body"},d.a.createElement(se.a,{itemRenderer:this.renderLogListItem,itemsRenderer:this.renderLogList,length:this.listLength(),pageSize:50,updateWhenThisValueChanges:this.props.messageIndex,type:"variable"})))}}]),CanLog}(u.Component);function findTimeIndex(e,t){return e.findIndex((function(e){return e.time>=t}))}function findRelativeTimeIndex(e,t){return e.findIndex((function(e){return e.relTime>=t}))}ie.ITEMS_PER_PAGE=50;var re={findTimeIndex:findTimeIndex,findRelativeTimeIndex:findRelativeTimeIndex,findSegmentIndices:function findSegmentIndices(e,t,n){var a=Object(r.a)(t,2),s=a[0],i=a[1],o=!0===n?findRelativeTimeIndex:findTimeIndex,l=Math.max(0,o(e,s)),c=o(e.slice(l),i),u=c>=0?c+l+1:e.length-1;return[l,Math.max(0,Math.min(u,e.length-1))]}};(function(e){function PartSelector(e){var t;return Object(S.a)(this,PartSelector),(t=Object(y.a)(this,Object(O.a)(PartSelector).call(this,e))).state={selectedPartStyle:t.makePartStyle(e.partsCount,0),isDragging:!1},t.selectNextPart=t.selectNextPart.bind(Object(C.a)(t)),t.selectPrevPart=t.selectPrevPart.bind(Object(C.a)(t)),t.onSelectedPartDragStart=t.onSelectedPartDragStart.bind(Object(C.a)(t)),t.onSelectedPartMouseMove=t.onSelectedPartMouseMove.bind(Object(C.a)(t)),t.onSelectedPartDragEnd=t.onSelectedPartDragEnd.bind(Object(C.a)(t)),t.onClick=t.onClick.bind(Object(C.a)(t)),t}return Object(_.a)(PartSelector,e),Object(E.a)(PartSelector,[{key:"makePartStyle",value:function makePartStyle(e,t){return{left:t/e*PartSelector.selectorWidth,width:j.h/e*PartSelector.selectorWidth}}},{key:"componentWillUpdate",value:function componentWillUpdate(e,t){if(e.selectedPart!==this.props.selectedPart){console.log("updating styles for part picker");var n=this.makePartStyle(e.partsCount,e.selectedPart);this.setState({selectedPartStyle:n})}}},{key:"selectPart",value:function selectPart(e){(e=Math.max(0,Math.min(this.props.partsCount-j.h,e)))!==this.props.selectedPart&&this.props.onPartChange(e)}},{key:"selectNextPart",value:function selectNextPart(){var e=this.props.selectedPart;++e+j.h>=this.props.partsCount||this.selectPart(e)}},{key:"selectPrevPart",value:function selectPrevPart(){var e=this.props.selectedPart;--e<0||this.selectPart(e)}},{key:"partAtClientX",value:function partAtClientX(e){var t=e-this.selectorRect.getBoundingClientRect().left;return Math.floor(t*this.props.partsCount/PartSelector.selectorWidth)}},{key:"onSelectedPartDragStart",value:function onSelectedPartDragStart(e){this.setState({isDragging:!0}),document.addEventListener("mouseup",this.onSelectedPartDragEnd)}},{key:"onSelectedPartMouseMove",value:function onSelectedPartMouseMove(e){if(this.state.isDragging){var t=this.partAtClientX(e.clientX);this.selectPart(t)}}},{key:"onSelectedPartDragEnd",value:function onSelectedPartDragEnd(e){this.setState({isDragging:!1}),document.removeEventListener("mouseup",this.onSelectedPartDragEnd)}},{key:"onClick",value:function onClick(e){var t=this.partAtClientX(e.clientX);this.selectPart(t)}},{key:"render",value:function render(){var e=this,t=this.state.selectedPartStyle;return this.props.partsCount<=j.h?null:d.a.createElement("div",{className:"cabana-explorer-part-selector"},d.a.createElement("div",{className:"cabana-explorer-part-selector-track",ref:function ref(t){return e.selectorRect=t},style:{width:PartSelector.selectorWidth},onMouseMove:this.onSelectedPartMouseMove,onClick:this.onClick},d.a.createElement("div",{className:"cabana-explorer-part-selector-track-active",style:t,onMouseDown:this.onSelectedPartDragStart,onMouseUp:this.onSelectedPartDragEnd})))}}]),PartSelector}(u.Component)).selectorWidth=150;var oe=function(e){function PlaySpeedSelector(e){var t;return Object(S.a)(this,PlaySpeedSelector),(t=Object(y.a)(this,Object(O.a)(PlaySpeedSelector).call(this,e))).onChange=t.onChange.bind(Object(C.a)(t)),t}return Object(_.a)(PlaySpeedSelector,e),Object(E.a)(PlaySpeedSelector,[{key:"onChange",value:function onChange(e){this.props.onPlaySpeedChanged&&this.props.onPlaySpeedChanged(Number(e.currentTarget.value))}},{key:"render",value:function render(){return d.a.createElement("div",{style:{display:"inline-block",float:"right",margin:10}},d.a.createElement("label",null,"Play speed:\xa0"),d.a.createElement("select",{id:"playSpeed",style:{width:70},onChange:this.onChange,value:this.props.playSpeed},d.a.createElement("option",{value:"0.1"},"0.1x"),d.a.createElement("option",{value:"0.5"},"0.5x"),d.a.createElement("option",{value:"1"},"1x"),d.a.createElement("option",{value:"2"},"2x")))}}]),PlaySpeedSelector}(u.Component),le=function(e){function Explorer(e){var t;return Object(S.a)(this,Explorer),(t=Object(y.a)(this,Object(O.a)(Explorer).call(this,e))).updateSegment=debounce((function(e,n){var a=t.props.messages[t.props.selectedMessage].entries,s=re.findSegmentIndices(a,n,!0);n[0]===60*t.props.currentParts[0]&&n[1]===60*(t.props.currentParts[1]+1)&&(n=[],s=[]),t.setState({segment:n,segmentIndices:s,userSeekIndex:s[0],userSeekTime:n[0]||0})}),250),t.state={plottedSignals:[],segment:[],segmentIndices:[],shouldShowAddSignal:!0,userSeekIndex:0,userSeekTime:0,playing:e.autoplay,signals:{},playSpeed:1},t.onSignalPlotPressed=t.onSignalPlotPressed.bind(Object(C.a)(t)),t.onSignalUnplotPressed=t.onSignalUnplotPressed.bind(Object(C.a)(t)),t.onSegmentChanged=t.onSegmentChanged.bind(Object(C.a)(t)),t.showAddSignal=t.showAddSignal.bind(Object(C.a)(t)),t.onGraphTimeClick=t.onGraphTimeClick.bind(Object(C.a)(t)),t.onUserSeek=t.onUserSeek.bind(Object(C.a)(t)),t.onPlaySeek=t.onPlaySeek.bind(Object(C.a)(t)),t.onPlay=t.onPlay.bind(Object(C.a)(t)),t.onPause=t.onPause.bind(Object(C.a)(t)),t.onVideoClick=t.onVideoClick.bind(Object(C.a)(t)),t.onSignalPlotChange=t.onSignalPlotChange.bind(Object(C.a)(t)),t._onKeyDown=t._onKeyDown.bind(Object(C.a)(t)),t.mergePlots=t.mergePlots.bind(Object(C.a)(t)),t.toggleShouldShowAddSignal=t.toggleShouldShowAddSignal.bind(Object(C.a)(t)),t.changePlaySpeed=t.changePlaySpeed.bind(Object(C.a)(t)),t}return Object(_.a)(Explorer,e),Object(E.a)(Explorer,[{key:"_onKeyDown",value:function _onKeyDown(e){27===e.keyCode&&this.resetSegment()}},{key:"componentWillMount",value:function componentWillMount(){document.addEventListener("keydown",this._onKeyDown)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this._onKeyDown)}},{key:"clipSegment",value:function clipSegment(e,t,n){if(2===e.length){var a=n.entries.findIndex((function(t){return t.relTime>=e[0]})),s=n.entries.findIndex((function(t){return t.relTime>=e[1]}));if(-1!==a){-1===s&&(s=n.entries.length-1);var i=n.entries[a].relTime,r=n.entries[s].relTime;e=[i,r],t=[a,s]}else e=[],t=[]}return{segment:e,segmentIndices:t}}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=e.messages[e.selectedMessage],n=this.props.messages[this.props.selectedMessage],a=this.state.plottedSignals;(0===Object.keys(e.messages).length&&this.resetSegment(),t&&t.frame&&t!==n)&&(0===Object.keys(t.frame.signals).length&&this.setState({shouldShowAddSignal:!0}));if(a=a.map((function(t){return t.filter((function(t,n){var a=t.messageId,s=t.signalUid,i=!!e.messages[a],r=!0;return i&&(r=Object.values(e.messages[a].frame.signals).some((function(e){return e.uid===s}))),i&&r}))})).filter((function(e){return e.length>0})),this.setState({plottedSignals:a}),e.selectedMessage&&e.selectedMessage!==this.props.selectedMessage){var s,i=this.clipSegment(this.state.segment,this.state.segmentIndices,t),r=i.segment,o=i.segmentIndices,l=t.entries[e.seekIndex];s=l?l.relTime:2===r.length?r[0]:t.entries[0],this.setState({segment:r,segmentIndices:o,userSeekIndex:e.seekIndex,userSeekTime:s})}if(t&&n&&t.entries.length!==n.entries.length){var c=this.clipSegment(this.state.segment,this.state.segmentIndices,t),u=c.segment,d=c.segmentIndices;this.setState({segment:u,segmentIndices:d})}}},{key:"changePlaySpeed",value:function changePlaySpeed(e){this.setState({playSpeed:e})}},{key:"timeWindow",value:function timeWindow(){var e=this.props,t=e.routeStartTime,n=e.currentParts;if(t){var a=60*n[0],s=60*(n[1]+1),i=t.clone().add(a,"s").format("HH:mm:ss"),r=t.clone().add(s,"s").format("HH:mm:ss");return"".concat(i," - ").concat(r)}return""}},{key:"onSignalPlotPressed",value:function onSignalPlotPressed(e,t){var n=this.state.plottedSignals;n=[[{messageId:e,signalUid:t}]].concat(Object(b.a)(n)),this.setState({plottedSignals:n})}},{key:"onSignalUnplotPressed",value:function onSignalUnplotPressed(e,t){var n=this.state.plottedSignals.map((function(n){return n.filter((function(n){return!(n.messageId===e&&n.signalUid===t)}))})).filter((function(e){return e.length>0}));this.setState({plottedSignals:n})}},{key:"onSegmentChanged",value:function onSegmentChanged(e,t){Array.isArray(t)&&this.updateSegment(e,t)}},{key:"resetSegment",value:function resetSegment(){var e=this.state,t=e.segment,n=e.segmentIndices,a=this.props;a.messages,a.selectedMessage;(t.length>0||n.length>0)&&this.setState({segment:[],segmentIndices:[],userSeekIndex:0})}},{key:"showAddSignal",value:function showAddSignal(){this.setState({shouldShowAddSignal:!0})}},{key:"toggleShouldShowAddSignal",value:function toggleShouldShowAddSignal(){this.setState({shouldShowAddSignal:!this.state.shouldShowAddSignal})}},{key:"indexFromSeekTime",value:function indexFromSeekTime(e){var t=this.props.messages[this.props.selectedMessage].entries;if(0===t.length)return null;var n=this.state.segmentIndices;if(2===n.length&&n[0]>=0){for(var a=n[0],s=Math.min(t.length-1,n[1]);a<=s;a++)if(t[a].relTime>=e)return a;return n[1]}for(var i=0;i<t.length;i++)if(t[i].relTime>=e)return i;return t.length-1}},{key:"onUserSeek",value:function onUserSeek(e){this.setState({userSeekTime:e});this.props.messages[this.props.selectedMessage];this.props.onUserSeek(e),this.setState({userSeekTime:e})}},{key:"onPlaySeek",value:function onPlaySeek(e){var t=this.props.messages[this.props.selectedMessage];if(t&&0!==t.entries.length){var n=this.indexFromSeekTime(e),a=e;this.props.onSeek(n,a)}else this.props.onSeek(0,e)}},{key:"onGraphTimeClick",value:function onGraphTimeClick(e,t){this.onUserSeek(t)}},{key:"onPlay",value:function onPlay(){this.setState({playing:!0})}},{key:"onPause",value:function onPause(){this.setState({playing:!1})}},{key:"secondsLoadedRouteRelative",value:function secondsLoadedRouteRelative(e){return 60*(e[1]-e[0]+1)}},{key:"secondsLoaded",value:function secondsLoaded(){return 60*this.props.partsCount}},{key:"onVideoClick",value:function onVideoClick(){var e=!this.state.playing;this.setState({playing:e})}},{key:"seekTime",value:function seekTime(){var e=this.state.userSeekIndex;return this.props.messages[this.props.selectedMessage].entries[e].time}},{key:"onSignalPlotChange",value:function onSignalPlotChange(e,t,n){e?this.onSignalPlotPressed(t,n):this.onSignalUnplotPressed(t,n)}},{key:"renderSelectMessagePrompt",value:function renderSelectMessagePrompt(){return d.a.createElement("div",{className:"cabana-explorer-select-prompt"},d.a.createElement("h1",null,"Select a message"))}},{key:"selectedMessagePlottedSignalUids",value:function selectedMessagePlottedSignalUids(){var e=this;return this.state.plottedSignals.map((function(t){return t.filter((function(t){var n=t.messageId;t.signalUid;return n===e.props.selectedMessage})).map((function(e){return e.signalUid}))})).reduce((function(e,t){return e.concat(t)}),[])}},{key:"renderExplorerSignals",value:function renderExplorerSignals(){var e=this,t=this.props.selectedMessage,n=this.props.messages[t],a=void 0!==n.frame?n.frame.name:"undefined";return d.a.createElement("div",{className:"cabana-explorer-signals-wrapper"},d.a.createElement("div",{className:"cabana-explorer-signals-header"},d.a.createElement("div",{className:"cabana-explorer-signals-header-context"},d.a.createElement("h5",{className:"t-capline"},"Selected Message:"),d.a.createElement("h3",null,a)),d.a.createElement("div",{className:"cabana-explorer-signals-header-action"},d.a.createElement("button",{className:"button--small",onClick:function onClick(){return e.props.showEditMessageModal(t)}},"Edit"))),d.a.createElement("div",{className:"cabana-explorer-signals-subheader",onClick:this.toggleShouldShowAddSignal},d.a.createElement("strong",null,"Edit Signals")),d.a.createElement("div",{className:"cabana-explorer-signals-window"},this.state.shouldShowAddSignal?d.a.createElement(U.a,{onConfirmedSignalChange:this.props.onConfirmedSignalChange,message:this.props.messages[this.props.selectedMessage],onClose:function onClose(){e.setState({shouldShowAddSignal:!1})},messageIndex:this.props.seekIndex,onSignalPlotChange:this.onSignalPlotChange,plottedSignalUids:this.selectedMessagePlottedSignalUids()}):null,d.a.createElement(ie,{message:this.props.messages[this.props.selectedMessage],messageIndex:this.props.seekIndex,segmentIndices:this.state.segmentIndices,plottedSignals:this.state.plottedSignals,onSignalPlotPressed:this.onSignalPlotPressed,onSignalUnplotPressed:this.onSignalUnplotPressed,showAddSignal:this.showAddSignal,onMessageExpanded:this.onPause})))}},{key:"mergePlots",value:function mergePlots(e){var t=e.fromPlot,n=e.toPlot,a=this.state.plottedSignals,s=a.findIndex((function(e){return e.some((function(e){return e.signalUid===t.signalUid&&e.messageId===t.messageId}))}));a.splice(s,1);var i=a.findIndex((function(e){return e.some((function(e){return e.signalUid===n.signalUid&&e.messageId===n.messageId}))}));a[i]=[t,n],this.setState({plottedSignals:a})}},{key:"render",value:function render(){var e=this,t=this.state.shouldShowAddSignal?"is-expanded":null,n=this.state.segment;return!n.length&&this.props.currentParts&&(n=[60*this.props.currentParts[0],60*(this.props.currentParts[1]+1)]),d.a.createElement("div",{className:"cabana-explorer"},d.a.createElement("div",{className:w()("cabana-explorer-signals",t)},this.props.messages[this.props.selectedMessage]?this.renderExplorerSignals():this.renderSelectMessagePrompt()),d.a.createElement("div",{className:"cabana-explorer-visuals"},!1===this.props.live?d.a.createElement("div",null,d.a.createElement(oe,{playSpeed:this.state.playSpeed,onPlaySpeedChanged:this.changePlaySpeed}),d.a.createElement("div",{className:"cabana-explorer-visuals-header g-row"}),d.a.createElement("br",null),d.a.createElement(ne,{message:this.props.messages[this.props.selectedMessage],segment:this.state.segment,seekIndex:this.props.seekIndex,userSeekIndex:this.state.userSeekIndex,playing:this.state.playing,url:this.props.url,canFrameOffset:this.props.canFrameOffset,firstCanTime:this.props.firstCanTime,onVideoClick:this.onVideoClick,onPlaySeek:this.onPlaySeek,onUserSeek:this.onUserSeek,onPlay:this.onPlay,onPause:this.onPause,userSeekTime:this.state.userSeekTime,playSpeed:this.state.playSpeed})):null,this.state.segment.length>0?d.a.createElement("div",{className:"cabana-explorer-visuals-segmentreset",onClick:function onClick(){e.resetSegment()}},d.a.createElement("p",null,"Reset Segment")):null,d.a.createElement(K,{plottedSignals:this.state.plottedSignals,messages:this.props.messages,onGraphTimeClick:this.onGraphTimeClick,seekTime:this.props.seekTime,onSegmentChanged:this.onSegmentChanged,onSignalUnplotPressed:this.onSignalUnplotPressed,segment:n,mergePlots:this.mergePlots,live:this.props.live})))}}]),Explorer}(u.Component),ce=(n(464),function(e){function Modal(e){var t;return Object(S.a)(this,Modal),(t=Object(y.a)(this,Object(O.a)(Modal).call(this,e))).state={windowHeight:{},modalHeight:{}},t.updateHeights=t.updateHeights.bind(Object(C.a)(t)),t}return Object(_.a)(Modal,e),Object(E.a)(Modal,[{key:"updateHeights",value:function updateHeights(e){this.setState({windowHeight:window.innerHeight}),this.setState({modalHeight:e.bounds.height})}},{key:"readVariationClasses",value:function readVariationClasses(){if(this.props.variations)return this.props.variations.reduce((function(e,t){return e+"cabana-modal--".concat(t," ")}),"")}},{key:"checkClosability",value:function checkClosability(){return this.props.disableClose||!1}},{key:"checkYScrollability",value:function checkYScrollability(){return this.state.modalHeight>this.state.windowHeight}},{key:"render",value:function render(){var e=this;return d.a.createElement("div",{className:w()("cabana-modal",this.readVariationClasses(),{"cabana-modal--not-closable":this.checkClosability(),"cabana-modal--scrollable-y":this.checkYScrollability()})},d.a.createElement(F.a,{bounds:!0,onResize:function onResize(t){e.updateHeights(t)}},(function(t){var n=t.measureRef;return d.a.createElement("div",{ref:n,className:"cabana-modal-container"},d.a.createElement("div",{className:"cabana-modal-close-icon",onClick:e.props.handleClose}),d.a.createElement("div",{className:"cabana-modal-header"},d.a.createElement("h1",null,e.props.title),d.a.createElement("p",null,e.props.subtitle)),d.a.createElement("div",{className:"cabana-modal-navigation"},e.props.navigation),d.a.createElement("div",{className:"cabana-modal-body"},d.a.createElement("div",{className:"cabana-modal-body-window"},e.props.children),d.a.createElement("div",{className:"cabana-modal-body-gradient"})),d.a.createElement("div",{className:"cabana-modal-actions"},e.props.actions),d.a.createElement("div",{className:"cabana-modal-footer"},e.props.footer))})),d.a.createElement("div",{className:"cabana-modal-backdrop",onClick:this.props.handleClose}))}}]),Modal}(u.Component)),ue=function(e){function OnboardingModal(e){var t;return Object(S.a)(this,OnboardingModal),(t=Object(y.a)(this,Object(O.a)(OnboardingModal).call(this,e))).state={webUsbEnabled:!!navigator.usb,viewingUsbInstructions:!1,pandaConnected:!1},t.attemptPandaConnection=t.attemptPandaConnection.bind(Object(C.a)(t)),t.toggleUsbInstructions=t.toggleUsbInstructions.bind(Object(C.a)(t)),t.navigateToExplorer=t.navigateToExplorer.bind(Object(C.a)(t)),t}return Object(_.a)(OnboardingModal,e),Object(E.a)(OnboardingModal,[{key:"attemptPandaConnection",value:function attemptPandaConnection(){this.state.webUsbEnabled&&this.props.handlePandaConnect()}},{key:"toggleUsbInstructions",value:function toggleUsbInstructions(){this.setState({viewingUsbInstructions:!this.state.viewingUsbInstructions})}},{key:"navigateToExplorer",value:function navigateToExplorer(){window.location.href=j.b}},{key:"filterRoutesWithCan",value:function filterRoutesWithCan(e){return!0===e.can}},{key:"renderPandaEligibility",value:function renderPandaEligibility(){var e=this.state,t=e.webUsbEnabled,n=e.pandaConnected,a=this.props.attemptingPandaConnection;return t?!n&&a?d.a.createElement("p",null,d.a.createElement("i",{className:"fa fa-spinner animate-spin"}),d.a.createElement("span",{className:"animate-pulse-opacity"},"Waiting for panda USB connection")):void 0:d.a.createElement("p",null,d.a.createElement("i",{className:"fa fa-exclamation-triangle"}),d.a.createElement("a",{onClick:this.toggleUsbInstructions},d.a.createElement("span",null,"WebUSB is not enabled in your Chrome settings")))}},{key:"renderLogin",value:function renderLogin(){return d.a.createElement("button",{onClick:this.navigateToExplorer,className:"button--primary button--kiosk"},d.a.createElement("i",{className:"fa fa-video-camera"}),d.a.createElement("strong",null,p.a.isAuthenticated()?"Find a drive in Explorer":"Log in with Explorer"),d.a.createElement("sup",null,'Click "View CAN Data" while replaying a drive'))}},{key:"renderOnboardingOptions",value:function renderOnboardingOptions(){return d.a.createElement("div",{className:"cabana-onboarding-modes"},d.a.createElement("div",{className:"cabana-onboarding-mode"},this.renderLogin()),d.a.createElement("div",{className:"cabana-onboarding-mode"},d.a.createElement("button",{className:w()("button--secondary button--kiosk",{"is-disabled":!this.state.webUsbEnabled||this.props.attemptingPandaConnection}),onClick:this.attemptPandaConnection},d.a.createElement("i",{className:"fa fa-bolt"}),d.a.createElement("strong",null,"Launch Realtime Streaming"),d.a.createElement("sup",null,"Interactively stream car data over USB with ",d.a.createElement("em",null,"panda")),this.renderPandaEligibility())))}},{key:"renderUsbInstructions",value:function renderUsbInstructions(){return d.a.createElement("div",{className:"cabana-onboarding-instructions"},d.a.createElement("button",{className:"button--small button--inverted",onClick:this.toggleUsbInstructions},d.a.createElement("i",{className:"fa fa-chevron-left"}),d.a.createElement("span",null," Go back")),d.a.createElement("h3",null,"Follow these directions to enable WebUSB:"),d.a.createElement("ol",{className:"cabana-onboarding-instructions-list list--bubbled"},d.a.createElement("li",null,d.a.createElement("p",null,d.a.createElement("strong",null,"Open your Chrome settings:")),d.a.createElement("div",{className:"inset"},d.a.createElement("span",null,"chrome://flags/#enable-experimental-web-platform-features"))),d.a.createElement("li",null,d.a.createElement("p",null,d.a.createElement("strong",null,"Enable Experimental Platform features:")),d.a.createElement("img",{alt:"Screenshot of Google Chrome Experimental Platform features",src:OnboardingModal.instructionalImages.step2})),d.a.createElement("li",null,d.a.createElement("p",null,d.a.createElement("strong",null,"Enable WebUSB:")),d.a.createElement("img",{alt:"Screenshot of Google Chrome enable WebUSB",src:OnboardingModal.instructionalImages.step3})),d.a.createElement("li",null,d.a.createElement("p",null,d.a.createElement("strong",null,"Relaunch your Chrome browser and try enabling live mode again.")))))}},{key:"renderModalContent",value:function renderModalContent(){return this.state.viewingUsbInstructions?this.renderUsbInstructions():this.renderOnboardingOptions()}},{key:"renderModalFooter",value:function renderModalFooter(){return d.a.createElement("p",null,d.a.createElement("span",null,"Don't have a"," ",d.a.createElement("a",{href:"https://panda.comma.ai",target:"_blank",rel:"noopener noreferrer"},"panda"),"?"," "),d.a.createElement("span",null,d.a.createElement("a",{href:"https://panda.comma.ai",target:"_blank",rel:"noopener noreferrer"},"Get one here")," "),d.a.createElement("span",null,"or ",d.a.createElement("a",{href:"".concat(window.location.href,"?demo=1")},"try the demo"),"."))}},{key:"render",value:function render(){return d.a.createElement(ce,{title:"Welcome to Cabana",subtitle:"Get started by selecting a drive from Explorer or enabling live mode",footer:this.renderModalFooter(),disableClose:!0,variations:["wide","dark"]},this.renderModalContent())}}]),OnboardingModal}(u.Component);ue.instructionalImages={step2:n(465),step3:n(466)};var de=n(228),ge=n.n(de),he=n(229),me=n.n(he),pe=function(){function OpenDBC(e){Object(S.a)(this,OpenDBC),this.token=e,this.github=new me.a({token:e}),this.sourceRepo=this.github.getRepo("commaai","opendbc"),this.githubUsername=null}return Object(E.a)(OpenDBC,[{key:"hasAuth",value:function hasAuth(){return null!==this.token}},{key:"getGithubUsername",value:function(){var e=Object(i.a)(s.a.mark((function _callee(){var e;return s.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(!this.githubUsername){t.next=4;break}return t.abrupt("return",this.githubUsername);case 4:return t.next=6,this.fetchGithubUsername();case 6:if(!(e=t.sent)){t.next=9;break}return t.abrupt("return",e);case 9:case"end":return t.stop()}}),_callee,this)})));return function getGithubUsername(){return e.apply(this,arguments)}}()},{key:"fetchGithubUsername",value:function(){var e=Object(i.a)(s.a.mark((function _callee2(){var e,t;return s.a.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.github.getUser();case 3:if(!(e=n.sent)){n.next=10;break}return n.next=7,e.getProfile();case 7:if(!(t=n.sent)){n.next=10;break}return n.abrupt("return",t.data.login);case 10:n.next=15;break;case 12:return n.prev=12,n.t0=n.catch(0),n.abrupt("return",null);case 15:case"end":return n.stop()}}),_callee2,this,[[0,12]])})));return function fetchGithubUsername(){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=Object(i.a)(s.a.mark((function _callee3(e){var t,n,a,i,o,l;return s.a.wrap((function _callee3$(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e?t=this.sourceRepo:(n=e.split("/"),a=Object(r.a)(n,2),i=a[0],o=a[1],t=this.github.getRepo(i,o)),s.prev=1,s.next=4,t.getContents("master","");case 4:return l=s.sent,s.abrupt("return",l.data.map((function(e){return e.path})));case 8:return s.prev=8,s.t0=s.catch(1),s.abrupt("return",[]);case 11:case"end":return s.stop()}}),_callee3,this,[[1,8]])})));return function list(t){return e.apply(this,arguments)}}()},{key:"getDbcContents",value:function(){var e=Object(i.a)(s.a.mark((function _callee4(e,t){var n,a,i,o,l,c,u,d;return s.a.wrap((function _callee4$(s){for(;;)switch(s.prev=s.next){case 0:return void 0===t?n=this.sourceRepo:(a=t.split("/"),i=Object(r.a)(a,2),o=i[0],l=i[1],n=this.github.getRepo(o,l)),s.next=3,n.getContents("master",e);case 3:return c=s.sent,u=c.data.download_url,s.next=7,fetch(u,{cache:"no-cache"});case 7:return d=s.sent,s.abrupt("return",d.text());case 9:case"end":return s.stop()}}),_callee4,this)})));return function getDbcContents(t,n){return e.apply(this,arguments)}}()},{key:"repoSourceIsOpenDbc",value:function repoSourceIsOpenDbc(e){return e.source&&e.source.full_name===j.g}},{key:"getUserOpenDbcFork",value:function(){var e=Object(i.a)(s.a.mark((function _callee5(){var e,t,n,a;return s.a.wrap((function _callee5$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getGithubUsername();case 2:if(e=s.sent){s.next=5;break}return s.abrupt("return",null);case 5:return t=this.github.getRepo(e,"opendbc"),s.next=8,t.getDetails();case 8:if(n=s.sent,a=n.data,!this.repoSourceIsOpenDbc(a)){s.next=14;break}return s.abrupt("return",a.full_name);case 14:return s.abrupt("return",null);case 15:case"end":return s.stop()}}),_callee5,this)})));return function getUserOpenDbcFork(){return e.apply(this,arguments)}}()},{key:"fork",value:function(){var e=Object(i.a)(s.a.mark((function _callee6(){return s.a.wrap((function _callee6$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sourceRepo.fork();case 2:if(202!==e.sent.status){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),_callee6,this)})));return function fork(){return e.apply(this,arguments)}}()},{key:"commitFile",value:function(){var e=Object(i.a)(s.a.mark((function _callee7(e,t,n,a){var i,o,l,c,u,d,g,h,m,p,f,b,v,S,E,y,O;return s.a.wrap((function _callee7$(s){for(;;)switch(s.prev=s.next){case 0:return i=e.split("/"),o=Object(r.a)(i,2),l=o[0],c=o[1],u=this.github.getRepo(l,c),s.next=4,u.getRef("heads/master");case 4:return d=s.sent,g=d.data,s.next=8,u.getCommit(g.object.sha);case 8:return h=s.sent,m=h.data,s.next=12,u.getTree(m.tree.sha);case 12:return p=s.sent,f=p.data,b=[{mode:"100644",path:t,type:"blob",content:n}],s.next=17,u.createTree(b,f.sha);case 17:return v=s.sent,S=v.data,s.next=21,u.commit(m.sha,S.sha,a||"OpenDBC updates");case 21:return E=s.sent,y=E.data,s.next=25,u.updateHead("heads/master",y.sha,!1);case 25:return O=s.sent,s.abrupt("return",200===O.status);case 27:case"end":return s.stop()}}),_callee7,this)})));return function commitFile(t,n,a,s){return e.apply(this,arguments)}}()}]),OpenDBC}(),fe=function(e){function SaveDbcModal(e){var t;return Object(S.a)(this,SaveDbcModal),(t=Object(y.a)(this,Object(O.a)(SaveDbcModal).call(this,e))).state={tab:"GitHub",openDbcFork:null,dbcFilename:t.props.sourceDbcFilename,tabs:["GitHub","Download"],commitMessage:"OpenDBC updates"},t.commitToGitHub=t.commitToGitHub.bind(Object(C.a)(t)),t.downloadDbcFile=t.downloadDbcFile.bind(Object(C.a)(t)),t.forkOpenDbcAndWait=t.forkOpenDbcAndWait.bind(Object(C.a)(t)),t.renderForkButton=t.renderForkButton.bind(Object(C.a)(t)),t.renderTabNavigation=t.renderTabNavigation.bind(Object(C.a)(t)),t.renderActions=t.renderActions.bind(Object(C.a)(t)),t}return Object(_.a)(SaveDbcModal,e),Object(E.a)(SaveDbcModal,[{key:"componentWillMount",value:function(){var e=Object(i.a)(s.a.mark((function _callee(){var e;return s.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.openDbcClient.getUserOpenDbcFork();case 2:e=t.sent,this.setState({openDbcFork:e});case 4:case"end":return t.stop()}}),_callee,this)})));return function componentWillMount(){return e.apply(this,arguments)}}()},{key:"commitToGitHub",value:function(){var e=Object(i.a)(s.a.mark((function _callee2(){var e,t,n,a;return s.a.wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:return e=this.state,t=e.openDbcFork,n=e.dbcFilename,a=n.replace(/\.dbc/g,"")+".dbc",s.next=4,this.props.openDbcClient.commitFile(t,a,this.props.dbc.text(),this.state.commitMessage);case 4:s.sent&&this.props.onDbcSaved(a);case 6:case"end":return s.stop()}}),_callee2,this)})));return function commitToGitHub(){return e.apply(this,arguments)}}()},{key:"downloadDbcFile",value:function(){var e=Object(i.a)(s.a.mark((function _callee3(){var e,t;return s.a.wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:e=new Blob([this.props.dbc.text()],{type:"text/plain;charset=utf-8"}),t=this.state.dbcFilename.replace(/\.dbc/g,"")+".dbc",ge.a.saveAs(e,t,!0);case 3:case"end":return n.stop()}}),_callee3,this)})));return function downloadDbcFile(){return e.apply(this,arguments)}}()},{key:"forkOpenDbcAndWait",value:function(){var e=Object(i.a)(s.a.mark((function _callee4(){var e,t,n,a=this;return s.a.wrap((function _callee4$(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.props.openDbcClient.fork();case 2:s.sent&&(e=!1,t=window.setTimeout((function(){e=!0}),3e4),n=window.setInterval((function(){e?window.clearInterval(n):a.props.openDbcClient.getUserOpenDbcFork().then((function(e){null!==e&&(a.setState({openDbcFork:e}),window.clearInterval(n),window.clearTimeout(t))}))}),3e3));case 4:case"end":return s.stop()}}),_callee4,this)})));return function forkOpenDbcAndWait(){return e.apply(this,arguments)}}()},{key:"primaryActionDisabled",value:function primaryActionDisabled(){var e=this.state.tab;return"GitHub"===e?null!=this.state.openDbcFork&&this.state.dbcFilename.length>0:"Download"===e||void 0}},{key:"renderForkButton",value:function renderForkButton(){return d.a.createElement("button",{onClick:this.forkOpenDbcAndWait},d.a.createElement("i",{className:"fa fa-code-fork"}),d.a.createElement("span",null," Fork OpenDBC"))}},{key:"renderForkStep",value:function renderForkStep(){var e,t=this.state.openDbcFork;return e=null!==t?d.a.createElement("button",{disabled:!0},d.a.createElement("i",{className:"fa fa-code-fork"}),d.a.createElement("span",null," Forked: ",t)):this.props.hasGithubAuth?this.renderForkButton():this.props.loginWithGithub,d.a.createElement("div",null,null!==t?this.renderForkButton():null,e,d.a.createElement("hr",null))}},{key:"renderFilenameField",value:function renderFilenameField(){var e=this;return d.a.createElement("div",{className:"form-field","data-extension":".dbc"},d.a.createElement("label",{htmlFor:"filename"},d.a.createElement("span",null,"Choose a filename:"),d.a.createElement("sup",null,"Pick a unique name for your car DBC file")),d.a.createElement("input",{type:"text",id:"filename",value:this.state.dbcFilename.replace(/\.dbc/g,""),size:this.state.dbcFilename.length+2,onChange:function onChange(t){return e.setState({dbcFilename:t.target.value})}}))}},{key:"renderTabNavigation",value:function renderTabNavigation(){var e=this;return d.a.createElement("div",{className:"cabana-tabs-navigation"},this.state.tabs.map((function(t){return d.a.createElement("a",{className:w()({"is-active":e.state.tab===t}),onClick:function onClick(){e.setState({tab:t})},key:t},d.a.createElement("span",null,t))})))}},{key:"renderCommitMessage",value:function renderCommitMessage(){var e=this;return d.a.createElement("div",{className:"form-field"},d.a.createElement("label",{htmlFor:"commit-message"},d.a.createElement("span",null,"Commit Message:"),d.a.createElement("sup",null,"Message appears in git logs")),d.a.createElement("input",{type:"text",id:"commit-message",value:this.state.commitMessage,onChange:function onChange(t){return e.setState({commitMessage:t.target.value})}}))}},{key:"renderTabContent",value:function renderTabContent(){var e=this.state.tab;return"GitHub"===e?d.a.createElement("div",null,this.renderForkStep(),this.renderFilenameField(),this.renderCommitMessage()):"Download"===e?d.a.createElement("div",null,this.renderFilenameField()):void 0}},{key:"renderActions",value:function renderActions(){var e=this.state.tab;return"GitHub"===e?d.a.createElement("div",null,d.a.createElement("button",{className:"button--inverted",onClick:this.props.handleClose},d.a.createElement("span",null,"Cancel")),d.a.createElement("button",{className:"button--primary",onClick:this.commitToGitHub},d.a.createElement("span",null,"Commit to GitHub"))):"Download"===e?d.a.createElement("div",null,d.a.createElement("button",{className:"button--inverted",onClick:this.props.handleClose},d.a.createElement("span",null,"Cancel")),d.a.createElement("button",{className:"button--primary",onClick:this.downloadDbcFile},d.a.createElement("span",null,"Download"))):void 0}},{key:"render",value:function render(){return d.a.createElement(ce,{title:"Save DBC File",subtitle:"Save your progress and output to a DBC file",handleClose:this.props.handleClose,navigation:this.renderTabNavigation(),actions:this.renderActions()},this.renderTabContent())}}]),SaveDbcModal}(u.Component),be=function(e){function GithubDbcList(e){var t;return Object(S.a)(this,GithubDbcList),(t=Object(y.a)(this,Object(O.a)(GithubDbcList).call(this,e))).state={paths:[],selectedPath:null,pathQuery:""},t.updatePathQuery=t.updatePathQuery.bind(Object(C.a)(t)),t}return Object(_.a)(GithubDbcList,e),Object(E.a)(GithubDbcList,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=this;e.repo!==this.props.repo&&this.props.openDbcClient.list(e.repo).then((function(e){t.setState({paths:e,selectedPath:null})}))}},{key:"componentWillMount",value:function componentWillMount(){var e=this;this.props.openDbcClient.list(this.props.repo).then((function(t){t=t.filter((function(e){return-1!==e.indexOf(".dbc")})),e.setState({paths:t})}))}},{key:"updatePathQuery",value:function updatePathQuery(e){this.setState({pathQuery:e.target.value})}},{key:"selectPath",value:function selectPath(e){var t=this;this.setState({selectedPath:e}),this.props.openDbcClient.getDbcContents(e,this.props.repo).then((function(n){t.props.onDbcLoaded(e,n)}))}},{key:"render",value:function render(){var e=this;return d.a.createElement("div",{className:"cabana-dbc-list"},d.a.createElement("div",{className:"cabana-dbc-list-header"},d.a.createElement("a",{href:"https://github.com/".concat(this.props.repo),target:"_blank"},d.a.createElement("i",{className:"fa fa-github"}),d.a.createElement("span",null,this.props.repo)),d.a.createElement("div",{className:"form-field form-field--small"},d.a.createElement("input",{type:"text",placeholder:"Search DBC Files",onChange:this.updatePathQuery}))),d.a.createElement("div",{className:"cabana-dbc-list-files"},this.state.paths.filter((function(t){return""===e.state.pathQuery|t.includes(e.state.pathQuery)})).map((function(t){return d.a.createElement("div",{className:w()("cabana-dbc-list-file",{"is-selected":e.state.selectedPath===t}),onClick:function onClick(){e.selectPath(t)},key:t},d.a.createElement("span",null,t))}))))}}]),GithubDbcList}(u.Component),ve=function(e){function DbcUpload(e){var t;return Object(S.a)(this,DbcUpload),(t=Object(y.a)(this,Object(O.a)(DbcUpload).call(this,e))).state={dbcText:""},t.onTextChanged=t.onTextChanged.bind(Object(C.a)(t)),t}return Object(_.a)(DbcUpload,e),Object(E.a)(DbcUpload,[{key:"onTextChanged",value:function onTextChanged(e){var t=e.target.value;this.setState({dbcText:t}),this.props.onDbcLoaded("from paste",t)}},{key:"render",value:function render(){return d.a.createElement("div",{className:"cabana-dbc-upload-raw"},d.a.createElement("div",{className:"form-field"},d.a.createElement("label",{htmlFor:"raw_dbc_upload"},d.a.createElement("span",null,"Raw DBC File:"),d.a.createElement("sup",null,"Paste your DBC text output within this box")),d.a.createElement("textarea",{value:this.state.dbcText,id:"raw_dbc_upload",className:"t-mono",placeholder:"PASTE DBC FILE HERE",onChange:this.onTextChanged})))}}]),DbcUpload}(u.Component),Se=function(e){function LoadDbcModal(e){var t;return Object(S.a)(this,LoadDbcModal),(t=Object(y.a)(this,Object(O.a)(LoadDbcModal).call(this,e))).state={tab:"OpenDBC",tabs:["OpenDBC","GitHub","Upload"],dbc:null,dbcSource:null,userOpenDbcRepo:null},t.onDbcLoaded=t.onDbcLoaded.bind(Object(C.a)(t)),t.handleSave=t.handleSave.bind(Object(C.a)(t)),t.renderTabNavigation=t.renderTabNavigation.bind(Object(C.a)(t)),t.renderTabContent=t.renderTabContent.bind(Object(C.a)(t)),t.renderActions=t.renderActions.bind(Object(C.a)(t)),t}return Object(_.a)(LoadDbcModal,e),Object(E.a)(LoadDbcModal,[{key:"componentWillMount",value:function componentWillMount(){var e=this;this.props.openDbcClient.getUserOpenDbcFork().then((function(t){e.setState({userOpenDbcRepo:t})}))}},{key:"onDbcLoaded",value:function onDbcLoaded(e,t){var n=new B.a(t);this.setState({dbcSource:e,dbc:n})}},{key:"handleSave",value:function handleSave(){var e=this.state,t=e.dbc,n=e.dbcSource;null!==t&&this.props.onDbcSelected(n,t)}},{key:"renderTabNavigation",value:function renderTabNavigation(){var e=this;return d.a.createElement("div",{className:"cabana-tabs-navigation"},this.state.tabs.map((function(t){return d.a.createElement("a",{className:w()({"is-active":e.state.tab===t}),onClick:function onClick(){e.setState({tab:t})},key:t},d.a.createElement("span",null,t))})))}},{key:"renderTabContent",value:function renderTabContent(){var e=this.state.tab;return"OpenDBC"===e?d.a.createElement(be,{onDbcLoaded:this.onDbcLoaded,repo:"commaai/opendbc",openDbcClient:this.props.openDbcClient}):"GitHub"===e?this.props.openDbcClient.hasAuth()?null===this.state.userOpenDbcRepo?d.a.createElement("div",null,"Fork it"):d.a.createElement(be,{onDbcLoaded:this.onDbcLoaded,repo:this.state.userOpenDbcRepo,openDbcClient:this.props.openDbcClient}):this.props.loginWithGithub:"Upload"===e?d.a.createElement(ve,{onDbcLoaded:this.onDbcLoaded}):void 0}},{key:"renderActions",value:function renderActions(){return d.a.createElement("div",null,d.a.createElement("button",{className:"button--inverted",onClick:this.props.handleClose},d.a.createElement("span",null,"Cancel")),d.a.createElement("button",{className:"button--primary",onClick:this.handleSave},d.a.createElement("span",null,"Load DBC")))}},{key:"render",value:function render(){return d.a.createElement(ce,{title:"Load DBC File",subtitle:"Modify an existing DBC file with Cabana",handleClose:this.props.handleClose,navigation:this.renderTabNavigation(),actions:this.renderActions()},this.renderTabContent())}}]),LoadDbcModal}(u.Component),Ee=function(e){function EditMessageModal(e){var t;return Object(S.a)(this,EditMessageModal),(t=Object(y.a)(this,Object(O.a)(EditMessageModal).call(this,e))).state={messageFrame:e.message.frame.copy()},t.handleSave=t.handleSave.bind(Object(C.a)(t)),t.editTransmitter=t.editTransmitter.bind(Object(C.a)(t)),t.addTransmitter=t.addTransmitter.bind(Object(C.a)(t)),t.renderActions=t.renderActions.bind(Object(C.a)(t)),t}return Object(_.a)(EditMessageModal,e),Object(E.a)(EditMessageModal,[{key:"handleSave",value:function handleSave(){this.props.handleSave(this.state.messageFrame)}},{key:"addTransmitter",value:function addTransmitter(){var e=this.state.messageFrame;e.addTransmitter(),this.setState({messageFrame:e})}},{key:"editTransmitter",value:function editTransmitter(e){}},{key:"renderActions",value:function renderActions(){return d.a.createElement("div",null,d.a.createElement("button",{className:"button--inverted",onClick:this.props.handleClose},"Cancel"),d.a.createElement("button",{className:"button--primary",onClick:this.handleSave},"Save Message"))}},{key:"render",value:function render(){var e=this;return d.a.createElement(ce,{title:"Edit Message: (".concat(this.props.message.id,")"),subtitle:"Make changes and update defaults of this message",handleClose:this.props.handleClose,handleSave:this.handleSave,actions:this.renderActions()},d.a.createElement("div",{className:"form-field"},d.a.createElement("label",{htmlFor:"message_name"},d.a.createElement("span",null,"Name"),d.a.createElement("sup",null,"Customize the name of this message")),d.a.createElement("input",{type:"text",id:"message_name",value:this.state.messageFrame.name,onChange:function onChange(t){var n=e.state.messageFrame;n.name=t.target.value,e.setState({messageFrame:n})}})),d.a.createElement("div",{className:"form-field"},d.a.createElement("label",{htmlFor:"message_size"},d.a.createElement("span",null,"Size"),d.a.createElement("sup",null,"Add a size parameter to this message")),d.a.createElement("input",{type:"number",id:"message_size",value:this.state.messageFrame.size,onChange:function onChange(t){var n=e.state.messageFrame;t.target.value>8||(n.size=parseInt(t.target.value,10),e.setState({messageFrame:n}))}})),d.a.createElement("div",{className:"form-field u-hidden"},d.a.createElement("label",{htmlFor:"message_transmitters"},d.a.createElement("span",null,"Transmitters"),d.a.createElement("sup",null,"Add the physical ECU units that this message is coming from.")),d.a.createElement("div",{className:"form-field-inset"},d.a.createElement("ul",{className:"form-field-inset-list"},this.state.messageFrame.transmitters.map((function(e){return d.a.createElement("li",{className:"form-field-inset-list-item",key:e},d.a.createElement("div",{className:"form-field-inset-list-item-title"},d.a.createElement("span",null,e)),d.a.createElement("div",{className:"form-field-inset-list-item-action"},d.a.createElement("button",{className:"button--tiny button--alpha"},"Edit")))})),d.a.createElement("button",{className:"button--tiny button--alpha"},d.a.createElement("span",null,d.a.createElement("i",{className:"fa fa-plus"})," Add Transmitter"))))))}}]),EditMessageModal}(u.Component),ye=n(57),Oe=n(58);function _templateObject2(){var e=Object(ye.a)(["\n  display: block;\n  animation-name: ",";\n  animation-duration: 2s;\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n  background-color: ",";\n  background-image: linear-gradient(\n    to right,\n    "," 0,\n    "," 50%,\n    "," 50%,\n    "," 100%\n  );\n  background-repeat: repeat-x;\n  background-size: 25pc 25pc;\n  width: 200%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 2;\n"]);return _templateObject2=function _templateObject2(){return e},e}function _templateObject(){var e=Object(ye.a)(["\n  0% {\n    transform: translateX(0)\n  }\n  to {\n    transform: translateX(-400px)\n  }\n"]);return _templateObject=function _templateObject(){return e},e}var Ce=Object(Oe.b)(_templateObject()),_e=Object(Oe.a)("div")(_templateObject2(),Ce,"rgba(74, 242, 161, 1.00)","rgba(140, 169, 197, 1.00)","rgba(140, 169, 197, 1.00)","rgba(74, 242, 161, 1.00)","rgba(74, 242, 161, 1.00)");function fetchPersistedDbc(e){var t=window.localStorage.getItem(e);if(null!==t){var n=JSON.parse(t),a=n.dbcFilename,s=n.dbcText;return{dbc:new B.a(s),dbcText:s,dbcFilename:a}}return null}function localstorage_persistDbc(e,t){var n=t.dbcFilename,a=t.dbc,s=JSON.stringify({dbcFilename:n,dbcText:a.text()});window.localStorage.setItem(e,s)}var ke="gh_auth_token";var Me=n(230),xe=n.n(Me),we=function(){function UnloggerClient(){Object(S.a)(this,UnloggerClient),this.socket=xe()(j.j)}return Object(E.a)(UnloggerClient,[{key:"seek",value:function seek(e,t,n){this.socket.emit("seek",e,t,n)}}]),UnloggerClient}();n(126);function CanExplorer_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function CanExplorer_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CanExplorer_ownKeys(n,!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CanExplorer_ownKeys(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe=n(525),De=n(526),Te=n(527),je=n(528),Ne=function(e){function CanExplorer(e){var t;return Object(S.a)(this,CanExplorer),(t=Object(y.a)(this,Object(O.a)(CanExplorer).call(this,e))).partChangeDebounced=debounce((function(){var e=Object(r.a)(t.state.currentParts,2),n=e[0],a=e[1],s=CanExplorer_objectSpread({},t.state.messages),i=60*n,o=60*a+60;Object.keys(s).forEach((function(e){for(var t=s[e].entries,n=0,a=t.length-1;n<t.length&&t[n].relTime<i;)n++;for(;a>n&&t[a].relTime>o;)a--;(n>0||a<t.length-1)&&(s[e].entries=t.slice(n,a+1))})),t.setState({messages:s}),t.spawnWorker()}),500),t.state={messages:{},selectedMessages:[],route:null,canFrameOffset:0,firstCanTime:null,lastBusTime:null,selectedMessage:null,currentParts:[0,0],currentPart:0,currentWorkers:{},loadingParts:[],loadedParts:[],showOnboarding:!1,showLoadDbc:!1,showSaveDbc:!1,showEditMessageModal:!1,editMessageModalMessage:null,dbc:e.dbc?e.dbc:new B.a,dbcText:e.dbc?e.dbc.text():(new B.a).text(),dbcFilename:e.dbcFilename?e.dbcFilename:"New_DBC",dbcLastSaved:null,seekTime:0,seekIndex:0,maxByteStateChangeCount:0,isLoading:!0,partsLoaded:0,spawnWorkerHash:null,attemptingPandaConnection:!1,pandaNoDeviceSelected:!1,live:!1,isGithubAuthenticated:null!==e.githubAuthToken&&void 0!==e.githubAuthToken,shareUrl:null,logUrls:null},t.openDbcClient=new pe(e.githubAuthToken),j.k&&(t.unloggerClient=new we),t.showOnboarding=t.showOnboarding.bind(Object(C.a)(t)),t.hideOnboarding=t.hideOnboarding.bind(Object(C.a)(t)),t.showLoadDbc=t.showLoadDbc.bind(Object(C.a)(t)),t.hideLoadDbc=t.hideLoadDbc.bind(Object(C.a)(t)),t.showSaveDbc=t.showSaveDbc.bind(Object(C.a)(t)),t.hideSaveDbc=t.hideSaveDbc.bind(Object(C.a)(t)),t.showEditMessageModal=t.showEditMessageModal.bind(Object(C.a)(t)),t.hideEditMessageModal=t.hideEditMessageModal.bind(Object(C.a)(t)),t.onDbcSelected=t.onDbcSelected.bind(Object(C.a)(t)),t.onDbcSaved=t.onDbcSaved.bind(Object(C.a)(t)),t.onConfirmedSignalChange=t.onConfirmedSignalChange.bind(Object(C.a)(t)),t.onPartChange=t.onPartChange.bind(Object(C.a)(t)),t.onMessageFrameEdited=t.onMessageFrameEdited.bind(Object(C.a)(t)),t.onSeek=t.onSeek.bind(Object(C.a)(t)),t.onUserSeek=t.onUserSeek.bind(Object(C.a)(t)),t.onMessageSelected=t.onMessageSelected.bind(Object(C.a)(t)),t.onMessageUnselected=t.onMessageUnselected.bind(Object(C.a)(t)),t.initCanData=t.initCanData.bind(Object(C.a)(t)),t.updateSelectedMessages=t.updateSelectedMessages.bind(Object(C.a)(t)),t.handlePandaConnect=t.handlePandaConnect.bind(Object(C.a)(t)),t.processStreamedCanMessages=t.processStreamedCanMessages.bind(Object(C.a)(t)),t.onStreamedCanMessagesProcessed=t.onStreamedCanMessagesProcessed.bind(Object(C.a)(t)),t.showingModal=t.showingModal.bind(Object(C.a)(t)),t.lastMessageEntriesById=t.lastMessageEntriesById.bind(Object(C.a)(t)),t.githubSignOut=t.githubSignOut.bind(Object(C.a)(t)),t.downloadLogAsCSV=t.downloadLogAsCSV.bind(Object(C.a)(t)),t.pandaReader=new T.a,t.pandaReader.onMessage(t.processStreamedCanMessages),t}return Object(_.a)(CanExplorer,e),Object(E.a)(CanExplorer,[{key:"componentWillMount",value:function componentWillMount(){var e=this,t=this.props,n=t.dongleId,a=t.name;if(p.a.isAuthenticated()&&!a)this.showOnboarding();else if(this.props.max&&this.props.url&&!this.props.exp&&!this.props.sig){var s=this.props,i=s.max,o=s.url,l=M()(a,"YYYY-MM-DD--H-m-s"),c={fullname:n+"|"+a,proclog:i,url:o,start_time:l};this.setState({route:c,currentParts:[0,Math.min(i,j.h-1)]},this.initCanData)}else if(n&&a){var u,d,g=n+"|"+a;u=this.props.url?Promise.resolve(this.props.url):f.drives.getRouteInfo(g).then((function(e){return e.url})),d=this.props.sig&&this.props.exp?f.raw.getLogUrls(g,{sig:this.props.sig,exp:this.props.exp}):f.raw.getLogUrls(g),Promise.all([u,d]).then((function(t){var n=Object(r.a)(t,2),s=n[0],i=n[1],o={route:{fullname:g,proclog:i.length-1,start_time:M()(a,"YYYY-MM-DD--H-m-s"),url:s},currentParts:[0,Math.min(i.length-1,j.h-1)],logUrls:i};e.setState(o,e.initCanData),f.drives.getShareSignature(g).then((function(t){return e.setState({shareUrl:Object(N.b)({add:{exp:t.exp,sig:t.sig,max:i.length-1,url:s},remove:[j.c]})})}))})).catch((function(t){console.error(t),e.showOnboarding()}))}else this.showOnboarding()}},{key:"initCanData",value:function initCanData(){this.state.route;this.spawnWorker(this.state.currentParts)}},{key:"onDbcSelected",value:function onDbcSelected(e,t){var n=this,a=this.state.route;this.hideLoadDbc(),this.persistDbc({dbcFilename:e,dbc:t}),a?this.setState({dbc:t,dbcFilename:e,dbcText:t.text(),partsLoaded:0,selectedMessage:null,messages:{}},(function(){n.spawnWorker()})):this.setState({dbc:t,dbcFilename:e,dbcText:t.text(),messages:{}})}},{key:"onDbcSaved",value:function onDbcSaved(e){var t=M()();this.setState({dbcLastSaved:t,dbcFilename:e}),this.hideSaveDbc()}},{key:"downloadLogAsCSV",value:function downloadLogAsCSV(){console.log("downloadLogAsCSV:start");var e=this.state.dbcFilename,t=Object(P.createWriteStream)("".concat(e.replace(/\.dbc/g,"-")).concat(+new Date,".csv")).getWriter(),n=new TextEncoder;return this.state.live?this.downloadLiveLogAsCSV(dataHandler):this.downloadRawLogAsCSV(dataHandler);function dataHandler(e){var a=e.data,s=a.logData,i=a.shouldClose,r=a.progress;if(i)return console.log("downloadLogAsCSV:close"),void t.close();console.log("CSV export progress:",r);var o=n.encode(s+"\n");t.write(o)}}},{key:"downloadRawLogAsCSV",value:function downloadRawLogAsCSV(e){return this.downloadLiveLogAsCSV(e)}},{key:"downloadLiveLogAsCSV",value:function downloadLiveLogAsCSV(e){var t=this,n=this.state,a=n.firstCanTime,s=n.canFrameOffset,i=new De;i.onmessage=e,i.postMessage({data:Object.keys(this.state.messages).map((function(e){var n=t.state.messages[e];return{id:n.id,bus:n.bus,address:n.address,entries:n.entries.slice()}})),canStartTime:a-s})}},{key:"addAndRehydrateMessages",value:function addAndRehydrateMessages(e,t){t=t||{};var n=CanExplorer_objectSpread({},this.state.messages);for(var a in e)if(!0!==t.replace&&a in n){var s=n[a].entries,i=e[a].entries,r=s.length,o=i.length,l=r+o;n[a].entries=Array(l);for(var c=0,u=0,d=0;d<l;++d)u>=o?n[a].entries[d]=s[c++]:c>=r?n[a].entries[d]=i[u++]:s[c].relTime<=i[u].relTime?n[a].entries[d]=s[c++]:s[c].relTime>=i[u].relTime&&(n[a].entries[d]=i[u++]);n[a].byteStateChangeCounts=e[a].byteStateChangeCounts}else n[a]=e[a],n[a].frame=this.state.dbc.getMessageFrame(n[a].address);return n}},{key:"cancelWorker",value:function cancelWorker(e){var t=CanExplorer_objectSpread({},this.state.currentWorkers),n=t[e],a=n.worker,s=n.part,i=this.state.loadingParts.filter((function(e){return e!==s})),r=this.state.loadedParts.filter((function(e){return e!==s}));delete t[e],console.log("Stoping worker",e,"for part",s),a.postMessage({action:"terminate"}),this.setState({currentWorkers:t,loadingParts:i,loadedParts:r})}},{key:"spawnWorker",value:function spawnWorker(e){var t=this,n=this.state,a=n.currentParts,s=n.currentWorkers;console.log("Checking worker for",a),this.state.isLoading||this.setState({isLoading:!0});var i=Object(r.a)(a,2),o=i[0],l=i[1];Object.keys(s).forEach((function(e){(s[e].part<o||s[e].part>l)&&t.cancelWorker(e)})),s=CanExplorer_objectSpread({},this.state.currentWorkers);var c=this.state,u=c.loadingParts,d=c.loadedParts,g=c.currentPart;u=u.filter((function(e){return e>=o&&e<=l})),d=d.filter((function(e){return e>=o&&e<=l}));for(var h=-1,m=Object.keys(s).map((function(e){return s[e].part})),p=0;p<=l-o;++p){var f=g+p;if(f>l&&(f=o+(f-o)%(l-o+1)),-1===m.indexOf(f)){h=f;break}}if(-1===h)return console.log("Loading complete"),void this.setState({isLoading:!1});console.log("Starting worker for part",h);var v=(e=e||{}).prevMsgEntries,S=this.state,E=S.dbc,y=S.dbcFilename,O=S.route,C=S.firstCanTime,_=S.canFrameOffset,k=S.maxByteStateChangeCount;if(!v){var M=this.state.messages;v={},Object.keys(M).forEach((function(e){var t=M[e].entries;v[e]=t[t.length-1]}))}var x=new Pe,w=function hash(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString(16)}(Math.random().toString(16));s[w]={part:h,worker:x},u=[h].concat(Object(b.a)(u)),this.setState({currentWorkers:s,loadingParts:u}),x.onmessage=function(e){if(void 0!==t.state.currentWorkers[w]){if(t.state.dbcFilename===y){var n=e.data,a=n.newMessages,s=n.maxByteStateChangeCount,i=n.isFinished;s>t.state.maxByteStateChangeCount?t.setState({maxByteStateChangeCount:s}):s=t.state.maxByteStateChangeCount;var r=t.addAndRehydrateMessages(a,s),o={};for(var l in a)o[l]=a[l].entries[a[l].entries.length-1];if(i){var c=t.state.loadingParts.filter((function(e){return e!==h})),u=[h].concat(Object(b.a)(t.state.loadedParts));t.setState({messages:r,partsLoaded:t.state.partsLoaded+1,loadingParts:c,loadedParts:u},(function(){t.spawnWorker({prevMsgEntries:o,spawnWorkerHash:w,prepend:!1})}))}else t.setState({messages:r})}}else console.log("Worker was canceled")},x.postMessage({base:O.url,num:h,isDemo:this.props.isDemo,isLegacyShare:this.props.isLegacyShare,logUrls:this.state.logUrls,dbcText:E.text(),route:O.fullname,part:h,canStartTime:null!=C?C-_:null,prevMsgEntries:v,maxByteStateChangeCount:k})}},{key:"showingModal",value:function showingModal(){var e=this.state,t=e.showOnboarding,n=e.showLoadDbc,a=e.showSaveDbc,s=e.showAddSignal,i=e.showEditMessageModal;return t||n||a||s||i}},{key:"showOnboarding",value:function showOnboarding(){this.setState({showOnboarding:!0})}},{key:"hideOnboarding",value:function hideOnboarding(){this.setState({showOnboarding:!1})}},{key:"showLoadDbc",value:function showLoadDbc(){this.setState({showLoadDbc:!0})}},{key:"hideLoadDbc",value:function hideLoadDbc(){this.setState({showLoadDbc:!1})}},{key:"showSaveDbc",value:function showSaveDbc(){this.setState({showSaveDbc:!0})}},{key:"hideSaveDbc",value:function hideSaveDbc(){this.setState({showSaveDbc:!1})}},{key:"reparseMessages",value:function reparseMessages(e){var t=this;this.setState({isLoading:!0});var n=this.state.dbc,a=new Te;a.onmessage=function(e){var n=e.data;n=t.addAndRehydrateMessages(n,{replace:!0}),t.setState({messages:n,isLoading:!1})},a.postMessage({messages:e,dbcText:n.text(),canStartTime:this.state.firstCanTime})}},{key:"updateMessageFrame",value:function updateMessageFrame(e,t){var n=this.state.messages;n[e].frame=t,this.setState({messages:n})}},{key:"persistDbc",value:function persistDbc(e){var t=e.dbcFilename,n=e.dbc,a=this.state.route;localstorage_persistDbc(a?a.fullname:"live",{dbcFilename:t,dbc:n})}},{key:"onConfirmedSignalChange",value:function onConfirmedSignalChange(e,t){var n=this,a=this.state,s=a.dbc,i=a.dbcFilename;s.setSignals(e.address,CanExplorer_objectSpread({},t)),this.updateMessageFrame(e.id,s.getMessageFrame(e.address)),this.persistDbc({dbcFilename:i,dbc:s});var r={},o=CanExplorer_objectSpread({},e),l=s.getMessageFrame(e.address);o.frame=l,r[e.id]=o,this.setState({dbc:s,dbcText:s.text()},(function(){return n.reparseMessages(r)}))}},{key:"onPartChange",value:function onPartChange(e){var t=this.state,n=t.currentParts,a=t.currentPart,s=t.canFrameOffset,i=t.route;if(-1!==s&&e!==a){var r=Math.min(i.proclog,e+1),o=Math.max(0,r-j.h+1);0===o&&(r=Math.min(i.proclog,2));n[1],n[0];n=[o,r],(a=e)===this.state.currentPart&&n[0]===this.state.currentParts[0]&&n[1]===this.state.currentParts[1]||this.setState({currentParts:n,currentPart:a},this.partChangeDebounced)}}},{key:"showEditMessageModal",value:function showEditMessageModal(e){var t=this.state.messages[e];t.frame||(t.frame=this.state.dbc.createFrame(t.address)),this.setState({showEditMessageModal:!0,editMessageModalMessage:e,messages:this.state.messages,dbcText:this.state.dbc.text()})}},{key:"hideEditMessageModal",value:function hideEditMessageModal(){this.setState({showEditMessageModal:!1})}},{key:"onMessageFrameEdited",value:function onMessageFrameEdited(e){var t=this.state,n=t.messages,a=t.dbcFilename,s=t.dbc,i=t.editMessageModalMessage,r=Object.assign({},n[i]);r.frame=e,s.messages.set(e.id,e),this.persistDbc({dbcFilename:a,dbc:s}),n[i]=r,this.setState({messages:n,dbc:s,dbcText:s.text()}),this.hideEditMessageModal()}},{key:"onSeek",value:function onSeek(e,t){this.setState({seekIndex:e,seekTime:t});var n=~~(t/60);n!==this.state.currentPart&&this.onPartChange(n)}},{key:"onUserSeek",value:function onUserSeek(e){j.k&&this.unloggerClient.seek(this.props.dongleId,this.props.name,e);var t,n=this.state.messages[this.state.selectedMessage];n?-1===(t=n.entries.findIndex((function(t){return t.relTime>=e})))&&(t=0):t=0,this.onSeek(t,e)}},{key:"onMessageSelected",value:function onMessageSelected(e){var t=this.state,n=t.seekTime,a=t.seekIndex,s=t.messages[e];n>0&&s.entries.length>0&&(-1===(a=s.entries.findIndex((function(e){return e.relTime>=n})))&&(a=0),n=s.entries[a].relTime),this.setState({seekTime:n,seekIndex:a,selectedMessage:e})}},{key:"updateSelectedMessages",value:function updateSelectedMessages(e){this.setState({selectedMessages:e})}},{key:"onMessageUnselected",value:function onMessageUnselected(e){this.setState({selectedMessage:null})}},{key:"loginWithGithub",value:function loginWithGithub(){var e=this.state.route;return d.a.createElement("a",{href:authorizeUrl(e&&e.fullname?e.fullname:""),className:"button button--dark button--inline"},d.a.createElement("i",{className:"fa fa-github"}),d.a.createElement("span",null," Log in with Github"))}},{key:"lastMessageEntriesById",value:function lastMessageEntriesById(e,t){var n=Object(r.a)(t,2),a=n[0],s=n[1];return e[a]=s.entries[s.entries.length-1],e}},{key:"processStreamedCanMessages",value:function processStreamedCanMessages(e){var t=this.state.dbcText,n=this.state,a=n.firstCanTime,s=n.lastBusTime,i=n.messages,o=n.maxByteStateChangeCount,l=Object.entries(i).reduce(this.lastMessageEntriesById,{}),c=Object.entries(i).reduce((function(e,t){var n=Object(r.a)(t,2),a=n[0],s=n[1];return e[a]=s.byteStateChangeCounts,e}),{});this.canStreamerWorker.postMessage({newCanMessages:e,prevMsgEntries:l,firstCanTime:a,dbcText:t,lastBusTime:s,byteStateChangeCountsByMessage:c,maxByteStateChangeCount:o})}},{key:"firstEntryIndexInsideStreamingWindow",value:function firstEntryIndexInsideStreamingWindow(e){for(var t=e[e.length-1].relTime-j.i,n=0;n<e.length;n++)if(e[n].relTime>t)return n;return 0}},{key:"enforceStreamingMessageWindow",value:function enforceStreamingMessageWindow(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var a=t[n],s=e[a];if(!(s.entries.length<2))if(s.entries[s.entries.length-1].relTime-s.entries[0].relTime>j.i){var i=this.firstEntryIndexInsideStreamingWindow(s.entries);s.entries=s.entries.slice(i),e[a]=s}}return e}},{key:"_onStreamedCanMessagesProcessed",value:function _onStreamedCanMessagesProcessed(e){var t=e.newMessages,n=e.seekTime,a=e.lastBusTime,s=e.firstCanTime,i=e.maxByteStateChangeCount;i<this.state.maxByteStateChangeCount&&(i=this.state.maxByteStateChangeCount);var r=this.addAndRehydrateMessages(t);r=this.enforceStreamingMessageWindow(r);var o=this.state,l=o.seekIndex,c=o.selectedMessages;c.length>0&&void 0!==r[c[0]]&&(l=Math.max(0,r[c[0]].entries.length-1)),this.setState({messages:r,seekTime:n,seekIndex:l,lastBusTime:a,firstCanTime:s,maxByteStateChangeCount:i})}},{key:"onStreamedCanMessagesProcessed",value:function onStreamedCanMessagesProcessed(e){this._onStreamedCanMessagesProcessed(e.data)}},{key:"handlePandaConnect",value:function(){var e=Object(i.a)(s.a.mark((function _callee(e){var t,n,a,i,r=this;return s.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({attemptingPandaConnection:!0,live:!0}),(t=fetchPersistedDbc("live"))&&(n=t.dbc,a=t.dbcText,this.setState({dbc:n,dbcText:a})),this.canStreamerWorker=new je,this.canStreamerWorker.onmessage=this.onStreamedCanMessagesProcessed,i=this.pandaReader.onError((function(e){console.error(e.stack||e),r.setState({attemptingPandaConnection:!1})})),e.prev=6,e.next=9,this.pandaReader.start();case 9:this.setState({showOnboarding:!1,showLoadDbc:!0}),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(6);case 14:this.setState({attemptingPandaConnection:!1}),i();case 16:case"end":return e.stop()}}),_callee,this,[[6,12]])})));return function handlePandaConnect(t){return e.apply(this,arguments)}}()},{key:"githubSignOut",value:function githubSignOut(e,t){!function unpersistGithubAuthToken(){window.localStorage.removeItem(ke)}(),this.setState({isGithubAuthenticated:!1}),e.preventDefault()}},{key:"render",value:function render(){return d.a.createElement("div",{id:"cabana",className:w()({"is-showing-modal":this.showingModal()})},this.state.isLoading?d.a.createElement(_e,{isLoading:this.state.isLoading}):null,d.a.createElement("div",{className:"cabana-header"},d.a.createElement("a",{className:"cabana-header-logo",href:""},"Comma Cabana"),d.a.createElement("div",{className:"cabana-header-account"},this.state.isGithubAuthenticated?d.a.createElement("div",null,d.a.createElement("p",null,"GitHub Authenticated"),d.a.createElement("p",{className:"cabana-header-account-signout",onClick:this.githubSignOut},"Sign out")):this.loginWithGithub())),d.a.createElement("div",{className:"cabana-window"},d.a.createElement(A,{url:this.state.route?this.state.route.url:null,messages:this.state.messages,selectedMessages:this.state.selectedMessages,updateSelectedMessages:this.updateSelectedMessages,showEditMessageModal:this.showEditMessageModal,currentParts:this.state.currentParts,onMessageSelected:this.onMessageSelected,onMessageUnselected:this.onMessageUnselected,showLoadDbc:this.showLoadDbc,showSaveDbc:this.showSaveDbc,dbcFilename:this.state.dbcFilename,dbcLastSaved:this.state.dbcLastSaved,dongleId:this.props.dongleId,name:this.props.name,route:this.state.route,seekTime:this.state.seekTime,seekIndex:this.state.seekIndex,shareUrl:this.state.shareUrl,maxByteStateChangeCount:this.state.maxByteStateChangeCount,isDemo:this.props.isDemo,live:this.state.live,saveLog:debounce(this.downloadLogAsCSV,500)}),this.state.route||this.state.live?d.a.createElement(le,{url:this.state.route?this.state.route.url:null,live:this.state.live,messages:this.state.messages,selectedMessage:this.state.selectedMessage,onConfirmedSignalChange:this.onConfirmedSignalChange,onSeek:this.onSeek,onUserSeek:this.onUserSeek,canFrameOffset:this.state.canFrameOffset,firstCanTime:this.state.firstCanTime,seekTime:this.state.seekTime,seekIndex:this.state.seekIndex,currentParts:this.state.currentParts,selectedPart:this.state.currentPart,partsLoaded:this.state.partsLoaded,autoplay:this.props.autoplay,showEditMessageModal:this.showEditMessageModal,onPartChange:this.onPartChange,routeStartTime:this.state.route?this.state.route.start_time:M()(),partsCount:this.state.route?this.state.route.proclog:0}):null),this.state.showOnboarding?d.a.createElement(ue,{handlePandaConnect:this.handlePandaConnect,attemptingPandaConnection:this.state.attemptingPandaConnection,routes:this.state.routes}):null,this.state.showLoadDbc?d.a.createElement(Se,{onDbcSelected:this.onDbcSelected,handleClose:this.hideLoadDbc,openDbcClient:this.openDbcClient,loginWithGithub:this.loginWithGithub()}):null,this.state.showSaveDbc?d.a.createElement(fe,{dbc:this.state.dbc,sourceDbcFilename:this.state.dbcFilename,onDbcSaved:this.onDbcSaved,handleClose:this.hideSaveDbc,openDbcClient:this.openDbcClient,hasGithubAuth:null!==this.props.githubAuthToken,loginWithGithub:this.loginWithGithub()}):null,this.state.showEditMessageModal?d.a.createElement(Ee,{handleClose:this.hideEditMessageModal,handleSave:this.onMessageFrameEdited,message:this.state.messages[this.state.editMessageModalMessage]}):null)}}]),CanExplorer}(u.Component),Be=new B.a('\nVERSION ""\n\n\nNS_ :\n    NS_DESC_\n    CM_\n    BA_DEF_\n    BA_\n    VAL_\n    CAT_DEF_\n    CAT_\n    FILTER\n    BA_DEF_DEF_\n    EV_DATA_\n    ENVVAR_DATA_\n    SGTYPE_\n    SGTYPE_VAL_\n    BA_DEF_SGTYPE_\n    BA_SGTYPE_\n    SIG_TYPE_REF_\n    VAL_TABLE_\n    SIG_GROUP_\n    SIG_VALTYPE_\n    SIGTYPE_VALTYPE_\n    BO_TX_BU_\n    BA_DEF_REL_\n    BA_REL_\n    BA_DEF_DEF_REL_\n    BU_SG_REL_\n    BU_EV_REL_\n    BU_BO_REL_\n    SG_MUL_VAL_\n\nBS_:\n\nBU_: INTERCEPTOR EBCM NEO ADAS PCM EPS VSA SCM BDY XXX\n\n\nBO_ 57 XXX_1: 3 XXX\n\nBO_ 145 XXX_2: 8 XXX\n SG_ LAT_ACCEL : 7|10@0+ (0.02,-512) [-20|20] "m/s2" NEO\n\nBO_ 228 STEERING_CONTROL: 5 ADAS\n SG_ STEER_TORQUE : 7|16@0- (1,0) [-3840|3840] "" EPS\n SG_ STEER_TORQUE_REQUEST : 23|1@0+ (1,0) [0|1] "" EPS\n SG_ SET_ME_X00 : 31|8@0+ (1,0) [0|0] "" EPS\n SG_ COUNTER : 37|2@0+ (1,0) [0|3] "" EPS\n SG_ CHECKSUM : 35|4@0+ (1,0) [0|3] "" EPS\n\nBO_ 304 GAS_PEDAL2: 8 PCM\n SG_ ENGINE_TORQUE_ESTIMATE : 7|16@0- (1,0) [-1000|1000] "Nm" NEO\n SG_ ENGINE_TORQUE_REQUEST : 23|16@0- (1,0) [-1000|1000] "Nm" NEO\n SG_ CAR_GAS : 39|8@0+ (1,0) [0|255] "" NEO\n\nBO_ 316 GAS_PEDAL: 8 PCM\n SG_ CAR_GAS : 39|8@0+ (1,0) [0|255] "" NEO\n\nBO_ 342 STEERING_SENSORS: 6 EPS\n SG_ STEER_ANGLE : 7|16@0- (-0.1,0) [-500|500] "deg" NEO\n SG_ STEER_ANGLE_RATE : 23|16@0- (1,0) [-3000|3000] "deg/s" NEO\n SG_ COUNTER : 45|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 43|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 344 POWERTRAIN_DATA: 8 PCM\n SG_ XMISSION_SPEED : 7|16@0+ (0.002759506,0) [0|70] "m/s" NEO\n SG_ ENGINE_RPM : 23|16@0+ (1,0) [0|15000] "rpm" NEO\n SG_ XMISSION_SPEED2 : 39|16@0+ (0.002759506,0) [0|70] "m/s" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] "" NEO\n SG_ ODOMETER : 55|8@0+ (1,0) [0|255] "" XXX\n\nBO_ 380 POWERTRAIN_DATA2: 8 PCM\n SG_ PEDAL_GAS : 7|8@0+ (1,0) [0|255] "" NEO\n SG_ ENGINE_RPM : 23|16@0+ (1,0) [0|15000] "rpm" NEO\n SG_ GAS_PRESSED : 39|1@0+ (1,0) [0|1] "" NEO\n SG_ ACC_STATUS : 38|1@0+ (1,0) [0|1] "rpm" NEO\n SG_ BOH_17C : 37|5@0+ (1,0) [0|1] "rpm" NEO\n SG_ BRAKE_SWITCH : 32|1@0+ (1,0) [0|1] "rpm" NEO\n SG_ BOH2_17C : 47|10@0+ (1,0) [0|1] "rpm" NEO\n SG_ BRAKE_PRESSED : 53|1@0+ (1,0) [0|1] "" NEO\n SG_ BOH3_17C : 52|5@0+ (1,0) [0|1] "rpm" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 398 XXX_3: 3 XXX\n\nBO_ 399 STEER_STATUS: 7 EPS\n SG_ STEER_TORQUE_SENSOR : 7|16@0- (1,0) [-31000|31000] "tbd" NEO\n SG_ STEER_TORQUE_MOTOR : 23|16@0- (1,0) [-31000|31000] "tbd" NEO\n SG_ STEER_STATUS : 39|4@0+ (1,0) [0|15] "" NEO\n SG_ STEER_CONTROL_ACTIVE : 35|1@0+ (1,0) [0|1] "" NEO\n SG_ COUNTER : 53|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 51|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 419 GEARBOX: 8 PCM\n SG_ GEAR : 7|8@0+ (1,0) [0|256] "" NEO\n SG_ GEAR_SHIFTER : 35|4@0+ (1,0) [0|15] "" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 420 VSA_STATUS: 8 VSA\n SG_ USER_BRAKE : 7|16@0+ (0.015625,-1.609375) [0|1000] "" NEO\n SG_ ESP_DISABLED : 28|1@0+ (1,0) [0|1] "" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 422 SCM_BUTTONS: 8 SCM\n SG_ CRUISE_BUTTONS : 7|3@0+ (1,0) [0|7] "" NEO\n SG_ LIGHTS_SETTING : 1|2@0+ (1,0) [0|3] "" NEO\n SG_ MAIN_ON : 47|1@0+ (1,0) [0|1] "" NEO\n SG_ CRUISE_SETTING : 43|2@0+ (1,0) [0|3] "" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 428 XXX_4: 8 XXX\n\nBO_ 432 STANDSTILL: 7 VSA\n SG_ WHEELS_MOVING : 12|1@0+ (1,0) [0|1] "" NEO\n SG_ BRAKE_ERROR_1 : 11|1@0+ (1,0) [0|1] "" NEO\n SG_ BRAKE_ERROR_2 : 9|1@0+ (1,0) [0|1] "" NEO\n SG_ COUNTER : 53|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 51|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 464 WHEEL_SPEEDS: 8 VSA\n SG_ WHEEL_SPEED_FL : 7|15@0+ (0.002759506,0) [0|70] "m/s" NEO\n SG_ WHEEL_SPEED_FR : 8|15@0+ (0.002759506,0) [0|70] "m/s" NEO\n SG_ WHEEL_SPEED_RL : 25|15@0+ (0.002759506,0) [0|70] "m/s" NEO\n SG_ WHEEL_SPEED_RR : 42|15@0+ (0.002759506,0) [0|70] "m/s" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 476 XXX_5: 4 XXX\n\nBO_ 490 VEHICLE_DYNAMICS: 8 VSA\n SG_ LONG_ACCEL : 23|16@0- (0.0015384,0) [-20|20] "m/s2" NEO\n\nBO_ 506 BRAKE_COMMAND: 8 ADAS\n SG_ COMPUTER_BRAKE : 7|10@0+ (0.003906248,0) [0|1] "" EBCM\n SG_ ZEROS_BOH : 13|5@0+ (1,0) [0|1] "" EBCM\n SG_ COMPUTER_BRAKE_REQUEST : 8|1@0+ (1,0) [0|1] "" EBCM\n SG_ CRUISE_BOH2 : 23|3@0+ (1,0) [0|1] "" EBCM\n SG_ CRUISE_OVERRIDE : 20|1@0+ (1,0) [0|1] "" EBCM\n SG_ CRUISE_BOH3 : 19|1@0+ (1,0) [0|1] "" EBCM\n SG_ CRUISE_FAULT_CMD : 18|1@0+ (1,0) [0|1] "" EBCM\n SG_ CRUISE_CANCEL_CMD : 17|1@0+ (1,0) [0|1] "" EBCM\n SG_ COMPUTER_BRAKE_REQUEST_2 : 16|1@0+ (1,0) [0|1] "" EBCM\n SG_ CRUISE_BOH4 : 31|8@0+ (1,0) [0|1] "" EBCM\n SG_ BRAKE_LIGHTS : 39|1@0+ (1,0) [0|1] "" EBCM\n SG_ CRUISE_BOH5 : 38|7@0+ (1,0) [0|1] "" EBCM\n SG_ CHIME : 47|3@0+ (1,0) [0|7] "" EBCM\n SG_ CRUISE_BOH6 : 44|1@0+ (1,0) [0|1] "" EBCM\n SG_ FCW : 43|2@0+ (1,0) [0|3] "" EBCM\n SG_ CRUISE_BOH7 : 41|10@0+ (1,0) [0|0] "" EBCM\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] "" EBCM\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] "" EBCM\n\nBO_ 512 GAS_COMMAND: 3 NEO\n SG_ GAS_COMMAND : 7|16@0+ (0.253984064,-83.3) [0|1] "" INTERCEPTOR\n SG_ COUNTER : 21|2@0+ (1,0) [0|3] "" INTERCEPTOR\n SG_ CHECKSUM : 19|4@0+ (1,0) [0|3] "" INTERCEPTOR\n\nBO_ 513 GAS_SENSOR: 5 INTERCEPTOR\n SG_ INTERCEPTOR_GAS : 7|16@0+ (0.253984064,-83.3) [0|1] "" NEO\n SG_ INTERCEPTOR_GAS2 : 23|16@0+ (0.126992032,-83.3) [0|1] "" NEO\n SG_ COUNTER : 37|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 35|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 542 XXX_6: 7 XXX\n\nBO_ 545 XXX_7: 4 XXX\n\nBO_ 597 ROUGH_WHEEL_SPEED: 8 VSA\n SG_ WHEEL_SPEED_FL : 7|8@0+ (1,0) [0|255] "mph" NEO\n SG_ WHEEL_SPEED_FR : 15|8@0+ (1,0) [0|255] "mph" NEO\n SG_ WHEEL_SPEED_RL : 23|8@0+ (1,0) [0|255] "mph" NEO\n SG_ WHEEL_SPEED_RR : 31|8@0+ (1,0) [0|255] "mph" NEO\n SG_ SET_TO_X55 : 47|8@0+ (1,0) [0|255] "" NEO\n\nBO_ 660 SCM_COMMANDS: 8 SCM\n SG_ RIGHT_BLINKER : 6|1@0+ (1,0) [0|1] "" NEO\n SG_ LEFT_BLINKER : 5|1@0+ (1,0) [0|1] "" NEO\n SG_ WIPERS_SPEED : 4|2@0+ (1,0) [0|3] "" NEO\n\nBO_ 773 SEATBELT_STATUS: 7 BDY\n SG_ SEATBELT_DRIVER_LAMP : 7|1@0+ (1,0) [0|1] "" NEO\n SG_ SEATBELT_DRIVER_LATCHED : 13|1@0+ (1,0) [0|1] "" NEO\n SG_ COUNTER : 53|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 51|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 777 XXX_8: 8 XXX\n\nBO_ 780 ACC_HUD: 8 ADAS\n SG_ PCM_SPEED : 7|16@0+ (0.002763889,0) [0|100] "m/s" BDY\n SG_ PCM_GAS : 23|7@0+ (1,0) [0|127] "" BDY\n SG_ ZEROS_BOH : 16|1@0+ (1,0) [0|255] "" BDY\n SG_ CRUISE_SPEED : 31|8@0+ (1,0) [0|255] "" BDY\n SG_ DTC_MODE : 39|1@0+ (1,0) [0|1] "" BDY\n SG_ BOH : 38|1@0+ (1,0) [0|1] "" BDY\n SG_ ACC_PROBLEM : 37|1@0+ (1,0) [0|1] "" BDY\n SG_ FCM_OFF : 36|1@0+ (1,0) [0|1] "" BDY\n SG_ BOH_2 : 35|1@0+ (1,0) [0|1] "" BDY\n SG_ FCM_PROBLEM : 34|1@0+ (1,0) [0|1] "" BDY\n SG_ RADAR_OBSTRUCTED : 33|1@0+ (1,0) [0|1] "" BDY\n SG_ ENABLE_MINI_CAR : 32|1@0+ (1,0) [0|1] "" BDY\n SG_ SET_ME_X03 : 47|2@0+ (1,0) [0|3] "" BDY\n SG_ HUD_LEAD : 45|2@0+ (1,0) [0|3] "" BDY\n SG_ BOH_3 : 43|1@0+ (1,0) [0|3] "" BDY\n SG_ BOH_4 : 42|1@0+ (1,0) [0|3] "" BDY\n SG_ BOH_5 : 41|1@0+ (1,0) [0|3] "" BDY\n SG_ CRUISE_CONTROL_LABEL : 40|1@0+ (1,0) [0|3] "" BDY\n SG_ HUD_DISTANCE_3 : 52|1@0+ (1,0) [0|1] "" BDY\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] "" BDY\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] "" BDY\n\nBO_ 800 XXX_9: 8 XXX\n\nBO_ 804 CRUISE: 8 PCM\n SG_ HUD_SPEED_KPH : 7|8@0+ (1,0) [0|255] "kph"  NEO\n SG_ HUD_SPEED_MPH : 15|8@0+ (1,0) [0|255] "mph"  NEO\n SG_ TRIP_FUEL_CONSUMED : 23|16@0+ (1,0) [0|255] "" NEO\n SG_ CRUISE_SPEED_PCM : 39|8@0+ (1,0) [0|255] "" NEO\n SG_ BOH2 : 47|8@0- (1,0) [0|255] "" NEO\n SG_ BOH3 : 55|8@0+ (1,0) [0|255] "" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 808 XXX_10: 8 XXX\n\nBO_ 819 XXX_11: 7 XXX\n\nBO_ 821 XXX_12: 5 XXX\n\nBO_ 829 LKAS_HUD_2: 5 ADAS\n SG_ CAM_TEMP_HIGH : 7|1@0+ (1,0) [0|255] "" BDY\n SG_ BOH : 23|2@0+ (1,0) [0|4] "" BDY\n SG_ DASHED_LANES : 14|1@0+ (1,0) [0|1] "" BDY\n SG_ DTC : 13|1@0+ (1,0) [0|1] "" BDY\n SG_ LKAS_PROBLEM : 12|1@0+ (1,0) [0|1] "" BDY\n SG_ LKAS_OFF : 11|1@0+ (1,0) [0|1] "" BDY\n SG_ SOLID_LANES : 10|1@0+ (1,0) [0|1] "" BDY\n SG_ LDW_RIGHT : 9|1@0+ (1,0) [0|1] "" BDY\n SG_ STEERING_REQUIRED : 8|1@0+ (1,0) [0|1] "" BDY\n SG_ LDW_PROBLEM : 21|1@0+ (1,0) [0|1] "" BDY\n SG_ BEEP : 17|2@0+ (1,0) [0|1] "" BDY\n SG_ LDW_ON : 28|1@0+ (1,0) [0|1] "" BDY\n SG_ LDW_OFF : 27|1@0+ (1,0) [0|1] "" BDY\n SG_ CLEAN_WINDSHIELD : 26|1@0+ (1,0) [0|1] "" BDY\n SG_ SET_ME_X48 : 31|8@0+ (1,0) [0|255] "" BDY\n SG_ COUNTER : 37|2@0+ (1,0) [0|3] "" BDY\n SG_ CHECKSUM : 35|4@0+ (1,0) [0|3] "" BDY\n\nBO_ 882 XXX_13: 2 XXX\n\nBO_ 884 XXX_14: 7 XXX\n\nBO_ 887 XXX_15: 8 XXX\n\nBO_ 888 XXX_16: 8 XXX\n\nBO_ 892 CRUISE_PARAMS: 8 PCM\n SG_ CRUISE_SPEED_OFFSET : 31|8@0- (0.1,0) [-128|127] "kph"  NEO\n\nBO_ 923 XXX_18: 2 XXX\n\nBO_ 929 XXX_19: 4 XXX\n\nBO_ 983 XXX_20: 8 XXX\n\nBO_ 985 XXX_21: 3 XXX\n\nBO_ 1024 XXX_22: 5 XXX\n\nBO_ 1027 XXX_23: 5 XXX\n\nBO_ 1029 DOORS_STATUS: 8 BDY\n SG_ DOOR_OPEN_FL : 37|1@0+ (1,0) [0|1] "" NEO\n SG_ DOOR_OPEN_FR : 38|1@0+ (1,0) [0|1] "" NEO\n SG_ DOOR_OPEN_RL : 39|1@0+ (1,0) [0|1] "" NEO\n SG_ DOOR_OPEN_RR : 40|1@0+ (1,0) [0|1] "" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] "" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] "" NEO\n\nBO_ 1030 XXX_24: 5 VSA\n\nBO_ 1034 XXX_25: 5 XXX\n\nBO_ 1036 XXX_26: 8 XXX\n\nBO_ 1039 XXX_27: 8 XXX\n\nBO_ 1057 XXX_28: 5 EPS\n\nBO_ 1064 XXX_29: 7 XXX\n\nBO_ 1108 XXX_30: 8 XXX\n\nBO_ 1365 XXX_31: 5 XXX\n\nBO_ 1600 XXX_32: 5 XXX\n\nBO_ 1601 XXX_33: 8 XXX\n\nBO_TX_BU_ 228 : NEO,ADAS;\nBO_TX_BU_ 506 : NEO,ADAS;\nBO_TX_BU_ 780 : NEO,ADAS;\nBO_TX_BU_ 829 : NEO,ADAS;\n\nCM_ SG_ 419 GEAR "10 = reverse, 11 = transition";\nCM_ SG_ 490 LONG_ACCEL "wheel speed derivative, noisy and zero snapping";\nCM_ SG_ 780 CRUISE_SPEED "255 = no speed";\nCM_ SG_ 804 CRUISE_SPEED_PCM "255 = no speed";\nCM_ SG_ 829 BEEP "beeps are pleasant, chimes are for warnngs etc...";\nVAL_ 399 STEER_STATUS 5 "fault" 4 "no_torque_alert_2" 2 "no_torque_alert_1" 0 "normal" ;\nVAL_ 419 GEAR_SHIFTER 10 "S" 4 "D" 3 "N" 2 "R" 1 "P" ;\nVAL_ 422 CRUISE_BUTTONS 7 "tbd" 6 "tbd" 5 "tbd" 4 "accel_res" 3 "decel_set" 2 "cancel" 1 "main" 0 "none" ;\nVAL_ 422 LIGHTS_SETTING 3 "high_beam" 2 "low_beam" 1 "position" 0 "no_lights" ;\nVAL_ 422 CRUISE_SETTING 3 "distance_adj" 2 "tbd" 1 "lkas_button" 0 "none" ;\nVAL_ 506 CHIME 4 "double_chime" 3 "single_chime" 2 "continuous_chime" 1 "repeating_chime" 0 "no_chime" ;\nVAL_ 506 FCW 3 "fcw" 2 "fcw" 1 "fcw" 0 "no_fcw" ;\nVAL_ 780 HUD_LEAD 3 "no_car" 2 "solid_car" 1 "dashed_car" 0 "no_car" ;\nVAL_ 829 BEEP 3 "single_beep" 2 "triple_beep" 1 "repeated_beep" 0 "no_beep" ;\n\nCM_ "CHFFR_METRIC 342 STEER_ANGLE STEER_ANGLE 0.36 180; CHFFR_METRIC 380 ENGINE_RPM ENGINE_RPM 1 0; CHFFR_METRIC 804 ENGINE_TEMPERATURE ENGINE_TEMPERATURE 1 0";\n');n(529);c.init();var Le=Object(N.a)("route"),Re=!Le,Ie={autoplay:!0,isDemo:Re},Ge=null;if(Le){var Ae=Le.split("|"),Ue=Object(r.a)(Ae,2),Fe=Ue[0],Xe=Ue[1];Ie.dongleId=Fe,Ie.name=Xe,Ge=fetchPersistedDbc(Le);var He=Object(N.a)("max"),We=Object(N.a)("url"),Ve=Object(N.a)("exp"),ze=Object(N.a)("sig");He&&(Ie.max=He),We&&(Ie.url=We),Ve&&(Ie.exp=Ve),ze&&(Ie.sig=ze),Ie.isLegacyShare=He&&We&&!Ve&&!ze,Ie.isShare=He&&We&&Ve&&ze}else Object(N.a)("demo")&&(Ie.max=12,Ie.url="https://chffrprivate.blob.core.windows.net/chffrprivate3-permanent/v2/cb38263377b873ee/78392b99580c5920227cc5b43dff8a70_2017-06-12--18-51-47",Ie.name="2017-06-12--18-51-47",Ie.dongleId="cb38263377b873ee",Ie.dbc=Be,Ie.isDemo=!0,Ie.dbcFilename="acura_ilx_2016_can.dbc");if(Ge){var Ye=Ge,Ke=Ye.dbcFilename,Je=Ye.dbc;Ie.dbc=Je,Ie.dbcFilename=Ke}var qe=Object(N.a)(j.c);if(null!==qe){Ie.githubAuthToken=qe,function persistGithubAuthToken(e){return window.localStorage.setItem(ke,e)}(qe);var Qe=Object(N.b)({remove:[j.c]});window.location.href=Qe}else Ie.githubAuthToken=function fetchPersistedGithubAuthToken(){return window.localStorage.getItem(ke)}();function _init(){return(_init=Object(i.a)(s.a.mark((function _callee(){var e;return s.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.init();case 2:(e=t.sent)&&f.request.configure(e),h.a.render(d.a.createElement(Ne,Ie),document.getElementById("root"));case 5:case"end":return t.stop()}}),_callee)})))).apply(this,arguments)}if(Le||Re)!function src_init(){return _init.apply(this,arguments)}();else{var $e=document.createElement("img");$e.src="/cabana/img/cabana.jpg",$e.style.width="100%";var Ze=document.createComment("7/6/17");document.getElementById("root").appendChild($e),document.getElementById("root").appendChild(Ze)}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),s=n(3),i=function(){function Frame(e){var t=e.name,n=e.id,s=void 0===n?0:n,i=e.size,r=void 0===i?0:i,o=e.transmitters,l=void 0===o?[]:o,c=e.extended,u=void 0===c?0:c,d=e.comment,g=void 0===d?null:d,h=e.signals,m=void 0===h?{}:h;Object(a.a)(this,Frame),Object.assign(this,{name:t,id:s,size:r,transmitters:l,extended:u,comment:g,signals:m})}return Object(s.a)(Frame,[{key:"nextNewTransmitterName",value:function nextNewTransmitterName(){var e,t=1;do{e="NEW_TRANSMITTER_"+t,t++}while(-1!==this.transmitters.indexOf(e));return e}},{key:"addTransmitter",value:function addTransmitter(){var e=this.nextNewTransmitterName();return this.transmitters.push(e),e}},{key:"header",value:function header(){return"BO_ ".concat(this.id," ").concat(this.name,": ").concat(this.size," ")+"".concat(this.transmitters[0]||"XXX")}},{key:"text",value:function text(){var e=Object.values(this.signals).map((function(e){return" "+e.text()})).join("\n");return e.length>0?this.header()+"\n"+e:this.header()}},{key:"copy",value:function copy(){var copy=Object.assign(Object.create(this),this);return copy}}]),Frame}()},59:function(e,t,n){"use strict";if("undefined"===typeof a)var a=self;var s=function _indexOf(e,t){for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},i=function _getAjaxObject(){return"undefined"!==typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest};function LogStream(e){var t,n=e.trace?(Math.random()+Math.PI).toString(36).substring(2,10):null,r=e.page_info,o=e.token,l=e.print,c=e.no_format,u="undefined"===typeof XDomainRequest?e.ssl:"https:"===a.location.protocol;t=(u?"https://":"http://")+(t=a.LEENDPOINT?a.LEENDPOINT:c?"webhook.logentries.com/noformat":"js.logentries.com/v1")+"/logs/"+o;var d=[],g=!1,h=!1,m=function _apiCall(e,n){g=!0;var a=i();a.constructor===XMLHttpRequest?a.onreadystatechange=function(){4===a.readyState&&(a.status>=400?(console.error("Couldn't submit events."),410===a.status&&console.warn("This version of le_js is no longer supported!")):(301===a.status&&console.warn("This version of le_js is deprecated! Consider upgrading."),d.length>0?_apiCall(e,d.shift()):g=!1))}:a.onload=function(){d.length>0?_apiCall(e,d.shift()):g=!1},a.open("POST",t,!0),a.constructor===XMLHttpRequest&&(a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-type","application/json")),a.overrideMimeType&&a.overrideMimeType("text"),a.send(n)},p=function _getEvent(){var e=Array.prototype.slice.call(arguments);if(0===e.length)throw new Error("No arguments!");return 1===e.length?e[0]:e},f=function _agentInfo(){var e=a.navigator||{doNotTrack:void 0},t=a.screen||{};return{url:(a.location||{}).pathname,referrer:document.referrer,screen:{width:t.width,height:t.height},window:{width:a.innerWidth,height:a.innerHeight},browser:{name:e.appName,version:e.appVersion,cookie_enabled:e.cookieEnabled,do_not_track:e.doNotTrack},platform:e.platform}},b=function _rawLog(e){var t=p.apply(this,arguments),a={event:t};return"never"!==r&&(h&&"per-entry"!==r||(h=!0,"undefined"===typeof t.screen&&"undefined"===typeof t.browser&&_rawLog(f()).level("PAGE").send())),n&&(a.trace=n),{level:function level(e){if(l&&"undefined"!==typeof console&&"PAGE"!==e){var t=null;"undefined"!==typeof XDomainRequest&&(t=a.trace+" "+a.event);try{console[e.toLowerCase()].call(console,t||a)}catch(n){console.log(t||a)}}return a.level=e,{send:function send(){var e=[],t=JSON.stringify(a,(function(t,n){if("undefined"===typeof n)return"undefined";if("object"===typeof n&&null!==n){if(-1!==s(e,n))return"<?>";e.push(n)}return n}));g?d.push(t):m(o,t)}}}}};if(e.catchall){var v=a.onerror;a.onerror=function newHandler(e,t,n){return b({error:e,line:n,location:t}).level("ERROR").send(),!!v&&v(e,t,n)}}this.log=b}function Logger(e){var t,n={ssl:!0,catchall:!1,trace:!0,page_info:"never",print:!1,endpoint:null,token:null};if("object"!==typeof e)throw new Error("Invalid parameters for createLogStream()");for(var a in e)n[a]=e[a];if(null===n.token)throw new Error("Token not present.");t=new LogStream(n);var s=function _log(e){if(t)return t.log.apply(this,arguments);throw new Error("You must call LE.init(...) first.")};return{log:function log(){s.apply(this,arguments).level("LOG").send()},warn:function warn(){s.apply(this,arguments).level("WARN").send()},error:function error(){s.apply(this,arguments).level("ERROR").send()},info:function info(){s.apply(this,arguments).level("INFO").send()}}}var r={},o=function _createLogStream(e){if("string"!==typeof e.name)throw new Error("Name not present.");if(r.hasOwnProperty(e.name))throw new Error("A logger with that name already exists!");return r[e.name]=new Logger(e),!0};t.a={init:function _deprecatedInit(e){var t={name:"default"};if("object"===typeof e)for(var n in e)t[n]=e[n];else{if("string"!==typeof e)throw new Error("Invalid parameters for init()");t.token=e}return o(t)},createLogStream:o,to:function _getLogger(e){if(!r.hasOwnProperty(e))throw new Error("Invalid name for logStream");return r[e]},destroy:function _destroyLogStream(e){"undefined"===typeof e&&(e="default"),delete r[e]},log:function log(){for(var e in r)r[e].log.apply(this,arguments)},warn:function warn(){for(var e in r)r[e].warn.apply(this,arguments)},error:function error(){for(var e in r)r[e].error.apply(this,arguments)},info:function info(){for(var e in r)r[e].info.apply(this,arguments)}}},85:function(e,t,n){"use strict";n.d(t,"b",(function(){return isLogAddress})),n.d(t,"a",(function(){return frameForAddress}));var a=n(10),s=n(56),i=n(38);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var r={"CarState:WheelSpeeds":{FrontLeftWheel:shortSignal({index:0,factor:.001}),FrontRightWheel:shortSignal({index:1,factor:.001}),RearLeftWheel:shortSignal({index:2,factor:.001}),RearRightWheel:shortSignal({index:3,factor:.001})},"CarState:Ego":{VEgo:shortSignal({index:0,factor:.001}),AEgo:shortSignal({index:1,factor:.001}),VEgoRaw:shortSignal({index:2,factor:.001}),YawRate:shortSignal({index:3,factor:.001})},"CarState:Controls":{SteeringAngle:longSignal({index:0,factor:.001}),Brake:shortSignal({index:2,factor:.001}),Gas:shortSignal({index:3,factor:.001})},"CarState:Flags":{LeftBlinker:boolSignal({index:0}),RightBlinker:boolSignal({index:1}),GenericToggle:boolSignal({index:2}),DoorOpen:boolSignal({index:3}),SeatbeltUnlatched:boolSignal({index:4}),GasPressed:boolSignal({index:5}),BrakeLights:boolSignal({index:6}),SteeringPressed:boolSignal({index:7}),Standstill:boolSignal({index:8}),"CruiseState.Enabled":boolSignal({index:9}),"CruiseState.Available":boolSignal({index:10}),"CruiseState.Standstill":boolSignal({index:11}),GearShifter:{startBit:15,size:4,unsigned:!0},"CruiseState.Speed":charSignal({index:2})},"UbloxGnss:MeasurementReport":{RcvTow:longSignal({index:0}),GpsWeek:shortSignal({index:2}),LeapSeconds:{startBit:55,size:8},NumMeas:{startBit:63,size:8}},"Health:Data":{Voltage:shortSignal({index:0}),Current:charSignal({index:2}),Started:boolSignal({index:24}),ControlsAllowed:boolSignal({index:25}),GasInterceptorDetected:boolSignal({index:26}),StartedSignalDetected:boolSignal({index:27})},"Thermal:CPU":{Cpu0:shortSignal({index:0,unsigned:!0}),Cpu1:shortSignal({index:1,unsigned:!0}),Cpu2:shortSignal({index:2,unsigned:!0}),Cpu3:shortSignal({index:3,unsigned:!0})},"Thermal:Data":{Mem:shortSignal({index:0,unsigned:!0}),Gpu:shortSignal({index:1,unsigned:!0}),FanSpeed:shortSignal({index:2,unsigned:!0}),BatteryPercent:charSignal({index:6,unsigned:!0}),UsbOnline:boolSignal({index:56}),Started:boolSignal({index:57})},"Thermal:FreeSpace":{FreeSpace:longSignal({index:0,unsigned:!0,factor:1e-9})}},o=[];function longSignal(e){return _objectSpread({},e,{size:32,startBit:32*e.index+7})}function shortSignal(e){return _objectSpread({},e,{size:16,startBit:16*e.index+7})}function charSignal(e){return _objectSpread({},e,{size:8,startBit:8*e.index+7})}function boolSignal(e){return _objectSpread({},e,{size:1,startBit:e.index,unsigned:!0})}function nameForAddress(e){return e>=4096?o[e-4096]:null}function isLogAddress(e){return!!nameForAddress(e)}function frameForAddress(e){var t=nameForAddress(e);return new s.a({id:t,name:t,size:8,signals:r[t]})}Object.keys(r).forEach((function(e){Object.keys(r[e]).forEach((function(t){r[e][t]=function createSignalEntry(e){return new i.a({name:e.name,startBit:e.startBit,size:e.size,isLittleEndian:!1,isSigned:!e.unsigned,factor:e.factor||1,offset:e.offset||0,unit:e.unit||""})}(_objectSpread({name:t},r[e][t]))})),function addressForName(e){var t=o.indexOf(e);if(-1===t)return o.push(e),o.indexOf(e)+4096;return t+4096}(e)}))}},[[232,1,2]]]);
//# sourceMappingURL=main.5685f5d4.chunk.js.map