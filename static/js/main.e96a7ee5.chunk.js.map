{"version":3,"sources":["models/can/logSignals.js","config.js","utils/object.js","utils/dbc.js","models/can/BoardUnit.js","utils/css.js","utils/color.js","utils/url.js","logging/CloudLog.js","components/AddSignals.js","models/can/dbc.js","components/SignalLegendEntry/FIELDS.js","components/SignalLegendEntry/Field.js","components/SignalLegendEntry/SignalForm.js","components/SignalLegendEntry/NumberField.js","components/SignalLegendEntry/OptionField.js","components/SignalLegendEntry/StringField.js","components/SignalLegendEntry/ColorBar.js","components/SignalLegendEntry/index.js","components/SignalLegend.js","../../my-comma-auth/dist/storage.js","../../my-comma-auth/dist/config.js","models/can/signal.js","images/webusb-enable-experimental-features.png","images/webusb-enable-webusb.png","../../my-comma-auth/dist/index.js","workers/rlog-downloader.worker.js","workers/dbc-csv-downloader.worker.js","workers/message-parser.worker.js","workers/CanStreamerWorker.worker.js","logging/Sentry.js","api/github-auth.js","components/MessageBytes.js","components/Meta.js","utils/array.js","models/graph-data.js","vega/CanPlot.js","utils/debounce.js","components/CanGraph.js","components/CanGraphList.js","components/HLS.js","components/PlayButton.js","components/RouteSeeker/RouteSeeker.js","components/RouteVideoSync.js","components/CanLog.js","models/can/entries.js","components/PlaySpeedSelector.js","components/Explorer.js","components/Modals/baseModal.js","components/Modals/OnboardingModal.js","api/OpenDbc.js","components/SaveDbcModal.js","components/GithubDbcList.js","components/DbcUpload.js","components/LoadDbcModal.js","components/EditMessageModal.js","components/LoadingBar.js","api/localstorage.js","api/unlogger.js","corolla-dbc.js","demo.js","CanExplorer.js","utils/string.js","acura-dbc.js","init.js","index.js","models/can/frame.js","logging/LogEntries.js"],"names":["signalMap","FrontLeftWheel","shortSignal","index","factor","FrontRightWheel","RearLeftWheel","RearRightWheel","VEgo","AEgo","VEgoRaw","YawRate","SteeringAngle","longSignal","Brake","Gas","LeftBlinker","boolSignal","RightBlinker","GenericToggle","DoorOpen","SeatbeltUnlatched","GasPressed","BrakeLights","SteeringPressed","Standstill","GearShifter","startBit","size","unsigned","charSignal","RcvTow","GpsWeek","LeapSeconds","NumMeas","Voltage","Current","Started","ControlsAllowed","GasInterceptorDetected","StartedSignalDetected","Cpu0","Cpu1","Cpu2","Cpu3","Mem","Gpu","FanSpeed","BatteryPercent","UsbOnline","FreeSpace","ADDRESS_LIST","options","nameForAddress","address","isLogAddress","frameForAddress","name","Frame","id","signals","Object","keys","forEach","signal","createSignalEntry","Signal","isLittleEndian","isSigned","offset","unit","addressForName","i","indexOf","push","GITHUB_CLIENT_ID","GITHUB_REDIRECT_URL","GITHUB_AUTH_TOKEN_KEY","OPENDBC_SOURCE_REPO","USE_UNLOGGER","window","getUrlParameter","UNLOGGER_HOST","LOGENTRIES_TOKEN","PART_SEGMENT_LENGTH","CAN_GRAPH_MAX_POINTS","STREAMING_WINDOW","EXPLORER_URL","swapKeysAndValues","obj","f","reduce","acc","k","createMessageSpec","dbc","bus","frame","getMessageFrame","entries","byteColors","Array","fill","byteStateChangeCounts","determineByteStateChangeTimes","hexData","time","msgSize","lastParsedMessage","byteStateChangeTimes","length","substr","createMessageEntry","relTime","data","getSignalValues","Buffer","from","toString","updated","Date","now","parseMessage","timeStart","msgSpec","msgEntry","BIG_ENDIAN_START_BITS","j","bigEndianBitIndex","matrixBitIndex","addCanMessage","canMessage","canStartTime","messages","prevMsgEntries","byteStateChangeCountsByMessage","busTime","undefined","prevMsgEntry","every","c","map","count","idx","matrixBitNumber","bigEndianIndex","reparseMessage","msg","findMaxByteStateChangeCount","values","m","counts","countArr","concat","count1","count2","setMessageByteColors","message","maxByteStateChangeCount","isNaN","Math","min","red","round","BoardUnit","this","attributes","comment","styles","classes","call","arguments","it","_definition","_name","classNames","apply","css","shade","opacity","r","g","b","t","opacityPos","abs","objToQuery","encodeURIComponent","decodeURIComponent","join","location","replace","results","RegExp","exec","search","modifyQueryParameters","add","remove","params","key","value","origin","pathname","CloudLog","LogEntries","init","token","no_format","catchall","context","update","level","global","__JEST__","entry","ctx","created","getTime","src","log","warn","error","emit","Styles","StyleSheet","create","bit","margin","padding","userSelect","cursor","textAlign","position","bitSelectedStyle","backgroundColor","bitSignificance","fontSize","display","bottom","left","right","highlightedSignalTitle","AddSignals","props","updateSignalStyles","signalStyles","calcSignalStyles","state","setState","onSignalHover","highlightedSignal","onBitHover","bitIdx","dragStartBit","dragSignal","copySignals","assign","msbBitIndex","DbcUtils","lsbBitNumber","diff","bitDescription","floor","lsbBitIndex","dragCurrentBit","onSignalHoverEnd","resetDragState","onTentativeSignalChange","onSignalChange","oldSignal","signalName","uid","propagateUpSignalChange","onSignalRemove","onSignalPlotChange","shouldPlot","signalUid","bits","signalsCopy","nextProps","nextState","messageIndex","JSON","stringify","plottedSignalUids","colorRgbStr","colors","getColors","selectedMessageKey","darkenedColors","lightenedColors","colorsCommaSep","color","signalColorStyle","newProps","filter","existingNames","signalNum","nextNewSignalName","dragEndBit","signalForBit","isDragAcrossSingleByte","createSignal","createSignalIfNotExtendingOne","byteIdx","byteBitIdx","readInt8","bigEndianStartBit","bigEndianCurrentBit","bigEndianBitIdx","rowCount","rows","rowBits","bitStyle","bitDesc","isMsb","isLsb","bitIsContainedInSelection","className","bitValue","onMouseEnter","onMouseLeave","onMouseDown","onBitMouseDown","bind","onMouseUp","onBitMouseUp","onDoubleClick","onBitDoubleClick","byteValueHex","cellSpacing","onConfirmedSignalChange","toFixed","isLogEvent","renderBitMatrix","Component","UINT64","require","DBC_COMMENT_RE","DBC_COMMENT_MULTI_LINE_RE","MSG_RE","SIGNAL_RE","MP_SIGNAL_RE","VAL_RE","VAL_TABLE_RE","MSG_TRANSMITTER_RE","SIGNAL_COMMENT_RE","SIGNAL_COMMENT_MULTI_LINE_RE","MESSAGE_COMMENT_RE","MESSAGE_COMMENT_MULTI_LINE_RE","BOARD_UNIT_RE","BOARD_UNIT_COMMENT_RE","BOARD_UNIT_COMMENT_MULTI_LINE_RE","floatOrInt","numericStr","Number","isInteger","parseInt","parseFloat","DBC","dbcString","boardUnits","comments","Map","dbcText","importDbcString","LogSignals","get","messageNames","msgName","msgNum","boardUnitNames","bu","missingBoardUnits","arr","receiver","receivers","recv","array","updateBoardUnits","txt","_newSymbols","boardUnitsText","text","frames","messageTxs","transmitters","slice","addr","txs","signalsByMsgId","sig","s1","s2","msgAddr","valueDescriptions","valueDescriptionText","trim","msgId","nextNewFrameName","set","newMsg","createFrame","warnings","valueTables","followUp","lines","split","line","type","followUpLine","partialComment","matches","match","idString","transmitter","max","receiverStr","signalProperties","s","messageId","vals","description","table","tableName","items","hasFollowUp","newBoardUnits","boardUnitName","boardUnit","find","signalSpec","dataBitPos","blen","swapOrder","wordSize","gSize","swappedWords","word","rightHandAnd","pow","ival","shiftr","and","toNumber","buf","shiftAmount","signalValue","bitPos","byteOffset","readUInt32LE","readUInt32BE","has","buffer","paddedBuffer","paddedDataHex","rightPad","signalValuesByName","valueForInt64Signal","valueForInt32Signal","metricComment","metric","metrics","metricName","unsignedTransformation","field","title","transform","optionValues","Little","Big","startByte","endByte","Signed","Unsigned","Field","htmlFor","children","FieldMap","number","valueCol","fieldSpec","isExpanded","signalEdited","updateField","num","onChange","e","target","option","valueOptions","optionEles","opt","defaultValue","string","getSignalEdited","FIELDS","Node","onClick","styled","isHighlighted","rgb","SignalLegendEntry","signalCopy","toggleEditing","fieldSpecForName","toggleExpandSignal","stopPropagation","toggleSignalPlot","isPlotted","preventDefault","equals","expandedEntryClass","plottedButtonClass","cx","ColorBar","SignalForm","SignalLegend","expandedSignals","includes","updatedExpandedSignals","signalRows","sort","signal1","signal2","checkExpandedSignal","row","a","defineProperty","exports","getCommaAccessToken","logOut","isAuthed","_regenerator2","_interopRequireDefault","_asyncToGenerator3","_ref","default","mark","_callee","wrap","_callee$","_context","prev","next","localStorage","removeItem","useForage","_localforage2","stop","_ref2","_callee2","_callee2$","_context2","getTokenInternal","getItem","sent","t0","setItem","abrupt","setCommaAccessToken","__esModule","authorization","oauthRedirectLink","OAUTH_PARAMS","REDIRECT_URI","GOOGLE_URL_ROOT","GOOGLE_CLIENT_ID","GOOGLE_AUTH_ENDPOINT","_document2","_querystringify2","redirectOrigin","client_id","redirect_uri","response_type","scope","prompt","isFloat","multiplex","random","calculateMin","calculateMax","generateColors","_colors","console","enumberable","byteOrder","signedChar","str","desc","bitIndex","bitRange","bitNumber","start","range","littleEndianBitDescription","bigEndianBitDescription","rawRange","rawMin","calculateRawRange","rawMax","parts","p","lastColor","v","randomcolor","format","otherSignal","module","config","storage","href","_interopRequireWildcard","newObj","prototype","hasOwnProperty","isAuthenticated","Worker","opts","__webpack_hash__","release","Raven","install","authorizeUrl","route","MessageBytes","isVisible","lastMessageIndex","lastSeekTime","onVisibilityChange","onCanvasRefAvailable","live","nextLastEntry","curLastEntry","seekTime","frameForTime","seekIndex","updateCanvas","mostRecentMessageIndex","findIndex","canvas","mostRecentMsg","findMostRecentMessage","getContext","fillStyle","fillRect","font","fillText","ref","width","devicePixelRatio","height","scale","ckmeans","Meta","onFilterChanged","onFilterFocus","onFilterUnfocus","canMsgFilter","logEventMsgFilter","renderMessageBytes","toggleShowLogEvents","dbcLastSaved","filterText","lastSaved","fromNow","hoveredMessages","orderedMessageKeys","showLogEvents","lastSavedTimer","setInterval","clearInterval","nextMsgKeys","sortMessages","byteCountsDidUpdate","prevMessages","nextMessages","some","messagesByEntryCount","partialMapping","entryCountKey","entryCounts","bin","entryCount","partial","msg1","msg2","reverse","val","toLowerCase","selectedMessages","onMessageUnselected","updateSelectedMessages","onMessageSelected","selectedMessageClass","colSpan","orderedMessages","cellPadding","renderLogEventMessages","renderCanMessages","navigator","ReadableStream","WritableStream","dbcFilename","lastSavedPretty","saveable","showLoadDbc","saveLog","shareUrl","data-clipboard-text","data-clipboard-action","Clipboard","showSaveDbc","style","float","checked","onFocus","onBlur","renderAvailableMessagesList","elementWiseEquals","arr1","arr2","ele","findIndexRight","condition","_calcGraphData","firstCanTime","samples","skip","lastEntry","x","y","appendNewGraphData","plottedSignals","graphData","plottedMessages","plottedMessageIds","maxGraphTime","series","signalUidsByMessageId","graphDataMaxMessageTimes","signalUids","maxIndex","ArrayUtils","newGraphData","firstNewEntryIdx","newEntries","signalGraphData","messageIdOutOfBounds","graphDataLowerBound","signalColors","debounce","func","wait","immediate","timeout","args","later","callNow","clearTimeout","setTimeout","DefaultPlotInnerStyle","top","CanGraph","updateBounds","view","bounds","run","insertData","changeset","insert","change","plotInnerStyle","shiftX","shiftY","isDataInserted","getGraphData","spec","getGraphSpec","onNewView","onSignalClickTime","onSignalSegment","onDragAnchorMouseDown","onDragAnchorMouseUp","onDragStart","onPlotResize","firstRelTime","lastRelTime","messageRelTime","GraphData","CanPlotSpec","scales","domainMin","segment","domainMax","newSegment","prevProps","canReceiveGraphDrop","dragPos","runAfter","updateStyleFromDragPos","plottedSignal","segmentIsNew","currentTime","runAsync","oldProps","oldState","clickTime","onRelativeTimeClick","isArray","onSegmentChanged","getState","subcontext","brush","rect","container","getBoundingClientRect","clientX","clientY","persist","plotInnerStyleFromMouseEvent","onDragEnd","canReceiveDropClass","onGraphRefAvailable","messageName","unplot","background","onResize","measureRef","Vega","logLevel","signalListeners","renderer","actions","emptyTable","CanGraphList","draggingSignal","dragShift","graphToReceiveDrop","plotListRef","plotRefs","renderSignalPlot","onPlotListRefReady","onGraphDragStart","onGraphDragEnd","onMouseMove","draggingGraph","determineDraggingGraph","hidden","document","elementFromPoint","closestPlot","closest","closestPlotRef","isEqualNode","mergePlots","fromPlot","toPlot","isDragging","addCanGraphRef","onSignalUnplotPressed","onGraphTimeClick","HLS","onSeeking","playing","onLoadStart","onPlaySeek","videoElement","shouldInitVideoTime","onSeeked","startTime","onLoadEnd","playbackRate","playbackSpeed","source","loadSource","paused","play","pause","player","Hls","enableWorker","disablePtsDtsCorrectionInMp4Remux","on","Events","ERROR","event","fatal","ErrorTypes","NETWORK_ERROR","startLoad","MEDIA_ERROR","recoverMediaError","destroy","attachMedia","onVideoElementAvailable","video","autoPlay","muted","onWaiting","onPlaying","PlayButton","hover","isPlaying","process","onPause","onPlay","imageSource","alt","onMouseOver","RouteSeeker","updateDraggingSeek","ratio","onUserSeek","seekedBarStyle","zeroSeekedBarStyle","markerStyle","hiddenMarkerStyle","tooltipStyle","hiddenTooltipStyle","tooltipTime","executePlayTimer","segmentIndices","videoLength","newRatio","updateSeekedBar","nearestFrameTime","segmentProgress","cancelAnimationFrame","playTimer","progressBar","offsetWidth","markerOffsetPct","mouseEventXOffsetPercent","markerWidth","tooltipWidth","ratioTime","requestAnimationFrame","duration","roundTime","loadingOverlay","justifyContent","alignItems","zIndex","loadingSpinner","img","hls","seekBar","RouteVideoSync","shouldShowJpeg","isLoading","videoApi","VideoApi","url","getQcameraStreamIndex","then","getQcameraStreamIndexUrl","catch","getRearCameraStreamIndexUrl","userSeekTime","videoOffset","funcSeekToRatio","thumbnails","l","monoTime","btoa","String","fromCharCode","playSpeed","onVideoClick","nearestFrameUrl","CanLog","expandedMessages","messageHeights","allPacketsExpanded","renderLogListItemMessage","addDisplayedMessages","renderLogListItem","renderLogList","onExpandAllChanged","toggleExpandAllPackets","curMessageLength","nextMessageLength","newLength","ITEMS_PER_PAGE","msgIdx","onMessageExpanded","expMsgTime","plot","plotted","onSignalPlotPressed","msgIsExpanded","isMessageExpanded","msgHasSignals","isSignalPlotted","plottedButtonText","signalValuePretty","hasSignalsClass","expandedClass","toggleExpandPacketSignals","renderLogListItemSignals","expandAllText","expandAllClass","itemRenderer","itemsRenderer","listLength","pageSize","updateWhenThisValueChanges","findTimeIndex","findRelativeTimeIndex","findSegmentIndices","isRelative","segmentTimeLow","segmentTimeHi","timeIndexFunc","segmentIdxLow","upperSegmentIdxHi","segmentIdxHi","PlaySpeedSelector","onPlaySpeedChanged","currentTarget","clipSegment","_segment","_segmentIndices","nextMessage","segmentStartIdx","segmentEndIdx","segmentStartTime","segmentEndTime","Explorer","updateSegment","selectedMessage","currentParts","Entries","userSeekIndex","startSegments","shouldShowAddSignal","autoplay","showAddSignal","onKeyDown","toggleShouldShowAddSignal","changePlaySpeed","addEventListener","removeEventListener","keyCode","resetSegment","curMessage","messageExists","signalExists","nextSeekMsgEntry","routeStartTime","partStartOffset","partEndOffset","windowStartTime","clone","windowEndTime","newPlottedSignals","indexFromSeekTime","onSeek","partsCount","selectedMessageName","showEditMessageModal","onClose","selectedMessagePlottedSignalUids","fromPlotIdx","splice","toPlotIdx","signalsExpandedClass","graphSegment","renderExplorerSignals","renderSelectMessagePrompt","Modal","windowHeight","modalHeight","updateHeights","contentRect","innerHeight","variations","variation","disableClose","readVariationClasses","checkClosability","checkYScrollability","handleClose","subtitle","navigation","footer","OnboardingModal","webUsbEnabled","usb","viewingUsbInstructions","pandaConnected","attemptPandaConnection","toggleUsbInstructions","navigateToExplorer","handlePandaConnect","drive","can","attemptingPandaConnection","CommaAuth","renderLogin","renderPandaEligibility","instructionalImages","step2","step3","renderUsbInstructions","renderOnboardingOptions","rel","renderModalFooter","renderModalContent","OpenDBC","github","GitHub","sourceRepo","getRepo","githubUsername","fetchGithubUsername","getUser","user","getProfile","profile","login","repoFullName","repo","username","repoName","getContents","response","content","path","dbcPath","fileContents","rawContentsUrl","download_url","fetch","cache","resp","repoDetails","full_name","getGithubUsername","openDbcFork","getDetails","repoDetailResp","repoSourceIsOpenDbc","fork","status","contents","commitMessage","getRef","refResp","getCommit","object","sha","headCommitResp","headCommit","getTree","tree","headTreeResp","headTree","mode","createTree","createTreeResp","createdTree","commit","commitResp","updateHead","updateHeadResp","SaveDbcModal","tab","sourceDbcFilename","tabs","commitToGitHub","downloadDbcFile","forkOpenDbcAndWait","renderForkButton","renderTabNavigation","renderActions","openDbcClient","getUserOpenDbcFork","filename","commitFile","onDbcSaved","blob","Blob","FileSaver","saveAs","isTimedOut","interval","disabled","hasGithubAuth","loginWithGithub","data-extension","renderForkStep","renderFilenameField","renderCommitMessage","renderTabContent","GithubDbcList","paths","selectedPath","pathQuery","updatePathQuery","list","getDbcContents","dbcContents","onDbcLoaded","placeholder","selectPath","DbcUpload","onTextChanged","LoadDbcModal","dbcSource","userOpenDbcRepo","handleSave","onDbcSelected","hasAuth","EditMessageModal","messageFrame","copy","editTransmitter","addTransmitter","keyframes","fetchPersistedDbc","routeName","maybeDbc","parse","persistDbc","dbcJson","GITHUB_AUTH_TOKEN_LOCALSTORAGE_KEY","UnloggerClient","socket","SocketIO","dongleId","baseTime","seekSeconds","CorollaDBC","demoLogUrls","demoProps","isDemo","demoRoute","fullname","proclog","start_time","Moment","RLogDownloader","LogCSVDownloader","MessageParser","CanStreamerWorker","dataCache","CanExplorer","partChangeDebounced","loadMessagesFromCache","spawnWorker","canFrameOffset","routeInitTime","firstFrameTime","lastBusTime","currentPart","currentWorkers","loadingParts","loadedParts","showOnboarding","editMessageModalMessage","partsLoaded","spawnWorkerHash","pandaNoDeviceSelected","isGithubAuthenticated","githubAuthToken","logUrls","OpenDbc","unloggerClient","hideOnboarding","hideLoadDbc","hideSaveDbc","hideEditMessageModal","onPartChange","onMessageFrameEdited","initCanData","processStreamedCanMessages","onStreamedCanMessagesProcessed","showingModal","lastMessageEntriesById","githubSignOut","downloadLogAsCSV","pandaReader","Panda","onMessage","dataCacheTimer","loadMessagesFromCacheRunning","part","lastUsed","exp","urlPromise","logUrlsPromise","Promise","resolve","DrivesApi","getRouteInfo","RawDataApi","getLogUrls","all","initData","newState","getShareSignature","shareSignature","err","lastUpdated","writer","createWriteStream","getWriter","encoder","TextEncoder","downloadLiveLogAsCSV","dataHandler","downloadRawLogAsCSV","logData","shouldClose","progress","close","uint8array","encode","write","handler","worker","onmessage","postMessage","sourceId","newThumbnails","oldIndex","newIndex","result","workerHash","minPart","maxPart","allWorkerParts","partOffset","tempPart","hash","charCodeAt","newMessages","isFinished","addMessagesToDataCache","prepend","dataCallback","base","isLegacyShare","msgEntries","newMsgEntries","msgLength","newMsgLength","entryLength","msgIndex","newMsgIndex","getParseSegment","parseMessageEntry","addAndRehydrateMessages","msgs","loadMessagesFromCacheTimer","isCanceled","performance","promises","cacheEntry","newMessageEntries","messageEntries","promise","getParseSegmentInternal","reparseMessages","end","_messages","reject","_entry","lastMsg","memo","setSignals","updateMessageFrame","decacheMessageId","msgKey","seek","GithubAuth","newCanMessages","canStreamerWorker","windowFloor","messageIds","newEntryFloor","firstEntryIndexInsideStreamingWindow","enforceStreamingMessageWindow","_onStreamedCanMessagesProcessed","persistedDbc","unlisten","onError","stack","dataArray","unpersistGithubAuthToken","segments","LoadingBar","selectedPart","routes","Sentry","routeFullName","isShare","authTokenQueryParam","persistGithubAuthToken","urlNoAuthToken","fetchPersistedGithubAuthToken","Request","configure","ReactDOM","render","getElementById","renderDom","extended","txName","txNum","nextNewTransmitterName","header","self","_indexOf","_getAjaxObject","XDomainRequest","XMLHttpRequest","LogStream","_endpoint","_traceCode","trace","PI","substring","_pageInfo","page_info","_token","_print","print","_noFormat","_SSL","ssl","protocol","LEENDPOINT","_backlog","_active","_sentPageInfo","_apiCall","request","constructor","onreadystatechange","readyState","shift","onload","open","setRequestHeader","overrideMimeType","send","_getEvent","Error","_agentInfo","nav","doNotTrack","screen","referrer","innerWidth","browser","appName","version","appVersion","cookie_enabled","cookieEnabled","do_not_track","platform","_rawLog","serialized","ex","oldHandler","onerror","newHandler","Logger","logger","dict","endpoint","_log","info","loggers","_createLogStream","_deprecatedInit","createLogStream","to","_getLogger","_destroyLogStream"],"mappings":"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F,SAAS0gB,wBAAWH,EAApB,GAAsD,IAArBvgB,EAAoB,EAApBA,YAAajmB,EAAO,EAAPA,IAC7C4mC,EAAUh7B,KAAKC,UAAU,CAC7Boa,cACAnV,QAAS9Q,EAAIiS,SAEfhT,OAAOkd,aAAaa,QAAQwpB,EAAWI,GAGzC,IAAMC,GAAqC,gB,yBClBtBC,G,WACnB,0BAAe,iCACbxiC,KAAKyiC,OAASC,KAAS7nC,K,mEAGpB8nC,EAAUC,EAAUC,GACvB7iC,KAAKyiC,OAAO/+B,KAAK,OAAQi/B,EAAUC,EAAUC,O,sCCP3CC,GAAa,IAAI32B,IAAJ,07fCCN42B,GAAc,CACzB,uPACA,2PACA,uPACA,uPACA,uPACA,uPACA,uPACA,yPACA,uPACA,uPACA,wPACA,0PACA,0PACA,wPACA,0PACA,wPACA,0PACA,wPACA,wPACA,wPACA,wPACA,0PACA,wPACA,wPACA,wPACA,0PACA,wPACA,wPACA,0PACA,0PACA,4PACA,wPACA,0PACA,0PACA,wPACA,wPACA,4PACA,0PACA,wPACA,4PACA,0PACA,4PACA,wPACA,4PACA,wPACA,0PACA,wPACA,wPACA,wPACA,wPACA,wPACA,wPACA,wPACA,wPACA,0PACA,0PACA,0PACA,wPACA,wPACA,wPACA,wPACA,0PACA,0PACA,wPACA,wPACA,0PACA,4PACA,wPACA,4PACA,0PACA,4PACA,wPACA,wPACA,0PACA,0PACA,0PACA,wPACA,0PACA,wPACA,0PACA,0PACA,wPACA,4PACA,0PACA,wPACA,4PACA,0PACA,wPACA,wPACA,wPACA,4PACA,4PACA,wPACA,wPACA,wPACA,wPACA,wPACA,4PACA,0PACA,0PACA,yPACA,yPACA,6PACA,yPACA,yPACA,2PACA,2PACA,yPACA,2PACA,yPACA,6PACA,2PACA,yPACA,2PACA,2PACA,yPACA,2PACA,yPACA,2PACA,yPACA,4PAGWC,GAAY,CACvBpzB,IAAKmzB,GAAYtmC,OACjBrD,KAAM,uBACNupC,SAAU,mBACVjnC,ID0RaonC,GCzRbG,QAAQ,EACRthB,YAAa,iCAGFuhB,GAAY,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","file":"static/js/main.e96a7ee5.chunk.js","sourcesContent":["import Frame from './frame';\nimport Signal from './signal';\n\nexport const wheelSpeeds = {\n  FrontLeftWheel: shortSignal({\n    index: 0,\n    factor: 0.001\n  }),\n  FrontRightWheel: shortSignal({\n    index: 1,\n    factor: 0.001\n  }),\n  RearLeftWheel: shortSignal({\n    index: 2,\n    factor: 0.001\n  }),\n  RearRightWheel: shortSignal({\n    index: 3,\n    factor: 0.001\n  })\n};\n\nexport const ego = {\n  VEgo: shortSignal({\n    index: 0,\n    factor: 0.001\n  }),\n  AEgo: shortSignal({\n    index: 1,\n    factor: 0.001\n  }),\n  VEgoRaw: shortSignal({\n    index: 2,\n    factor: 0.001\n  }),\n  YawRate: shortSignal({\n    index: 3,\n    factor: 0.001\n  })\n};\n\nexport const controls = {\n  SteeringAngle: longSignal({\n    index: 0,\n    factor: 0.001\n  }),\n  Brake: shortSignal({\n    index: 2,\n    factor: 0.001\n  }),\n  Gas: shortSignal({\n    index: 3,\n    factor: 0.001\n  })\n};\n\nexport const flags = {\n  LeftBlinker: boolSignal({\n    index: 0\n  }),\n  RightBlinker: boolSignal({\n    index: 1\n  }),\n  GenericToggle: boolSignal({\n    index: 2\n  }),\n  DoorOpen: boolSignal({\n    index: 3\n  }),\n  SeatbeltUnlatched: boolSignal({\n    index: 4\n  }),\n  GasPressed: boolSignal({\n    index: 5\n  }),\n  BrakeLights: boolSignal({\n    index: 6\n  }),\n  SteeringPressed: boolSignal({\n    index: 7\n  }),\n  Standstill: boolSignal({\n    index: 8\n  }),\n  'CruiseState.Enabled': boolSignal({\n    index: 9\n  }),\n  'CruiseState.Available': boolSignal({\n    index: 10\n  }),\n  'CruiseState.Standstill': boolSignal({\n    index: 11\n  }),\n  GearShifter: {\n    startBit: 15,\n    size: 4,\n    unsigned: true\n  },\n  'CruiseState.Speed': charSignal({\n    index: 2\n  })\n};\n\nexport const ubloxGnss = {\n  RcvTow: longSignal({\n    index: 0\n  }),\n  GpsWeek: shortSignal({\n    index: 2\n  }),\n  LeapSeconds: {\n    startBit: 55,\n    size: 8\n  },\n  NumMeas: {\n    startBit: 63,\n    size: 8\n  }\n};\n\nexport const health = {\n  Voltage: shortSignal({\n    index: 0\n  }),\n  Current: charSignal({\n    index: 2\n  }),\n  Started: boolSignal({\n    index: 24\n  }),\n  ControlsAllowed: boolSignal({\n    index: 25\n  }),\n  GasInterceptorDetected: boolSignal({\n    index: 26\n  }),\n  StartedSignalDetected: boolSignal({\n    index: 27\n  })\n};\n\nexport const thermalCPU = {\n  Cpu0: shortSignal({\n    index: 0,\n    unsigned: true\n  }),\n  Cpu1: shortSignal({\n    index: 1,\n    unsigned: true\n  }),\n  Cpu2: shortSignal({\n    index: 2,\n    unsigned: true\n  }),\n  Cpu3: shortSignal({\n    index: 3,\n    unsigned: true\n  })\n};\n\nexport const thermalData = {\n  Mem: shortSignal({\n    index: 0,\n    unsigned: true\n  }),\n  Gpu: shortSignal({\n    index: 1,\n    unsigned: true\n  }),\n  FanSpeed: shortSignal({\n    index: 2,\n    unsigned: true\n  }),\n  BatteryPercent: charSignal({\n    index: 6,\n    unsigned: true\n  }),\n  UsbOnline: boolSignal({\n    index: 56\n  }),\n  Started: boolSignal({\n    index: 57\n  })\n};\n\nexport const thermalFreeSpace = {\n  FreeSpace: longSignal({\n    index: 0,\n    unsigned: true,\n    factor: 0.000000001\n  })\n};\n\nexport const signalMap = {\n  'CarState:WheelSpeeds': wheelSpeeds,\n  'CarState:Ego': ego,\n  'CarState:Controls': controls,\n  'CarState:Flags': flags,\n  'UbloxGnss:MeasurementReport': ubloxGnss,\n  'Health:Data': health,\n  'Thermal:CPU': thermalCPU,\n  'Thermal:Data': thermalData,\n  'Thermal:FreeSpace': thermalFreeSpace\n};\n\nconst ADDRESS_LIST = [];\n\nObject.keys(signalMap).forEach((name) => {\n  Object.keys(signalMap[name]).forEach((signal) => {\n    signalMap[name][signal] = createSignalEntry({\n      name: signal,\n      ...signalMap[name][signal]\n    });\n  });\n  addressForName(name);\n});\n\nfunction createSignalEntry(options) {\n  return new Signal({\n    name: options.name,\n    startBit: options.startBit,\n    size: options.size,\n    isLittleEndian: false,\n    isSigned: !options.unsigned,\n    factor: options.factor || 1,\n    offset: options.offset || 0,\n    unit: options.unit || ''\n  });\n}\n\nfunction longSignal(options) {\n  return {\n    ...options,\n    size: 32,\n    startBit: options.index * 32 + 7\n  };\n}\n\nfunction shortSignal(options) {\n  return {\n    ...options,\n    size: 16,\n    startBit: options.index * 16 + 7\n  };\n}\n\nfunction charSignal(options) {\n  return {\n    ...options,\n    size: 8,\n    startBit: options.index * 8 + 7\n  };\n}\n\nfunction boolSignal(options) {\n  return {\n    ...options,\n    size: 1,\n    startBit: options.index,\n    unsigned: true\n  };\n}\n\nexport function addressForName(name) {\n  const i = ADDRESS_LIST.indexOf(name);\n  if (i === -1) {\n    ADDRESS_LIST.push(name);\n    return ADDRESS_LIST.indexOf(name) + 0x1000;\n  }\n  return i + 0x1000;\n}\n\nexport function nameForAddress(address) {\n  if (address >= 0x1000) {\n    return ADDRESS_LIST[address - 0x1000];\n  }\n  return null;\n}\n\nexport function isLogAddress(address) {\n  return !!nameForAddress(address);\n}\n\nexport function frameForAddress(address) {\n  const name = nameForAddress(address);\n  return new Frame({\n    id: name,\n    name,\n    size: 8,\n    signals: signalMap[name]\n  });\n}\n","import { getUrlParameter } from './utils/url';\n\nconst ENV = process.env.NODE_ENV === 'production' ? 'prod' : 'debug';\n\nconst ENV_GITHUB_CLIENT_ID = {\n  debug: 'f1e42d14f45491f9ca34',\n  prod: '4b43250e7499a97d62a5'\n};\nexport const GITHUB_CLIENT_ID = ENV_GITHUB_CLIENT_ID[ENV];\n\nconst ENV_GITHUB_REDIRECT_URL = {\n  debug: 'http://127.0.0.1:1235/callback',\n  prod: 'https://api.comma.ai/cabana/ghcallback'\n};\nexport const GITHUB_REDIRECT_URL = ENV_GITHUB_REDIRECT_URL[ENV];\nexport const GITHUB_AUTH_TOKEN_KEY = 'gh_access_token';\nexport const OPENDBC_SOURCE_REPO = 'commaai/opendbc';\n\nexport const USE_UNLOGGER = typeof window !== 'undefined' && getUrlParameter('unlogger') !== null;\nexport const UNLOGGER_HOST = 'http://localhost:8080/unlogger';\n\nexport const LOGENTRIES_TOKEN = '4bc98019-8277-4fe0-867c-ed21ea843cc5';\n\nexport const PART_SEGMENT_LENGTH = 3;\n\nexport const CAN_GRAPH_MAX_POINTS = 5000;\n\nexport const STREAMING_WINDOW = 60;\n\nconst ENV_EXPLORER_URL = {\n  debug: 'http://127.0.0.1:3000/',\n  prod: 'https://my.comma.ai/'\n};\nexport const EXPLORER_URL = ENV_EXPLORER_URL[ENV];\n","export function swapKeysAndValues(obj, f) {\n  return Object.keys(obj).reduce((acc, k) => {\n    acc[obj[k]] = k;\n    return acc;\n  }, {});\n}\n\nexport function fromArray(arr) {\n  // arr is an array of array key-value pairs\n  // like [['a', 1], ['b', 2]]\n\n  const pairs = arr.map(([k, v]) => ({ [k]: v }));\n  if (pairs.length > 0) {\n    return Object.assign(...pairs);\n  }\n  return {};\n}\n","function findMaxByteStateChangeCount(messages) {\n  return Object.values(messages)\n    .map((m) => m.byteStateChangeCounts)\n    .reduce((counts, countArr) => counts.concat(countArr), []) // flatten arrays\n    .reduce((count1, count2) => (count1 > count2 ? count1 : count2), 0); // find max\n}\n\nfunction addCanMessage(\n  canMessage,\n  dbc,\n  canStartTime,\n  messages,\n  prevMsgEntries,\n  byteStateChangeCountsByMessage\n) {\n  const {\n    address, busTime, data, bus\n  } = canMessage;\n  const id = `${bus}:${address.toString(16)}`;\n\n  if (messages[id] === undefined) messages[id] = createMessageSpec(dbc, address, id, bus);\n\n  const prevMsgEntry = messages[id].entries.length > 0\n    ? messages[id].entries[messages[id].entries.length - 1]\n    : prevMsgEntries[id] || null;\n\n  if (\n    byteStateChangeCountsByMessage[id]\n    && messages[id].byteStateChangeCounts.every((c) => c === 0)\n  ) {\n    messages[id].byteStateChangeCounts = byteStateChangeCountsByMessage[id];\n  }\n\n  const { msgEntry, byteStateChangeCounts } = parseMessage(\n    dbc,\n    busTime,\n    address,\n    data,\n    canStartTime,\n    prevMsgEntry\n  );\n\n  messages[id].byteStateChangeCounts = byteStateChangeCounts.map(\n    (count, idx) => messages[id].byteStateChangeCounts[idx] + count\n  );\n\n  messages[id].entries.push(msgEntry);\n\n  return msgEntry;\n}\n\nfunction createMessageSpec(dbc, address, id, bus) {\n  const frame = dbc.getMessageFrame(address);\n  const size = frame ? frame.size : 8;\n\n  return {\n    address,\n    id,\n    bus,\n    entries: [],\n    frame,\n    byteColors: Array(size).fill(0),\n    byteStateChangeCounts: Array(size).fill(0)\n  };\n}\n\nfunction determineByteStateChangeTimes(\n  hexData,\n  time,\n  msgSize,\n  lastParsedMessage\n) {\n  const byteStateChangeCounts = Array(msgSize).fill(0);\n  let byteStateChangeTimes;\n\n  if (!lastParsedMessage) {\n    byteStateChangeTimes = Array(msgSize).fill(time);\n  } else {\n    // debugger;\n    byteStateChangeTimes = lastParsedMessage.byteStateChangeTimes;\n\n    for (let i = 0; i < byteStateChangeTimes.length; i++) {\n      const currentData = hexData.substr(i * 2, 2);\n      const prevData = lastParsedMessage.hexData.substr(i * 2, 2);\n\n      if (currentData !== prevData) {\n        byteStateChangeTimes[i] = time;\n        byteStateChangeCounts[i] = 1;\n      }\n    }\n  }\n\n  return { byteStateChangeTimes, byteStateChangeCounts };\n}\n\nfunction createMessageEntry(\n  dbc,\n  address,\n  time,\n  relTime,\n  data,\n  byteStateChangeTimes\n) {\n  return {\n    signals: dbc.getSignalValues(address, data),\n    address,\n    data,\n    time,\n    relTime,\n    hexData: Buffer.from(data).toString('hex'),\n    byteStateChangeTimes,\n    updated: Date.now()\n  };\n}\n\nfunction reparseMessage(dbc, msg, lastParsedMessage) {\n  const msgSpec = dbc.getMessageFrame(msg.address);\n  const msgSize = msgSpec ? msgSpec.size : 8;\n\n  const {\n    byteStateChangeTimes,\n    byteStateChangeCounts\n  } = determineByteStateChangeTimes(\n    msg.hexData,\n    msg.relTime,\n    msgSize,\n    lastParsedMessage\n  );\n\n  const msgEntry = {\n    ...msg,\n    signals: dbc.getSignalValues(msg.address, msg.data),\n    byteStateChangeTimes,\n    updated: Date.now()\n  };\n\n  return { msgEntry, byteStateChangeCounts };\n}\n\nfunction parseMessage(dbc, time, address, data, timeStart, lastParsedMessage) {\n  let hexData;\n  if (typeof data === 'string') {\n    hexData = data;\n    data = Buffer.from(data, 'hex');\n  } else {\n    hexData = Buffer.from(data).toString('hex');\n  }\n  const msgSpec = dbc.getMessageFrame(address);\n  const msgSize = msgSpec ? msgSpec.size : 8;\n  const relTime = time - timeStart;\n\n  const {\n    byteStateChangeTimes,\n    byteStateChangeCounts\n  } = determineByteStateChangeTimes(\n    hexData,\n    relTime,\n    msgSize,\n    lastParsedMessage\n  );\n  const msgEntry = createMessageEntry(\n    dbc,\n    address,\n    time,\n    relTime,\n    data,\n    byteStateChangeTimes\n  );\n\n  return { msgEntry, byteStateChangeCounts };\n}\n\nconst BIG_ENDIAN_START_BITS = [];\nfor (let i = 0; i < 64; i += 8) {\n  for (let j = 7; j > -1; j--) {\n    BIG_ENDIAN_START_BITS.push(i + j);\n  }\n}\n\nfunction bigEndianBitIndex(matrixBitIndex) {\n  return BIG_ENDIAN_START_BITS.indexOf(matrixBitIndex);\n}\n\nfunction matrixBitNumber(bigEndianIndex) {\n  return BIG_ENDIAN_START_BITS[bigEndianIndex];\n}\n\nfunction setMessageByteColors(message, maxByteStateChangeCount) {\n  message.byteColors = message.byteStateChangeCounts\n    .map((count) => (isNaN(count)\n      ? 0\n      : Math.min(255, 75 + 180 * (count / maxByteStateChangeCount))))\n    .map((red) => `rgb(${Math.round(red)},0,0)`);\n\n  return message;\n}\n\nexport default {\n  bigEndianBitIndex,\n  addCanMessage,\n  createMessageSpec,\n  matrixBitNumber,\n  parseMessage,\n  reparseMessage,\n  findMaxByteStateChangeCount,\n  setMessageByteColors,\n  createMessageEntry\n};\n","export default class BoardUnit {\n  constructor(name) {\n    this.name = name;\n    this.attributes = {};\n    this.comment = null;\n  }\n\n  text() {\n    return this.name;\n  }\n}\n","// Wrapper of aphrodite css() function\n// that supports string class names in\n// addition to style objects.\n\n// Useful for component testing\n\nimport { css } from 'aphrodite';\nimport classNames from 'classnames';\n\nexport default function () {\n  const styles = [];\n  const classes = [];\n\n  [].forEach.call(arguments, (it) => {\n    if (it && it._definition && it._name) styles.push(it);\n    else classes.push(it);\n  });\n\n  return classNames.apply(null, [...classes, css(styles)]);\n}\n","export function shade([r, g, b], opacity) {\n  /*\n    @param {Array} rgb\n    @param {Number} opacity -1.0 -> +1.0\n        negative opacity will darken image\n\n    returns new RGB array\n    */\n  const t = opacity < 0 ? 0 : 255;\n  const opacityPos = Math.abs(opacity);\n\n  return [\n    Math.round((t - r) * opacityPos) + r,\n    Math.round((t - g) * opacityPos) + g,\n    Math.round((t - b) * opacityPos) + b\n  ];\n}\n","/* eslint-disable no-restricted-globals */\nexport function objToQuery(obj) {\n  return Object.keys(obj)\n    .map((k) => `${k}=${encodeURIComponent(decodeURIComponent(obj[k]))}`)\n    .join('&');\n}\n\nexport function getUrlParameter(name) {\n  const { location } = window;\n  name = name.replace(/[[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  const regex = new RegExp(`[\\\\?&]${name}=([^&#]*)`);\n  const results = regex.exec(location.search);\n\n  return results === null\n    ? null\n    : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n}\n\nexport function modifyQueryParameters({ add, remove = [] }) {\n  const regex = new RegExp('[\\\\?&]([^&#]+)=([^&#]*)');\n  const results = regex.exec(location.search);\n\n  let params = {};\n  if (results != null) {\n    for (let i = 1; i < results.length - 1; i += 2) {\n      const key = results[i];\n      const value = results[i + 1];\n      params[key] = value;\n    }\n    for (const key in params) {\n      if (remove.indexOf(key) !== -1) {\n        delete params[key];\n      }\n    }\n    params = { ...params, ...add };\n  } else {\n    params = add;\n  }\n\n  return `${location.origin + location.pathname}?${objToQuery(params)}`;\n}\n","import LogEntries from './LogEntries';\nimport { LOGENTRIES_TOKEN } from '../config';\n\nclass CloudLog {\n  constructor() {\n    LogEntries.init({\n      token: LOGENTRIES_TOKEN,\n      no_format: true,\n      catchall: false\n    });\n    this.context = {};\n  }\n\n  bind(obj) {\n    this.context.update(obj);\n  }\n\n  emit(message, level = 'log') {\n    if (typeof global.__JEST__ !== 'undefined') {\n      // Don't log in testing environment\n      return;\n    }\n\n    const entry = {\n      ctx: this.context,\n      created: new Date().getTime() / 1000,\n      msg: message,\n      src: 'JSCloudLog'\n    };\n\n    if (level === 'log') {\n      LogEntries.log(entry);\n    } else if (level === 'warn') {\n      LogEntries.warn(entry);\n    } else if (level === 'error') {\n      LogEntries.error(entry);\n    }\n  }\n\n  log(message) {\n    this.emit(message);\n  }\n\n  warn(message) {\n    this.emit(message, 'warn');\n  }\n\n  error(message) {\n    this.emit(message, 'error');\n  }\n}\n\nexport default new CloudLog();\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { StyleSheet } from 'aphrodite/no-important';\nimport css from '../utils/css';\n\nimport SignalLegend from './SignalLegend';\nimport Signal from '../models/can/signal';\nimport { shade } from '../utils/color';\nimport DbcUtils from '../utils/dbc';\n\n/*\nAddSignals component draws an 8x8 matrix\nrepresenting the bytes in a CAN message, alongside\na signal legend. Dragging on the matrix\neither extends or creates a signal, which is\nconfigurable in the legend.\n*/\n\nconst Styles = StyleSheet.create({\n  bit: {\n    margin: 0,\n    padding: 12,\n    userSelect: 'none',\n    cursor: 'pointer',\n    textAlign: 'center',\n    position: 'relative'\n  },\n  bitSelectedStyle: {\n    backgroundColor: 'rgba(0,119,158,0.5)'\n  },\n  bitSignificance: {\n    fontSize: 12,\n    display: 'block',\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    right: 0,\n    margin: '0 auto'\n  },\n  highlightedSignalTitle: {\n    backgroundColor: 'rgba(0,0,0,0.2)'\n  }\n});\n\nexport default class AddSignals extends Component {\n  static propTypes = {\n    message: PropTypes.object,\n    onConfirmedSignalChange: PropTypes.func,\n    messageIndex: PropTypes.number,\n    onSignalPlotChange: PropTypes.func,\n    plottedSignalUids: PropTypes.array,\n    selectedMessageKey: PropTypes.string\n  };\n\n  constructor(props) {\n    super(props);\n\n    let signals = {};\n    if (props.message && props.message.frame && props.message.frame.signals) {\n      signals = this.copySignals(props.message.frame.signals);\n    }\n\n    this.state = {\n      bits: [],\n      signals,\n      signalStyles: this.calcSignalStyles(signals),\n      highlightedSignal: null,\n      dragStartBit: null,\n      dragSignal: null,\n      dragCurrentBit: null\n    };\n  }\n\n  copySignals(signals) {\n    return Object.entries(signals).reduce(\n      (signalsCopy, [signalName, signal]) => {\n        signalsCopy[signalName] = Object.assign(Object.create(signal), signal);\n        return signalsCopy;\n      },\n      {}\n    );\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      nextProps.message.hexData !== this.props.message.hexData\n      || nextProps.messageIndex !== this.props.messageIndex\n      || JSON.stringify(nextProps.plottedSignalUids)\n        !== JSON.stringify(this.props.plottedSignalUids)\n      || JSON.stringify(this.state) !== JSON.stringify(nextState)\n    );\n  }\n\n  signalColorStyle(signal) {\n    const colors = signal.getColors(this.props.selectedMessageKey);\n\n    let colorRgbStr;\n    let backgroundColor;\n    if (this.state && this.state.highlightedSignal === signal.name) {\n      // when signal highlighted,\n      // darkened background and lightened text.\n\n      const darkenedColors = shade(colors, -0.5);\n      const lightenedColors = shade(colors, 0.9);\n      colorRgbStr = `rgb(${lightenedColors.join(',')})`;\n      backgroundColor = `rgba(${darkenedColors.join(',')},0.5)`;\n    } else {\n      const colorsCommaSep = colors.join(',');\n      colorRgbStr = `rgb(${colorsCommaSep})`;\n      backgroundColor = `rgba(${colorsCommaSep},0.2)`;\n    }\n\n    const style = StyleSheet.create({\n      signal: { color: colorRgbStr, backgroundColor }\n    }).signal;\n    return style;\n  }\n\n  updateSignalStyles = () => {\n    const signalStyles = this.calcSignalStyles(this.state.signals);\n\n    this.setState({ signalStyles });\n  };\n\n  calcSignalStyles(signals) {\n    const signalStyles = {};\n    Object.values(signals).forEach((signal) => {\n      signalStyles[signal.name] = this.signalColorStyle(signal);\n    });\n\n    return signalStyles;\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.message.address !== this.props.message.address\n      || newProps.selectedMessageKey !== this.props.selectedMessageKey) {\n      const signals = newProps.message.frame ? newProps.message.frame.signals : {};\n\n      this.setState(\n        { signals: this.copySignals(signals) },\n        this.updateSignalStyles\n      );\n    }\n  }\n\n  signalForBit(bitIdx) {\n    // bitIdx in [0,64)\n    // returns instance of Signal\n\n    return Object.values(this.state.signals).filter(\n      (signal) => signal.bitDescription(bitIdx) !== null\n    )[0];\n  }\n\n  onSignalHover = (signal) => {\n    if (!signal) return;\n\n    this.setState({ highlightedSignal: signal.name }, this.updateSignalStyles);\n  };\n\n  signalBitIndex(bitIdx, signal) {\n    // todo does this work for both big and little endian?\n    let { startBit } = signal;\n    if (!signal.isLittleEndian) {\n      startBit = DbcUtils.bigEndianBitIndex(startBit);\n    }\n    return bitIdx - startBit;\n  }\n\n  onBitHover = (bitIdx, signal) => {\n    let { dragStartBit, signals, dragSignal } = this.state;\n\n    if (dragStartBit !== null) {\n      if (dragSignal !== null) {\n        signals = this.copySignals(signals);\n        dragSignal = Object.assign(Object.create(dragSignal), dragSignal);\n\n        if (dragStartBit === dragSignal.startBit && dragSignal.size > 1) {\n          if (!dragSignal.isLittleEndian) {\n            // should not be able to drag the msb past the lsb\n            const hoveredBigEndian = DbcUtils.bigEndianBitIndex(bitIdx);\n            const lsbBigEndian = dragSignal.lsbBitNumber();\n\n            if (hoveredBigEndian > lsbBigEndian) {\n              return;\n            }\n          } else {\n            // should not be able to drag the lsb past the msb\n            if (bitIdx > dragSignal.msbBitIndex()) {\n              return;\n            }\n          }\n\n          const diff = bitIdx - dragStartBit;\n\n          if (dragSignal.isLittleEndian) {\n            dragSignal.size -= diff;\n          } else if (dragSignal.bitDescription(bitIdx) === null) {\n            dragSignal.size += Math.abs(diff);\n          } else {\n            dragSignal.size -= Math.abs(diff);\n          }\n\n          dragSignal.startBit += diff;\n\n          signals[dragSignal.name] = dragSignal;\n          dragStartBit = dragSignal.startBit;\n        } else if (dragSignal.size === 1) {\n          // 1-bit signals can be dragged in either direction\n          if (Math.floor(bitIdx / 8) === Math.floor(dragStartBit / 8)) {\n            if (bitIdx > dragStartBit) {\n              if (dragSignal.isLittleEndian) {\n                dragSignal.size = bitIdx - dragSignal.startBit;\n              } else {\n                dragSignal.startBit = bitIdx;\n                dragSignal.size = bitIdx - dragStartBit + 1;\n                dragStartBit = bitIdx;\n              }\n            } else if (dragSignal.isLittleEndian) {\n              dragSignal.startBit = bitIdx;\n              dragSignal.size = dragStartBit - bitIdx + 1;\n              dragStartBit = bitIdx;\n            } else {\n              dragSignal.size = dragStartBit - bitIdx + 1;\n              dragStartBit = bitIdx;\n            }\n          }\n\n          signals[dragSignal.name] = dragSignal;\n        } else if (\n          dragSignal.isLittleEndian\n          && dragStartBit === dragSignal.msbBitIndex()\n        ) {\n          if (bitIdx < dragSignal.startBit) {\n            // should not be able to drag the MSB past the LSB\n            return;\n          }\n          const diff = bitIdx - dragStartBit;\n          if (dragSignal.bitDescription(bitIdx) === null) {\n            dragSignal.size += Math.abs(diff);\n          } else {\n            dragSignal.size -= Math.abs(diff);\n          }\n          signals[dragSignal.name] = dragSignal;\n          dragStartBit = dragSignal.msbBitIndex();\n        } else if (\n          !dragSignal.isLittleEndian\n          && dragStartBit === dragSignal.lsbBitIndex()\n        ) {\n          const diff = bitIdx - dragStartBit;\n          if (dragSignal.bitDescription(bitIdx) === null) {\n            dragSignal.size += Math.abs(diff);\n          } else {\n            dragSignal.size -= Math.abs(diff);\n          }\n          signals[dragSignal.name] = dragSignal;\n          dragStartBit = dragSignal.lsbBitIndex();\n        }\n        this.setState({\n          signals,\n          dragSignal,\n          dragCurrentBit: bitIdx,\n          dragStartBit\n        });\n      } else {\n        this.setState({ dragCurrentBit: bitIdx });\n      }\n    }\n    if (signal) {\n      this.onSignalHover(signal);\n    }\n  };\n\n  onSignalHoverEnd = (signal) => {\n    if (!signal) return;\n\n    this.setState({ highlightedSignal: null }, this.updateSignalStyles);\n  };\n\n  nextNewSignalName() {\n    const existingNames = Object.keys(this.state.signals);\n    let signalNum = 1;\n    let signalName;\n    do {\n      signalName = `NEW_SIGNAL_${signalNum}`;\n      signalNum++;\n    } while (existingNames.indexOf(signalName) !== -1);\n\n    return signalName;\n  }\n\n  onBitMouseDown(dragStartBit, dragSignal) {\n    this.setState({\n      dragStartBit,\n      dragSignal: dragSignal || null\n    });\n  }\n\n  createSignal({ startBit, size, isLittleEndian }) {\n    const signal = new Signal({\n      name: this.nextNewSignalName(),\n      startBit,\n      size,\n      isLittleEndian\n    });\n    let { signals } = this.state;\n    signals = { ...signals };\n    signals[signal.name] = signal;\n\n    this.setState({ signals }, this.propagateUpSignalChange);\n  }\n\n  createSignalIfNotExtendingOne(dragStartBit, dragEndBit) {\n    if (this.state.dragSignal === null) {\n      // check for overlapping bits\n      for (let i = dragStartBit; i <= dragEndBit; i++) {\n        if (this.signalForBit(i) !== undefined) {\n          // Don't create signal if a signal is already defined in the selected range.\n          return;\n        }\n      }\n      const isDragAcrossSingleByte = Math.floor(dragEndBit / 8) === Math.floor(dragStartBit / 8);\n      const isDragDirectionUp = !isDragAcrossSingleByte && dragEndBit < dragStartBit;\n\n      let isLittleEndian;\n      if (isDragAcrossSingleByte || !isDragDirectionUp) {\n        isLittleEndian = dragStartBit % 8 < 4;\n      } else {\n        isLittleEndian = dragStartBit % 8 >= 4;\n      }\n      let size;\n      let startBit = dragStartBit;\n\n      if (isDragAcrossSingleByte) {\n        size = Math.abs(dragEndBit - dragStartBit) + 1;\n      } else if (isLittleEndian) {\n        if (dragEndBit > dragStartBit) {\n          startBit = dragStartBit;\n          size = dragEndBit - dragStartBit + 1;\n        } else {\n          startBit = dragEndBit;\n          size = dragStartBit - dragEndBit + 1;\n        }\n      } else {\n        if (dragEndBit < dragStartBit) {\n          startBit = dragEndBit;\n        }\n        size = Math.abs(\n          DbcUtils.bigEndianBitIndex(dragEndBit)\n              - DbcUtils.bigEndianBitIndex(dragStartBit)\n        ) + 1;\n      }\n\n      this.createSignal({ startBit, size, isLittleEndian });\n    }\n  }\n\n  onBitMouseUp(dragEndBit, signal) {\n    if (this.state.dragStartBit !== null) {\n      const { dragStartBit } = this.state;\n\n      if (dragEndBit !== dragStartBit) {\n        // one-bit signal requires double click\n        // see onBitDoubleClick\n        this.createSignalIfNotExtendingOne(dragStartBit, dragEndBit);\n      }\n      this.propagateUpSignalChange();\n      this.resetDragState();\n    }\n  }\n\n  byteValueHex(byteIdx) {\n    const { entries } = this.props.message;\n    if (this.props.messageIndex < entries.length) {\n      const entry = entries[this.props.messageIndex];\n\n      return entry.hexData.substr(byteIdx * 2, 2);\n    }\n    return '--';\n  }\n\n  bitValue(byteIdx, byteBitIdx) {\n    const { entries } = this.props.message;\n    if (this.props.messageIndex < entries.length) {\n      const entry = entries[this.props.messageIndex];\n      const data = Buffer.from(entry.hexData, 'hex');\n      if (byteIdx >= data.length) {\n        return '-';\n      }\n      const byte = data.readInt8(byteIdx);\n      return (byte >> byteBitIdx) & 1;\n    }\n    return '-';\n  }\n\n  bitIsContainedInSelection(bitIdx, isLittleEndian = false) {\n    const { dragStartBit, dragCurrentBit } = this.state;\n\n    if (isLittleEndian || dragStartBit % 8 < 4) {\n      return (\n        dragStartBit !== null\n        && dragCurrentBit !== null\n        && bitIdx >= dragStartBit\n        && bitIdx <= dragCurrentBit\n      );\n    }\n    const bigEndianStartBit = DbcUtils.bigEndianBitIndex(dragStartBit);\n    const bigEndianCurrentBit = DbcUtils.bigEndianBitIndex(dragCurrentBit);\n    const bigEndianBitIdx = DbcUtils.bigEndianBitIndex(bitIdx);\n    return (\n      dragStartBit !== null\n      && dragCurrentBit !== null\n      && bigEndianBitIdx >= bigEndianStartBit\n      && bigEndianBitIdx <= bigEndianCurrentBit\n    );\n  }\n\n  onBitDoubleClick(startBit, signal) {\n    if (signal === undefined) {\n      this.createSignal({ startBit, size: 1, isLittleEndian: false });\n    }\n  }\n\n  renderBitMatrix() {\n    const { message } = this.props;\n    const rows = [];\n    let rowCount;\n    if (message.frame && message.frame.size) {\n      rowCount = Math.floor((message.frame.size * 8) / 8);\n    } else {\n      rowCount = 8;\n    }\n\n    for (let i = 0; i < rowCount; i++) {\n      const rowBits = [];\n      for (let j = 7; j >= 0; j--) {\n        const bitIdx = i * 8 + j;\n        const signal = this.signalForBit(bitIdx);\n        let bitStyle = null;\n        let bitSignificance = '';\n        if (signal) {\n          bitStyle = this.state.signalStyles[signal.name] || null;\n          const bitDesc = signal.bitDescription(bitIdx);\n          bitSignificance = bitDesc.isMsb ? 'msb' : bitDesc.isLsb ? 'lsb' : '';\n        } else if (this.bitIsContainedInSelection(bitIdx)) {\n          bitStyle = Styles.bitSelectedStyle;\n        }\n        const className = css('bit', Styles.bit, bitStyle);\n        const bitValue = this.bitValue(i, j);\n\n        rowBits.push(\n          <td\n            key={j.toString()}\n            className={className}\n            onMouseEnter={() => this.onBitHover(bitIdx, signal)}\n            onMouseLeave={() => this.onSignalHoverEnd(signal)}\n            onMouseDown={this.onBitMouseDown.bind(this, bitIdx, signal)}\n            onMouseUp={this.onBitMouseUp.bind(this, bitIdx, signal)}\n            onDoubleClick={() => this.onBitDoubleClick(bitIdx, signal)}\n          >\n            <span>{bitValue}</span>\n            <span className={css(Styles.bitSignificance)}>\n              {bitSignificance}\n            </span>\n          </td>\n        );\n      }\n\n      rowBits.push(<td key=\"hex-repr\">{this.byteValueHex(i)}</td>);\n      rows.push(<tr key={i.toString()}>{rowBits}</tr>);\n    }\n\n    return (\n      <div className=\"cabana-explorer-signals-matrix\">\n        <table cellSpacing={0} onMouseLeave={this.resetDragState}>\n          <tbody>{rows}</tbody>\n        </table>\n      </div>\n    );\n  }\n\n  resetDragState = () => {\n    this.setState({\n      dragStartBit: null,\n      dragSignal: null,\n      dragCurrentBit: null\n    });\n  };\n\n  onTentativeSignalChange = (signal) => {\n    // Tentative signal changes are not propagated up\n    // but their effects are displayed in the bitmatrix\n    const { signals } = this.state;\n    signals[signal.name] = signal;\n    this.setState({ signals });\n  };\n\n  onSignalChange = (signal, oldSignal) => {\n    const { signals } = this.state;\n\n    for (const signalName in signals) {\n      if (signals[signalName].uid === signal.uid) {\n        delete signals[signalName];\n      }\n    }\n    signals[signal.name] = signal;\n\n    this.setState({ signals }, this.propagateUpSignalChange);\n  };\n\n  onSignalRemove = (signal) => {\n    const { signals } = this.state;\n    delete signals[signal.name];\n    this.setState({ signals }, this.propagateUpSignalChange);\n  };\n\n  propagateUpSignalChange() {\n    const { signals } = this.state;\n\n    this.props.onConfirmedSignalChange(\n      this.props.message,\n      this.copySignals(signals)\n    );\n  }\n\n  onSignalPlotChange = (shouldPlot, signalUid) => {\n    const { message } = this.props;\n\n    this.props.onSignalPlotChange(shouldPlot, message.id, signalUid);\n  };\n\n  render() {\n    const { selectedMessageKey } = this.props;\n    return (\n      <div className=\"cabana-explorer-signals-controller\">\n        {Object.keys(this.state.signals).length === 0 ? (\n          <p>Double click or drag to add a signal</p>\n        ) : null}\n        {this.props.message.entries[this.props.messageIndex] ? (\n          <div className=\"cabana-explorer-signals-time\">\n            <p>\n              time:\n              {' '}\n              {this.props.message.entries[\n                this.props.messageIndex\n              ].relTime.toFixed(3)}\n            </p>\n          </div>\n        ) : null}\n        {this.props.message.isLogEvent || this.renderBitMatrix()}\n        <SignalLegend\n          isLogEvent={!!this.props.message.isLogEvent}\n          signals={this.state.signals}\n          signalStyles={this.state.signalStyles}\n          highlightedSignal={this.state.highlightedSignal}\n          onSignalHover={this.onSignalHover}\n          onSignalHoverEnd={this.onSignalHoverEnd}\n          onTentativeSignalChange={this.onTentativeSignalChange}\n          onSignalChange={this.onSignalChange}\n          onSignalRemove={this.onSignalRemove}\n          onSignalPlotChange={this.onSignalPlotChange}\n          plottedSignalUids={this.props.plottedSignalUids}\n          selectedMessageKey={selectedMessageKey}\n        />\n      </div>\n    );\n  }\n}\n","import rightPad from 'right-pad';\nimport CloudLog from '../../logging/CloudLog';\nimport Signal from './signal';\nimport Frame from './frame';\nimport BoardUnit from './BoardUnit';\nimport DbcUtils from '../../utils/dbc';\nimport * as LogSignals from './logSignals';\n\nconst { UINT64 } = require('cuint');\n\nconst DBC_COMMENT_RE = /^CM_ *\"(.*)\";/;\nconst DBC_COMMENT_MULTI_LINE_RE = /^CM_ *\"(.*)/;\n\nconst MSG_RE = /^BO_ (\\w+) (\\w+) *: (\\w+) (\\w+)/;\n\nconst SIGNAL_RE = /^SG_ (\\w+) : (\\d+)\\|(\\d+)@(\\d+)([+|-]) \\(([0-9.+-eE]+),([0-9.+-eE]+)\\) \\[([0-9.+-eE]+)\\|([0-9.+-eE]+)\\] \"(.*)\" (.*)/;\n// Multiplexed signal\nconst MP_SIGNAL_RE = /^SG_ (\\w+) (\\w+) *: (\\d+)\\|(\\d+)@(\\d+)([+|-]) \\(([0-9.+-eE]+),([0-9.+-eE]+)\\) \\[([0-9.+-eE]+)\\|([0-9.+-eE]+)\\] \"(.*)\" (.*)/;\n\nconst VAL_RE = /^VAL_ (\\w+) (\\w+) (.*);/;\nconst VAL_TABLE_RE = /^VAL_TABLE_ (\\w+) (.*);/;\n\nconst MSG_TRANSMITTER_RE = /^BO_TX_BU_ ([0-9]+) *: *(.+);/;\n\nconst SIGNAL_COMMENT_RE = /^CM_ SG_ *(\\w+) *(\\w+) *\"(.*)\";/;\nconst SIGNAL_COMMENT_MULTI_LINE_RE = /^CM_ SG_ *(\\w+) *(\\w+) *\"(.*)/;\n\n// Message Comments (CM_ BO_ )\nconst MESSAGE_COMMENT_RE = /^CM_ BO_ *(\\w+) *\"(.*)\";/;\nconst MESSAGE_COMMENT_MULTI_LINE_RE = /^CM_ BO_ *(\\w+) *\"(.*)/;\n\nconst BOARD_UNIT_RE = /^BU_:(.*)/;\nconst BOARD_UNIT_COMMENT_RE = /^CM_ BU_ *(\\w+) *\"(.*)\";/;\nconst BOARD_UNIT_COMMENT_MULTI_LINE_RE = /^CM_ BU_ *(\\w+) *\"(.*)/;\n\n// Follow ups are used to parse multi-line comment definitions\nconst FOLLOW_UP_DBC_COMMENT = 'FollowUpDbcComment';\nconst FOLLOW_UP_SIGNAL_COMMENT = 'FollowUpSignalComment';\nconst FOLLOW_UP_MSG_COMMENT = 'FollowUpMsgComment';\nconst FOLLOW_UP_BOARD_UNIT_COMMENT = 'FollowUpBoardUnitComment';\n\nfunction floatOrInt(numericStr) {\n  if (Number.isInteger(numericStr)) {\n    return parseInt(numericStr, 10);\n  }\n  return parseFloat(numericStr);\n}\n\nexport function swapOrder(arr, wordSize, gSize) {\n  const swappedWords = [];\n\n  for (let i = 0; i < arr.length; i += wordSize) {\n    const word = arr.slice(i, i + wordSize);\n    for (let j = wordSize - gSize; j > -gSize; j -= gSize) {\n      swappedWords.push(word.slice(j, j + gSize));\n    }\n  }\n\n  return swappedWords.join('');\n}\n\nexport default class DBC {\n  constructor(dbcString) {\n    this.boardUnits = [];\n    this.comments = [];\n    this.messages = new Map();\n\n    if (dbcString !== undefined) {\n      this.dbcText = dbcString;\n      this.importDbcString(dbcString);\n    }\n  }\n\n  getMessageFrame(address) {\n    if (LogSignals.isLogAddress(address)) {\n      return LogSignals.frameForAddress(address);\n    }\n    return this.messages.get(address);\n  }\n\n  nextNewFrameName() {\n    const messageNames = [];\n\n    for (const msg of this.messages.values()) {\n      messageNames.push(msg.name);\n    }\n\n    let msgNum = 1;\n    let msgName;\n    do {\n      msgName = `NEW_MSG_${msgNum}`;\n      msgNum++;\n    } while (messageNames.indexOf(msgName) !== -1);\n\n    return msgName;\n  }\n\n  updateBoardUnits() {\n    const boardUnitNames = this.boardUnits.map((bu) => bu.name);\n    const missingBoardUnits = Array.from(this.messages.entries())\n      .map(([msgId, frame]) => Object.values(frame.signals))\n      .reduce((arr, signals) => arr.concat(signals), [])\n      .map((signal) => signal.receiver)\n      .reduce((arr, receivers) => arr.concat(receivers), [])\n      .filter((recv, idx, array) => array.indexOf(recv) === idx)\n      .filter((recv) => boardUnitNames.indexOf(recv) === -1)\n      .map((recv) => new BoardUnit(recv));\n\n    this.boardUnits = this.boardUnits.concat(missingBoardUnits);\n  }\n\n  text() {\n    this.updateBoardUnits();\n\n    let txt = 'VERSION \"\"\\n\\n\\n';\n    txt += `NS_ :${this._newSymbols()}`;\n    txt += '\\n\\nBS_:\\n';\n\n    const boardUnitsText = this.boardUnits.map((bu) => bu.text()).join(' ');\n    txt += `\\nBU_: ${boardUnitsText}\\n\\n\\n`;\n\n    const frames = [];\n    for (const frame of this.messages.values()) {\n      frames.push(frame);\n    }\n    txt += `${frames.map((f) => f.text()).join('\\n\\n')}\\n\\n`;\n\n    const messageTxs = frames\n      .map((f) => [f.id, f.transmitters.slice(1)])\n      .filter(([addr, txs]) => txs.length > 0);\n    txt += `${messageTxs\n      .map(([addr, txs]) => `BO_TX_BU_ ${addr} : ${txs.join(',')};`)\n      .join('\\n')}\\n\\n\\n`;\n\n    txt += this.boardUnits\n      .filter((bu) => bu.comment !== null)\n      .map((bu) => `CM_ BU_ ${bu.name} \"${bu.comment}\";`)\n      .join('\\n');\n\n    txt += frames\n      .filter((f) => f.comment !== null)\n      .map((msg) => `CM_ BO_ ${msg.address} \"${msg.comment}\";`)\n      .join('\\n');\n\n    const signalsByMsgId = frames\n      .map((f) => Object.values(f.signals).map((sig) => [f.id, sig]))\n      .reduce((s1, s2) => s1.concat(s2), []);\n\n    txt += `${signalsByMsgId\n      .filter(([msgAddr, sig]) => sig.comment !== null)\n      .map(\n        ([msgAddr, sig]) => `CM_ SG_ ${msgAddr} ${sig.name} \"${sig.comment}\";`\n      )\n      .join('\\n')}\\n`;\n\n    txt += `${signalsByMsgId\n      .filter(([msgAddr, sig]) => sig.valueDescriptions.size > 0)\n      .map(([msgAddr, sig]) => sig.valueDescriptionText(msgAddr))\n      .join('\\n')}\\n`;\n\n    txt += this.comments.map((comment) => `CM_ \"${comment}\";`).join('\\n');\n\n    return `${txt.trim()}\\n`;\n  }\n\n  getMessageName(msgId) {\n    const msg = this.getMessageFrame(msgId);\n    if (msg && msg.frame) return msg.frame.name;\n    return null;\n  }\n\n  getSignals(msgId) {\n    const msg = this.getMessageFrame(msgId);\n    if (msg) return msg.signals;\n    return {};\n  }\n\n  createFrame(msgId) {\n    const msg = new Frame({\n      name: this.nextNewFrameName(),\n      id: msgId,\n      size: 8\n    });\n\n    this.messages.set(msgId, msg);\n    return msg;\n  }\n\n  setSignals(msgId, signals) {\n    const msg = this.getMessageFrame(msgId);\n    if (msg) {\n      const newMsg = Object.assign(Object.create(msg), msg);\n      newMsg.signals = signals;\n      this.messages.set(msgId, newMsg);\n    } else {\n      const msg = this.createFrame(msgId);\n      msg.signals = signals;\n\n      this.messages.set(msgId, msg);\n      this.updateBoardUnits();\n    }\n  }\n\n  addSignal(msgId, signal) {\n    const msg = this.getMessageFrame(msgId);\n\n    if (msg) {\n      msg.signals[signal.name] = signal;\n      this.updateBoardUnits();\n    }\n  }\n\n  importDbcString(dbcString) {\n    const warnings = [];\n    const messages = new Map();\n    let boardUnits = [];\n    const valueTables = new Map();\n    let id = 0;\n    let followUp = null;\n\n    const lines = dbcString.split('\\n');\n    for (let i = 0; i < lines.length; i++) {\n      let line = lines[i].trim();\n\n      if (line.length === 0) continue;\n\n      if (followUp != null) {\n        const { type, data } = followUp;\n        line = line.replace(/\" *;/, '');\n        let followUpLine = `\\n${line.substr(0, line.length)}`;\n        if (line.indexOf('\"') !== -1) {\n          followUp = null;\n          followUpLine = followUpLine.substr(0, followUpLine.length - 1);\n        }\n        if (type === FOLLOW_UP_SIGNAL_COMMENT) {\n          const signal = data;\n          signal.comment += followUpLine;\n        } else if (type === FOLLOW_UP_MSG_COMMENT) {\n          const msg = data;\n          msg.comment += followUpLine;\n        } else if (type === FOLLOW_UP_BOARD_UNIT_COMMENT) {\n          const boardUnit = data;\n          boardUnit.comment += followUpLine;\n        } else if (type === FOLLOW_UP_DBC_COMMENT) {\n          //          const comment = data;\n          const partialComment = this.comments[this.comments.length - 1];\n          this.comments[this.comments.length - 1] = partialComment + followUpLine;\n        }\n      }\n\n      if (line.indexOf('BO_ ') === 0) {\n        const matches = line.match(MSG_RE);\n        if (matches === null) {\n          warnings.push(\n            `failed to parse message definition on line ${i + 1} -- ${line}`\n          );\n          continue;\n        }\n        let [idString, name, size, transmitter] = matches.slice(1);\n        id = parseInt(idString, 0); // 0 radix parses hex or dec\n        size = parseInt(size, 10);\n        const frame = new Frame({\n          name,\n          id,\n          size,\n          transmitters: [transmitter]\n        });\n        messages.set(id, frame);\n      } else if (line.indexOf('SG_') === 0) {\n        let matches = line.match(SIGNAL_RE);\n\n        if (matches === null) {\n          matches = line.match(MP_SIGNAL_RE);\n          if (matches === null) {\n            warnings.push(\n              `failed to parse signal definition on line ${i + 1} -- ${line}`\n            );\n            continue;\n          }\n          // for now, ignore multiplex which is matches[1]\n          matches = matches[1] + matches.slice(3);\n        } else {\n          matches = matches.slice(1);\n        }\n\n        let [\n          name,\n          startBit,\n          size,\n          isLittleEndian,\n          isSigned,\n          factor,\n          offset,\n          min,\n          max,\n          unit,\n          receiverStr\n        ] = matches;\n        startBit = parseInt(startBit, 10);\n        size = parseInt(size, 10);\n        isLittleEndian = parseInt(isLittleEndian, 10) === 1;\n        isSigned = isSigned === '-';\n        factor = floatOrInt(factor);\n        offset = floatOrInt(offset);\n        min = floatOrInt(min);\n        max = floatOrInt(max);\n        const receiver = receiverStr.split(',').map((s) => s.trim());\n\n        const signalProperties = {\n          name,\n          startBit,\n          size,\n          isLittleEndian,\n          isSigned,\n          factor,\n          offset,\n          unit,\n          min,\n          max,\n          receiver\n        };\n        const signal = new Signal(signalProperties);\n\n        if (messages.get(id) !== undefined) {\n          messages.get(id).signals[name] = signal;\n        } else {\n          CloudLog.warn(\n            `importDbcString: could not add signal: ${name} due to missing message: ${id}`\n          );\n        }\n      } else if (line.indexOf('VAL_ ') === 0) {\n        const matches = line.match(VAL_RE);\n\n        if (matches !== null) {\n          let [messageId, signalName, vals] = matches.slice(1);\n          vals = vals\n            .split('\"')\n            .map((s) => s.trim())\n            .filter((s) => s.length > 0);\n\n          messageId = parseInt(messageId, 10);\n          const msg = messages.get(messageId);\n          const signal = msg.signals[signalName];\n          if (signal === undefined) {\n            warnings.push(\n              `could not find signal for value description on line ${i\n                + 1} -- ${line}`\n            );\n            continue;\n          }\n          for (let i = 0; i < vals.length; i += 2) {\n            const value = vals[i].trim();\n            const description = vals[i + 1].trim();\n            signal.valueDescriptions.set(value, description);\n          }\n        } else {\n          warnings.push(\n            `failed to parse value description on line ${i + 1} -- ${line}`\n          );\n        }\n      } else if (line.indexOf('VAL_TABLE_ ') === 0) {\n        const matches = line.match(VAL_TABLE_RE);\n\n        if (matches !== null) {\n          const table = new Map();\n          let [tableName, items] = matches.slice(1);\n          items = items\n            .split('\"')\n            .map((s) => s.trim())\n            .filter((s) => s.length > 0);\n\n          for (let i = 0; i < items.length; i += 2) {\n            const key = items[i];\n            const value = items[i + 1];\n            table.set(key, value);\n          }\n          valueTables.set(tableName, table);\n        } else {\n          warnings.push(\n            `failed to parse value table on line ${i + 1} -- ${line}`\n          );\n        }\n      } else if (line.indexOf('BO_TX_BU_ ') === 0) {\n        const matches = line.match(MSG_TRANSMITTER_RE);\n\n        if (matches !== null) {\n          let [messageId, transmitter] = matches.slice(1);\n          messageId = parseInt(messageId, 10);\n\n          const msg = messages.get(messageId);\n          msg.transmitters.push(transmitter);\n          messages.set(messageId, msg);\n        } else {\n          warnings.push(\n            `failed to parse message transmitter definition on line ${i\n              + 1} -- ${line}`\n          );\n        }\n      } else if (line.indexOf('CM_ SG_ ') === 0) {\n        let matches = line.match(SIGNAL_COMMENT_RE);\n        let hasFollowUp = false;\n        if (matches === null) {\n          matches = line.match(SIGNAL_COMMENT_MULTI_LINE_RE);\n          hasFollowUp = true;\n        }\n        if (matches === null) {\n          warnings.push(\n            `failed to parse signal comment on line ${i + 1} -- ${line}`\n          );\n          continue;\n        }\n\n        let [messageId, signalName, comment] = matches.slice(1);\n\n        messageId = parseInt(messageId, 10);\n        const msg = messages.get(messageId);\n        if (msg === undefined) {\n          warnings.push(`failed to parse signal comment on line ${i\n            + 1} -- ${line}:\n                                    message id ${messageId} does not exist prior to this line`);\n          continue;\n        }\n        const signal = msg.signals[signalName];\n        if (signal === undefined) {\n          warnings.push(\n            `failed to parse signal comment on line ${i + 1} -- ${line}`\n          );\n          continue;\n        } else {\n          signal.comment = comment;\n          messages.set(messageId, msg);\n        }\n\n        if (hasFollowUp) {\n          followUp = { type: FOLLOW_UP_SIGNAL_COMMENT, data: signal };\n        }\n      } else if (line.indexOf('CM_ BO_ ') === 0) {\n        let matches = line.match(MESSAGE_COMMENT_RE);\n        let hasFollowUp = false;\n        if (matches === null) {\n          matches = line.match(MESSAGE_COMMENT_MULTI_LINE_RE);\n          hasFollowUp = true;\n          if (matches === null) {\n            warnings.push(\n              `failed to message comment on line ${i + 1} -- ${line}`\n            );\n            continue;\n          }\n        }\n\n        let [messageId, comment] = matches.slice(1);\n        messageId = parseInt(messageId, 10);\n        const msg = messages.get(messageId);\n        msg.comment = comment;\n\n        if (hasFollowUp) {\n          followUp = { type: FOLLOW_UP_MSG_COMMENT, data: msg };\n        }\n      } else if (line.indexOf('BU_: ') === 0) {\n        const matches = line.match(BOARD_UNIT_RE);\n\n        if (matches !== null) {\n          const [boardUnitNameStr] = matches.slice(1);\n          const newBoardUnits = boardUnitNameStr\n            .split(' ')\n            .map((s) => s.trim())\n            .filter((s) => s.length > 0)\n            .map((name) => new BoardUnit(name));\n\n          boardUnits = boardUnits.concat(newBoardUnits);\n        } else {\n          warnings.push(\n            `failed to parse board unit definition on line ${i + 1} -- ${line}`\n          );\n          continue;\n        }\n      } else if (line.indexOf('CM_ BU_ ') === 0) {\n        let matches = line.match(BOARD_UNIT_COMMENT_RE);\n        let hasFollowUp = false;\n        if (matches === null) {\n          matches = line.match(BOARD_UNIT_COMMENT_MULTI_LINE_RE);\n          hasFollowUp = true;\n          if (matches === null) {\n            warnings.push(\n              `failed to parse board unit comment on line ${i + 1} -- ${line}`\n            );\n            continue;\n          }\n        }\n\n        const [boardUnitName, comment] = matches.slice(1);\n        const boardUnit = boardUnits.find((bu) => bu.name === boardUnitName);\n        if (boardUnit) {\n          boardUnit.comment = comment;\n        }\n\n        if (hasFollowUp) {\n          followUp = { type: FOLLOW_UP_BOARD_UNIT_COMMENT, data: boardUnit };\n        }\n      } else if (line.indexOf('CM_ ') === 0) {\n        let matches = line.match(DBC_COMMENT_RE);\n        let hasFollowUp = false;\n        if (matches === null) {\n          matches = line.match(DBC_COMMENT_MULTI_LINE_RE);\n          if (matches === null) {\n            warnings.push(\n              `failed to parse dbc comment on line ${i + 1} -- ${line}`\n            );\n            continue;\n          } else {\n            hasFollowUp = true;\n          }\n        }\n\n        const [comment] = matches.slice(1);\n        this.comments.push(comment);\n        if (hasFollowUp) {\n          followUp = { type: FOLLOW_UP_DBC_COMMENT, data: comment };\n        }\n      }\n    }\n\n    // Disabled b/c live mode frequently calls this function\n    // and executes way too many network requests\n    if (warnings.length > 0) {\n      // warnings.forEach((warning) => CloudLog.warn('importDbcString: ' + warning));\n      // warnings.forEach((warning) => console.log('importDbcString: ' + warning));\n    }\n\n    this.messages = messages;\n    this.boardUnits = boardUnits;\n    this.valueTables = valueTables;\n  }\n\n  valueForInt64Signal(signalSpec, hexData) {\n    const blen = hexData.length * 4;\n    let value;\n    let startBit;\n    let dataBitPos;\n\n    if (signalSpec.isLittleEndian) {\n      value = UINT64(swapOrder(hexData, 16, 2), 16);\n      startBit = signalSpec.startBit;\n      dataBitPos = UINT64(startBit);\n    } else {\n      // big endian\n      value = UINT64(hexData, 16);\n\n      startBit = DbcUtils.bigEndianBitIndex(signalSpec.startBit);\n      dataBitPos = UINT64(blen - (startBit + signalSpec.size));\n    }\n    if (dataBitPos < 0) {\n      return null;\n    }\n\n    const rightHandAnd = UINT64(Math.pow(2, signalSpec.size) - 1);\n    let ival = value\n      .shiftr(dataBitPos)\n      .and(rightHandAnd)\n      .toNumber();\n\n    if (signalSpec.isSigned && ival & Math.pow(2, signalSpec.size - 1)) {\n      ival -= Math.pow(2, signalSpec.size);\n    }\n    ival = ival * signalSpec.factor + signalSpec.offset;\n    return ival;\n  }\n\n  valueForInt32Signal(signalSpec, buf) {\n    let startBit;\n    if (signalSpec.isLittleEndian) {\n      startBit = 64 - signalSpec.startBit - signalSpec.size;\n    } else {\n      let bitPos = (-signalSpec.startBit - 1) % 8;\n      if (bitPos < 0) {\n        bitPos += 8; // mimic python modulo behavior\n      }\n\n      startBit = Math.floor(signalSpec.startBit / 8) * 8 + bitPos;\n    }\n\n    let shiftAmount;\n    let signalValue;\n    const byteOffset = Math.min(4, Math.floor(signalSpec.startBit / 8));\n    if (signalSpec.isLittleEndian) {\n      signalValue = buf.readUInt32LE(byteOffset);\n      shiftAmount = signalSpec.startBit - 8 * byteOffset;\n    } else {\n      signalValue = buf.readUInt32BE(byteOffset);\n      shiftAmount = 32 - (startBit - 8 * byteOffset + signalSpec.size);\n    }\n\n    signalValue = (signalValue >>> shiftAmount) & ((1 << signalSpec.size) - 1);\n    if (signalSpec.isSigned && signalValue >>> (signalSpec.size - 1)) {\n      signalValue -= 1 << signalSpec.size;\n    }\n\n    return signalValue * signalSpec.factor + signalSpec.offset;\n  }\n\n  getSignalValues(messageId, data) {\n    if (!this.messages.has(messageId) && !LogSignals.isLogAddress(messageId)) {\n      return {};\n    }\n    const frame = this.getMessageFrame(messageId);\n\n    const buffer = Buffer.from(data);\n    let paddedBuffer = buffer;\n    if (buffer.length !== 8) {\n      // pad data it's 64 bits long\n      const paddedDataHex = rightPad(buffer.toString('hex'), 16, '0');\n      paddedBuffer = Buffer.from(paddedDataHex, 'hex');\n    }\n    const hexData = paddedBuffer.toString('hex');\n\n    const signalValuesByName = {};\n    Object.values(frame.signals).forEach((signalSpec) => {\n      let value;\n      if (signalSpec.size > 32) {\n        value = this.valueForInt64Signal(signalSpec, hexData);\n      } else {\n        value = this.valueForInt32Signal(signalSpec, paddedBuffer);\n      }\n      signalValuesByName[signalSpec.name] = value;\n    });\n\n    return signalValuesByName;\n  }\n\n  getChffrMetricMappings() {\n    const metricComment = this.comments.find(\n      (comment) => comment.indexOf('CHFFR_METRIC') === 0\n    );\n    if (!metricComment) {\n      return null;\n    }\n\n    return metricComment\n      .split(';')\n      .map((metric) => metric.trim().split(' '))\n      .reduce(\n        (metrics, [_, messageId, signalName, metricName, factor, offset]) => {\n          metrics[metricName] = {\n            messageId: parseInt(messageId, 10),\n            signalName,\n            factor: parseFloat(factor),\n            offset: parseFloat(offset)\n          };\n          return metrics;\n        },\n        {}\n      );\n  }\n\n  _newSymbols() {\n    return `\n    NS_DESC_\n    CM_\n    BA_DEF_\n    BA_\n    VAL_\n    CAT_DEF_\n    CAT_\n    FILTER\n    BA_DEF_DEF_\n    EV_DATA_\n    ENVVAR_DATA_\n    SGTYPE_\n    SGTYPE_VAL_\n    BA_DEF_SGTYPE_\n    BA_SGTYPE_\n    SIG_TYPE_REF_\n    VAL_TABLE_\n    SIG_GROUP_\n    SIG_VALTYPE_\n    SIGTYPE_VALTYPE_\n    BO_TX_BU_\n    BA_DEF_REL_\n    BA_REL_\n    BA_DEF_DEF_REL_\n    BU_SG_REL_\n    BU_EV_REL_\n    BU_BO_REL_\n    SG_MUL_VAL_`;\n  }\n}\n","import DbcUtils from '../../utils/dbc';\n\nconst unsignedTransformation = (field) => (value, signal) => {\n  if (value !== '') {\n    value = Number(value) || 0;\n\n    if (value < 0) {\n      value = 0;\n    }\n  }\n  signal[field] = value;\n  return signal;\n};\n\nexport default [\n  {\n    field: 'name',\n    title: 'Name',\n    type: 'string'\n  },\n  {\n    field: 'size',\n    title: 'Size',\n    type: 'number',\n    transform: unsignedTransformation('size')\n  },\n  {\n    field: 'startBit',\n    title: (signal) => (signal.isLittleEndian ? 'Least significant bit' : 'Most significant bit'),\n    type: 'number',\n    transform: unsignedTransformation('startBit')\n  },\n  {\n    field: 'isLittleEndian',\n    title: 'Endianness',\n    type: 'option',\n    options: {\n      options: ['Little', 'Big'],\n      optionValues: { Little: true, Big: false }\n    },\n    transform: (isLittleEndian, signal) => {\n      if (signal.isLittleEndian !== isLittleEndian) {\n        const { startBit } = signal;\n\n        if (isLittleEndian) {\n          // big endian -> little endian\n          const startByte = Math.floor(signal.startBit / 8);\n          const endByte = Math.floor((signal.startBit - signal.size + 1) / 8);\n\n          if (startByte === endByte) {\n            signal.startBit = signal.startBit - signal.size + 1;\n          } else {\n            signal.startBit = DbcUtils.matrixBitNumber(startBit);\n          }\n        } else {\n          // little endian -> big endian\n          const startByte = Math.floor(signal.startBit / 8);\n          const endByte = Math.floor((signal.startBit + signal.size - 1) / 8);\n\n          if (startByte === endByte) {\n            signal.startBit = signal.startBit + signal.size - 1;\n          } else {\n            signal.startBit = DbcUtils.bigEndianBitIndex(startBit);\n          }\n        }\n        signal.isLittleEndian = isLittleEndian;\n      }\n      return signal;\n    }\n  },\n  {\n    field: 'isSigned',\n    title: 'Sign',\n    type: 'option',\n    options: {\n      options: ['Signed', 'Unsigned'],\n      optionValues: { Signed: true, Unsigned: false }\n    }\n  },\n  {\n    field: 'factor',\n    title: 'Factor',\n    type: 'number'\n  },\n  {\n    field: 'offset',\n    title: 'Offset',\n    type: 'number'\n  },\n  {\n    field: 'unit',\n    title: 'Unit',\n    type: 'string'\n  },\n  {\n    field: 'comment',\n    title: 'Comment',\n    type: 'string'\n  },\n  {\n    field: 'min',\n    title: 'Minimum value',\n    type: 'number'\n  },\n  {\n    field: 'max',\n    title: 'Maximum value',\n    type: 'number'\n  }\n];\n","import React, { Component } from 'react';\n\nexport default class Field extends Component {\n  render() {\n    const { title, htmlFor, children } = this.props;\n    return (\n      <div className=\"form-field form-field--small\">\n        <label htmlFor={htmlFor}>{title}</label>\n        {children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nimport FIELDS from './FIELDS';\nimport NumberField from './NumberField';\nimport StringField from './StringField';\nimport OptionField from './OptionField';\n\nconst FieldMap = {\n  number: NumberField,\n  option: OptionField,\n  string: StringField\n};\n\nexport default ({\n  signal,\n  onSignalRemove,\n  isExpanded,\n  getSignalEdited,\n  update\n}) => (\n  <div className=\"signals-legend-entry-form\">\n    {FIELDS.map((field) => {\n      const Node = FieldMap[field.type];\n      return (\n        <div className=\"signals-legend-entry-form-field\" key={field.field}>\n          <Node\n            fieldSpec={field}\n            signal={signal}\n            isExpanded={isExpanded}\n            signalEdited={getSignalEdited(field.field)}\n            updateField={update}\n          />\n        </div>\n      );\n    })}\n    <div className=\"signals-legend-entry-form-remove\">\n      <button\n        className=\"button--tiny button--alpha\"\n        onClick={() => onSignalRemove(signal)}\n      >\n        Remove Signal\n      </button>\n    </div>\n  </div>\n);\n","import React from 'react';\nimport Field from './Field';\n\nexport default ({\n  fieldSpec,\n  signal,\n  isExpanded,\n  signalEdited,\n  updateField\n}) => {\n  const { field, title } = fieldSpec;\n  const htmlFor = `${signal.name}_${field}`;\n  let valueCol;\n\n  if (isExpanded) {\n    let value = signalEdited;\n    if (value !== '') {\n      const num = Number(value);\n      value = isNaN(num) ? '' : num;\n    }\n    valueCol = (\n      <input\n        id={htmlFor}\n        type=\"number\"\n        value={value}\n        onChange={(e) => {\n          updateField(fieldSpec, e.target.value);\n        }}\n      />\n    );\n  } else {\n    const value = signal[field];\n    valueCol = <span>{value}</span>;\n  }\n  return (\n    <Field\n      title={typeof title === 'function' ? title(signal) : title}\n      htmlFor={htmlFor}\n    >\n      {valueCol}\n    </Field>\n  );\n};\n","import React from 'react';\nimport Field from './Field';\n\nimport { swapKeysAndValues } from '../../utils/object';\n\nexport default ({\n  fieldSpec,\n  signal,\n  isExpanded,\n  signalEdited,\n  updateField\n}) => {\n  let valueCol;\n  const { field, title } = fieldSpec;\n  const htmlFor = `${signal.name}_${field}`;\n  const { options, optionValues } = fieldSpec.options;\n  const valueOptions = swapKeysAndValues(optionValues);\n\n  if (isExpanded) {\n    const optionEles = options.map((opt) => (\n      <option key={opt} value={optionValues[opt]}>\n        {opt}\n      </option>\n    ));\n    valueCol = (\n      <select\n        id={htmlFor}\n        defaultValue={signalEdited}\n        onChange={(e) => {\n          updateField(fieldSpec, e.target.value === 'true');\n        }}\n      >\n        {optionEles}\n      </select>\n    );\n  } else {\n    valueCol = <span>{valueOptions[signal[field]]}</span>;\n  }\n\n  return (\n    <Field\n      title={typeof title === 'function' ? title(signal) : title}\n      htmlFor={htmlFor}\n    >\n      {valueCol}\n    </Field>\n  );\n};\n","import React from 'react';\nimport Field from './Field';\n\nexport default ({\n  fieldSpec,\n  signal,\n  isExpanded,\n  signalEdited,\n  updateField\n}) => {\n  const { field, title } = fieldSpec;\n  const htmlFor = `${signal.name}_${field}`;\n  let valueCol;\n  if (isExpanded) {\n    valueCol = (\n      <input\n        id={htmlFor}\n        type=\"text\"\n        value={signalEdited || ''}\n        onChange={(e) => {\n          updateField(fieldSpec, e.target.value);\n        }}\n      />\n    );\n  } else {\n    valueCol = <span>{signal[field]}</span>;\n  }\n\n  return (\n    <Field\n      title={typeof title === 'function' ? title(signal) : title}\n      htmlFor={htmlFor}\n    >\n      {valueCol}\n    </Field>\n  );\n};\n","import styled from 'react-emotion';\n\n// color bar on the left side of the signals legend\nexport default styled('div')`\n  display: block;\n  height: 100%;\n  left: 0;\n  position: absolute;\n  width: 1.5%;\n  opacity: ${({ isHighlighted }) => (isHighlighted ? 0.5 : 0.3)};\n  background-color: rgb(${({ rgb }) => rgb.join(',')});\n`;\n","// SignalLegendEntry.js\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport Signal from '../../models/can/signal';\nimport SignalForm from './SignalForm';\nimport ColorBar from './ColorBar';\nimport FIELDS from './FIELDS';\n\nexport default class SignalLegendEntry extends Component {\n  static propTypes = {\n    isLogEvent: PropTypes.bool,\n    signal: PropTypes.instanceOf(Signal).isRequired,\n    isHighlighted: PropTypes.bool,\n    onSignalHover: PropTypes.func,\n    onSignalHoverEnd: PropTypes.func,\n    onTentativeSignalChange: PropTypes.func,\n    onSignalChange: PropTypes.func,\n    onSignalRemove: PropTypes.func,\n    onSignalPlotChange: PropTypes.func,\n    toggleExpandSignal: PropTypes.func,\n    isPlotted: PropTypes.bool,\n    isExpanded: PropTypes.bool\n  };\n\n  static fieldSpecForName = (name) => FIELDS.find((field) => field.field === name);\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      signalEdited: Object.assign(Object.create(props.signal), props.signal)\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!nextProps.signal.equals(this.props.signal)) {\n      this.setState({\n        signalEdited: Object.assign(\n          Object.create(nextProps.signal),\n          nextProps.signal\n        )\n      });\n    }\n  }\n\n  updateField = (fieldSpec, value) => {\n    let { signalEdited } = this.state;\n    const { signal } = this.props;\n\n    if (fieldSpec.transform) {\n      signalEdited = fieldSpec.transform(value, signalEdited);\n    } else {\n      signalEdited[fieldSpec.field] = value;\n    }\n\n    // Save entire signal while editing\n    this.setState({ signalEdited });\n    const signalCopy = Object.assign(Object.create(signal), signal);\n    Object.entries(signalEdited).forEach(([field, value]) => {\n      signalCopy[field] = value;\n    });\n    this.props.onSignalChange(signalCopy, signal);\n  };\n\n  toggleEditing = (e) => {\n    if (this.props.isLogEvent) {\n      return;\n    }\n    let { signalEdited } = this.state;\n    const { signal, isExpanded } = this.props;\n    const signalCopy = Object.assign(Object.create(signal), signal);\n\n    if (isExpanded) {\n      // Finished editing, save changes & reset intermediate\n      // signalEdited state.\n      Object.entries(signalEdited).forEach(([field, value]) => {\n        const fieldSpec = SignalLegendEntry.fieldSpecForName(field);\n\n        if (\n          fieldSpec\n          && fieldSpec.type === 'number'\n          && isNaN(parseInt(value, 10))\n        ) {\n          value = 0;\n        }\n\n        signalCopy[field] = value;\n      });\n      this.props.onSignalChange(signalCopy, signal);\n    } else {\n      signalEdited = signalCopy;\n    }\n\n    // Expand and enable signal editing\n    this.setState({\n      signalEdited\n    });\n    this.props.toggleExpandSignal(signal);\n    e.stopPropagation();\n  };\n\n  toggleSignalPlot = (e) => {\n    const { signal, isPlotted } = this.props;\n    e.preventDefault();\n    this.props.onSignalPlotChange(!isPlotted, signal.uid);\n  };\n\n  getSignalEdited = (field) => this.state.signalEdited[field];\n\n  render() {\n    const {\n      signal, isHighlighted, color, isPlotted, isExpanded\n    } = this.props;\n    const expandedEntryClass = isExpanded ? 'is-expanded' : null;\n    const plottedButtonClass = isPlotted ? 'button' : 'button--alpha';\n    return (\n      <div\n        className={cx('signals-legend-entry', expandedEntryClass)}\n        onMouseEnter={() => this.props.onSignalHover(signal)}\n        onMouseLeave={() => this.props.onSignalHoverEnd(signal)}\n      >\n        <ColorBar isHighlighted={isHighlighted} rgb={color} />\n        <div className=\"signals-legend-entry-header\">\n          <div\n            className=\"signals-legend-entry-header-name\"\n            onClick={this.toggleEditing}\n          >\n            <strong>{signal.name}</strong>\n          </div>\n          <div\n            className=\"signals-legend-entry-header-action\"\n            onClick={this.toggleSignalPlot}\n          >\n            <button className={cx('button--tiny', plottedButtonClass)}>\n              {isPlotted ? 'Hide Plot' : 'Show Plot'}\n            </button>\n          </div>\n        </div>\n        <div className=\"signals-legend-entry-body\">\n          {isExpanded && (\n            <SignalForm\n              signal={signal}\n              onSignalRemove={this.props.onSignalRemove}\n              isExpanded={isExpanded}\n              getSignalEdited={this.getSignalEdited}\n              update={this.updateField}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","// SignalLegend.js\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SignalLegendEntry from './SignalLegendEntry';\n\nexport default class SignalLegend extends Component {\n  static propTypes = {\n    isLogEvent: PropTypes.bool,\n    signals: PropTypes.object,\n    signalStyles: PropTypes.object,\n    highlightedSignal: PropTypes.string,\n    onSignalHover: PropTypes.func,\n    onSignalHoverEnd: PropTypes.func,\n    onTentativeSignalChange: PropTypes.func,\n    onSignalChange: PropTypes.func,\n    onSignalRemove: PropTypes.func,\n    onSignalPlotChange: PropTypes.func,\n    plottedSignalUids: PropTypes.array,\n    selectedMessageKey: PropTypes.string\n  };\n\n  state = {\n    expandedSignals: []\n  };\n\n  toggleExpandSignal = (s) => {\n    const { expandedSignals } = this.state;\n    if (!expandedSignals.includes(s.uid)) {\n      const updatedExpandedSignals = [...expandedSignals, s.uid];\n      this.setState({ expandedSignals: updatedExpandedSignals });\n    } else {\n      const updatedExpandedSignals = expandedSignals.filter((i) => i !== s.uid);\n      this.setState({ expandedSignals: updatedExpandedSignals });\n    }\n  };\n\n  checkExpandedSignal(s) {\n    return this.state.expandedSignals.includes(s);\n  }\n\n  render() {\n    const { signals, highlightedSignal, selectedMessageKey } = this.props;\n    const signalRowsNested = Object.entries(signals)\n      .sort(([_, signal1], [__, signal2]) => {\n        if (signal1.startBit < signal2.startBit) {\n          return -1;\n        }\n        return 1;\n      })\n      .map(([signalName, signal]) => {\n        const colors = signals[signalName].getColors(selectedMessageKey);\n        const isHighlighted = highlightedSignal === signalName;\n\n        return (\n          <SignalLegendEntry\n            isLogEvent={this.props.isLogEvent}\n            key={signal.uid}\n            signal={signal}\n            isHighlighted={isHighlighted}\n            color={colors}\n            onSignalHover={this.props.onSignalHover}\n            onSignalHoverEnd={this.props.onSignalHoverEnd}\n            onTentativeSignalChange={this.props.onTentativeSignalChange}\n            onSignalChange={this.props.onSignalChange}\n            onSignalRemove={this.props.onSignalRemove}\n            onSignalPlotChange={this.props.onSignalPlotChange}\n            toggleExpandSignal={this.toggleExpandSignal}\n            isPlotted={this.props.plottedSignalUids.indexOf(signal.uid) !== -1}\n            isExpanded={this.checkExpandedSignal(signal.uid)}\n          />\n        );\n      });\n\n    const signalRows = signalRowsNested\n      .filter((row) => row != null)\n      .reduce((a, b) => a.concat(b), []);\n\n    return <div className=\"cabana-explorer-signals-legend\">{signalRows}</div>;\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCommaAccessToken = exports.logOut = exports.isAuthed = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar logOut = exports.logOut = function () {\n  var _ref = (0, _asyncToGenerator3.default)(\n  /*#__PURE__*/\n  _regenerator2.default.mark(function _callee() {\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            localStorage.removeItem('authorization');\n\n            if (!useForage) {\n              _context.next = 4;\n              break;\n            }\n\n            _context.next = 4;\n            return _localforage2.default.removeItem('authorization');\n\n          case 4:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function logOut() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getCommaAccessToken = exports.getCommaAccessToken = function () {\n  var _ref2 = (0, _asyncToGenerator3.default)(\n  /*#__PURE__*/\n  _regenerator2.default.mark(function _callee2() {\n    var token;\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            token = getTokenInternal();\n\n            if (token) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.prev = 2;\n            _context2.next = 5;\n            return _localforage2.default.getItem('authorization');\n\n          case 5:\n            token = _context2.sent;\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2['catch'](2);\n            useForage = false;\n\n          case 11:\n            if (!token) {\n              _context2.next = 16;\n              break;\n            }\n\n            exports.isAuthed = isAuthed = true;\n\n            if (!useForage) {\n              _context2.next = 16;\n              break;\n            }\n\n            _context2.next = 16;\n            return _localforage2.default.setItem('authorization', token);\n\n          case 16:\n            return _context2.abrupt('return', token);\n\n          case 17:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[2, 8]]);\n  }));\n\n  return function getCommaAccessToken() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexports.getTokenInternal = getTokenInternal;\nexports.setCommaAccessToken = setCommaAccessToken;\n\nvar _localforage = require('localforage');\n\nvar _localforage2 = _interopRequireDefault(_localforage);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar isAuthed = exports.isAuthed = false;\nvar useForage = true;\n\nfunction getTokenInternal() {\n  if (typeof localStorage !== 'undefined') {\n    if (localStorage.authorization) {\n      return localStorage.authorization;\n    }\n  }\n\n  return null;\n}\n\nfunction setCommaAccessToken(token) {\n  localStorage.setItem('authorization', token);\n  return getCommaAccessToken();\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.oauthRedirectLink = exports.OAUTH_PARAMS = exports.REDIRECT_URI = exports.GOOGLE_URL_ROOT = exports.GOOGLE_CLIENT_ID = exports.GOOGLE_AUTH_ENDPOINT = undefined;\n\nvar _document = require('global/document');\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _querystringify = require('querystringify');\n\nvar _querystringify2 = _interopRequireDefault(_querystringify);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar GOOGLE_AUTH_ENDPOINT = exports.GOOGLE_AUTH_ENDPOINT = 'https://accounts.google.com/o/oauth2/auth';\nvar GOOGLE_CLIENT_ID = exports.GOOGLE_CLIENT_ID = '45471411055-ornt4svd2miog6dnopve7qtmh5mnu6id.apps.googleusercontent.com';\nvar GOOGLE_URL_ROOT = exports.GOOGLE_URL_ROOT = 'https://www.googleapis.com/';\nvar redirectOrigin = 'http://127.0.0.1';\n\nif (_document2.default.location) {\n  redirectOrigin = _document2.default.location.origin;\n}\n\nvar REDIRECT_URI = exports.REDIRECT_URI = redirectOrigin + '/auth/g/redirect';\nvar OAUTH_PARAMS = exports.OAUTH_PARAMS = {\n  type: 'web_server',\n  client_id: GOOGLE_CLIENT_ID,\n  redirect_uri: REDIRECT_URI,\n  response_type: 'code',\n  scope: 'https://www.googleapis.com/auth/userinfo.email',\n  prompt: 'select_account'\n};\nvar oauthRedirectLink = exports.oauthRedirectLink = [GOOGLE_AUTH_ENDPOINT, _querystringify2.default.stringify(OAUTH_PARAMS)].join('?');","import randomcolor from 'randomcolor';\nimport DbcUtils from '../../utils/dbc';\n\nexport default class Signal {\n  constructor({\n    name,\n    startBit = 0,\n    size = 0,\n    isLittleEndian = true,\n    isSigned = false,\n    isFloat = false,\n    factor = 1,\n    offset = 0,\n    unit = '',\n    receiver = ['XXX'],\n    comment = null,\n    multiplex = null,\n    min = null,\n    max = null,\n    valueDescriptions = new Map()\n  }) {\n    Object.assign(this, {\n      name,\n      startBit,\n      size,\n      isLittleEndian,\n      isSigned,\n      isFloat,\n      factor,\n      offset,\n      unit,\n      receiver,\n      comment,\n      multiplex,\n      valueDescriptions\n    });\n\n    const uid = Math.random().toString(36);\n\n    if (min == null) {\n      min = this.calculateMin();\n    }\n    if (max == null) {\n      max = this.calculateMax();\n    }\n\n    const colors = this.generateColors();\n\n    Object.assign(this, {\n      min,\n      max,\n      uid,\n      _colors: colors\n    });\n\n    Object.defineProperty(this, 'colors', {\n      get() {\n        console.error('Something is still using the old colors');\n        debugger;\n        return colors;\n      },\n      enumberable: false\n    });\n  }\n\n  text() {\n    const multiplex = this.multiplex ? ` ${this.multiplex}` : '';\n    const byteOrder = this.isLittleEndian ? 1 : 0;\n    const signedChar = this.isSigned ? '-' : '+';\n\n    return (\n      `SG_ ${this.name}${multiplex} : `\n      + `${this.startBit}|${this.size}@${byteOrder}${signedChar}`\n      + ` (${this.factor},${this.offset})`\n      + ` [${this.min}|${this.max}]`\n      + ` \"${this.unit}\" ${this.receiver}`\n    );\n  }\n\n  valueDescriptionText(msgId) {\n    const entryPairs = Array.from(this.valueDescriptions.entries());\n    const values = entryPairs.reduce(\n      (str, [value, desc]) => `${str + value} \"${desc}\" `,\n      ''\n    );\n    return `VAL_ ${msgId} ${this.name} ${values};`;\n  }\n\n  lsbBitIndex() {\n    // Returns LSB bit index in matrix order (see AddSignals.js)\n\n    if (this.isLittleEndian) {\n      return this.startBit;\n    }\n    const lsbBitNumber = this.lsbBitNumber();\n\n    return DbcUtils.matrixBitNumber(lsbBitNumber);\n  }\n\n  lsbBitNumber() {\n    // Returns LSB bit number in big endian ordering\n\n    return DbcUtils.bigEndianBitIndex(this.startBit) + this.size - 1;\n  }\n\n  msbBitIndex() {\n    if (this.isLittleEndian) {\n      return this.startBit + this.size - 1;\n    }\n    return this.startBit;\n  }\n\n  littleEndianBitDescription(bitIndex) {\n    const bitRange = [this.startBit, this.startBit + this.size - 1];\n    if (bitIndex < bitRange[0] || bitIndex > bitRange[1]) {\n      return null;\n    }\n    const bitNumber = bitIndex - bitRange[0];\n    const isLsb = bitIndex === bitRange[0];\n    const isMsb = bitIndex === bitRange[1];\n    return { bitNumber, isLsb, isMsb };\n  }\n\n  bigEndianBitDescription(bitIndex) {\n    const start = DbcUtils.bigEndianBitIndex(this.startBit);\n    const range = [start, start + this.size - 1];\n    const bitNumber = DbcUtils.bigEndianBitIndex(bitIndex);\n\n    if (bitNumber < range[0] || bitNumber > range[1]) {\n      return null;\n    }\n\n    const isLsb = bitNumber === range[1];\n    const isMsb = bitIndex === this.startBit;\n    return {\n      bitNumber,\n      isLsb,\n      isMsb,\n      range\n    };\n  }\n\n  bitDescription(bitIndex) {\n    if (this.isLittleEndian) {\n      return this.littleEndianBitDescription(bitIndex);\n    }\n    return this.bigEndianBitDescription(bitIndex);\n  }\n\n  calculateRawRange() {\n    let rawRange = Math.pow(2, this.size);\n    if (this.isSigned) {\n      rawRange /= 2;\n    }\n    return [this.isSigned ? -1 * rawRange : 0, rawRange - 1];\n  }\n\n  calculateMin() {\n    const rawMin = this.calculateRawRange()[0];\n    return this.offset + rawMin * this.factor;\n  }\n\n  calculateMax() {\n    const rawMax = this.calculateRawRange()[1];\n    return this.offset + rawMax * this.factor;\n  }\n\n  getColors(messageId) {\n    let parts = messageId.split(':').map((p) => ((3 + Number.parseInt(p, 16)) * 3) % 253);\n    const colors = this._colors || this.generateColors();\n\n    let lastColor = 0;\n\n    return colors.map((c) => {\n      parts = parts.map(p => p ^ lastColor);\n      lastColor = parts.reduce((m, v) => m ^ v, c);\n      return lastColor;\n    });\n  }\n\n  generateColors() {\n    const colors = randomcolor({ format: 'rgbArray' });\n\n    return colors;\n  }\n\n  equals(otherSignal) {\n    return (\n      otherSignal.name === this.name\n      && otherSignal.startBit === this.startBit\n      && otherSignal.size === this.size\n      && otherSignal.isLittleEndian === this.isLittleEndian\n      && otherSignal.isSigned === this.isSigned\n      && otherSignal.isFloat === this.isFloat\n      && otherSignal.factor === this.factor\n      && otherSignal.offset === this.offset\n      && otherSignal.unit === this.unit\n      && otherSignal.receiver.length === this.receiver.length\n      && otherSignal.receiver.every((v, i) => v === this.receiver[i])\n      && otherSignal.comment === this.comment\n      && otherSignal.multiplex === this.multiplex\n    );\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/webusb-enable-experimental-features.e5a08e76.png\";","module.exports = __webpack_public_path__ + \"static/media/webusb-enable-webusb.aceef6a0.png\";","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.config = exports.storage = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2); // seed cache\n\n\nvar init = function () {\n  var _ref = (0, _asyncToGenerator3.default)(\n  /*#__PURE__*/\n  _regenerator2.default.mark(function _callee() {\n    var token;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return storage.getCommaAccessToken();\n\n          case 2:\n            token = _context.sent;\n            return _context.abrupt('return', token);\n\n          case 4:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function init() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar logOut = function () {\n  var _ref2 = (0, _asyncToGenerator3.default)(\n  /*#__PURE__*/\n  _regenerator2.default.mark(function _callee2() {\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return storage.logOut();\n\n          case 2:\n            _document2.default.location.href = _document2.default.location.origin;\n\n          case 3:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function logOut() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar _document = require('global/document');\n\nvar _document2 = _interopRequireDefault(_document);\n\nvar _storage = require('./storage');\n\nvar storage = _interopRequireWildcard(_storage);\n\nvar _config = require('./config');\n\nvar config = _interopRequireWildcard(_config);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.storage = storage;\nexports.config = config;\n\nfunction isAuthenticated() {\n  return storage.isAuthed;\n}\n\nexports.default = {\n  init: init,\n  logOut: logOut,\n  isAuthenticated: isAuthenticated\n};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"8af63e2502ea0541615d.worker.js\");\n};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"66fe2b555037a721fc00.worker.js\");\n};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"30ce2019260864928ff0.worker.js\");\n};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"52a5d5e4ca4389ed46cb.worker.js\");\n};","import Raven from 'raven-js';\n\nfunction init() {\n  if (process.env.NODE_ENV === 'production') {\n    const opts = {};\n\n    if (typeof __webpack_hash__ !== 'undefined') { // eslint-disable-line camelcase\n      opts.release = __webpack_hash__; // eslint-disable-line no-undef, camelcase\n    }\n\n    Raven.config(\n      'https://50006e5d91894f508dd288bbbf4585a6@sentry.io/185303',\n      opts\n    ).install();\n  }\n}\n\nexport default { init };\n","import { GITHUB_CLIENT_ID, GITHUB_REDIRECT_URL } from '../config';\nimport { objToQuery } from '../utils/url';\n\nexport function authorizeUrl(route) {\n  const params = {\n    client_id: GITHUB_CLIENT_ID,\n    redirect_uri: GITHUB_REDIRECT_URL,\n    scope: 'user:email public_repo',\n    state: JSON.stringify({ route })\n  };\n\n  return `http://github.com/login/oauth/authorize?${objToQuery(params)}`;\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class MessageBytes extends Component {\n  static propTypes = {\n    seekTime: PropTypes.number.isRequired,\n    message: PropTypes.object.isRequired,\n    seekIndex: PropTypes.number,\n    live: PropTypes.bool.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: true,\n      lastMessageIndex: 0,\n      lastSeekTime: 0\n    };\n\n    this.onVisibilityChange = this.onVisibilityChange.bind(this);\n    this.onCanvasRefAvailable = this.onCanvasRefAvailable.bind(this);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.live) {\n      const nextLastEntry = nextProps.message.entries[nextProps.message.entries.length - 1];\n      const curLastEntry = this.props.message.entries[\n        this.props.message.entries.length - 1\n      ];\n\n      return nextLastEntry.hexData !== curLastEntry.hexData;\n    }\n    return nextProps.seekTime !== this.props.seekTime;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      this.props.seekIndex !== nextProps.seekIndex\n      || frameForTime(this.props.seekTime) !== frameForTime(nextProps.seekTime)\n    ) {\n      this.updateCanvas(nextProps);\n    }\n\n    function frameForTime(t) {\n      return ~~(t * 60);\n    }\n  }\n\n  findMostRecentMessage(seekTime) {\n    const { message } = this.props;\n    const { lastMessageIndex, lastSeekTime } = this.state;\n    let mostRecentMessageIndex = null;\n    if (seekTime >= lastSeekTime) {\n      for (let i = lastMessageIndex; i < message.entries.length; ++i) {\n        const msg = message.entries[i];\n        if (msg && msg.relTime >= seekTime) {\n          mostRecentMessageIndex = i;\n          break;\n        }\n      }\n    }\n\n    if (!mostRecentMessageIndex) {\n      // TODO this can be faster with binary search, not currently a bottleneck though.\n\n      mostRecentMessageIndex = message.entries.findIndex(\n        (e) => e.relTime >= seekTime\n      );\n    }\n\n    if (mostRecentMessageIndex) {\n      this.setState({\n        lastMessageIndex: mostRecentMessageIndex,\n        lastSeekTime: seekTime\n      });\n      return message.entries[mostRecentMessageIndex];\n    }\n  }\n\n  updateCanvas(props) {\n    const { message, live, seekTime } = props;\n    if (!this.canvas || message.entries.length === 0) return;\n\n    let mostRecentMsg = message.entries[message.entries.length - 1];\n    if (!live) {\n      mostRecentMsg = this.findMostRecentMessage(seekTime);\n\n      if (!mostRecentMsg) {\n        mostRecentMsg = message.entries[0];\n      }\n    }\n\n    const ctx = this.canvas.getContext('2d');\n    // ctx.clearRect(0, 0, 180, 15);\n\n    for (let i = 0; i < message.byteStateChangeCounts.length; ++i) {\n      const hexData = mostRecentMsg.hexData.substr(i * 2, 2);\n      ctx.fillStyle = message.byteColors[i];\n\n      ctx.fillRect(i * 20, 0, 20, 15);\n\n      ctx.font = '12px Courier';\n      ctx.fillStyle = 'white';\n      if (hexData) {\n        ctx.fillText(hexData, i * 20 + 2, 12);\n      } else {\n        ctx.fillText('-', i * 20 + 7, 12);\n      }\n    }\n  }\n\n  onVisibilityChange(isVisible) {\n    if (isVisible !== this.state.isVisible) {\n      this.setState({ isVisible });\n    }\n  }\n\n  onCanvasRefAvailable(ref) {\n    if (!ref) return;\n\n    this.canvas = ref;\n    this.canvas.width = 160 * window.devicePixelRatio;\n    this.canvas.height = 15 * window.devicePixelRatio;\n    const ctx = this.canvas.getContext('2d');\n    ctx.scale(window.devicePixelRatio, window.devicePixelRatio);\n  }\n\n  render() {\n    return (\n      <canvas\n        ref={this.onCanvasRefAvailable}\n        className=\"cabana-meta-messages-list-item-bytes-canvas\"\n      />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport Clipboard from 'clipboard';\n\nimport MessageBytes from './MessageBytes';\n\nconst { ckmeans } = require('simple-statistics');\n\nexport default class Meta extends Component {\n  static propTypes = {\n    onMessageSelected: PropTypes.func,\n    onMessageUnselected: PropTypes.func,\n    dongleId: PropTypes.string,\n    name: PropTypes.string,\n    messages: PropTypes.objectOf(PropTypes.object),\n    selectedMessages: PropTypes.array,\n    onPartChanged: PropTypes.func,\n    partsCount: PropTypes.number,\n    showLoadDbc: PropTypes.func,\n    showSaveDbc: PropTypes.func,\n    dbcFilename: PropTypes.string,\n    dbcLastSaved: PropTypes.object, // moment.js object,\n    showEditMessageModal: PropTypes.func,\n    route: PropTypes.object,\n    partsLoaded: PropTypes.number,\n    currentParts: PropTypes.array,\n    seekTime: PropTypes.number,\n    loginWithGithub: PropTypes.element,\n    isDemo: PropTypes.bool,\n    live: PropTypes.bool\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.onFilterChanged = this.onFilterChanged.bind(this);\n    this.onFilterFocus = this.onFilterFocus.bind(this);\n    this.onFilterUnfocus = this.onFilterUnfocus.bind(this);\n    this.canMsgFilter = this.canMsgFilter.bind(this);\n    this.logEventMsgFilter = this.logEventMsgFilter.bind(this);\n    this.renderMessageBytes = this.renderMessageBytes.bind(this);\n    this.toggleShowLogEvents = this.toggleShowLogEvents.bind(this);\n\n    const { dbcLastSaved } = props;\n\n    this.state = {\n      filterText: 'Filter',\n      lastSaved:\n        dbcLastSaved !== null ? this.props.dbcLastSaved.fromNow() : null,\n      hoveredMessages: [],\n      orderedMessageKeys: [],\n      showLogEvents: false\n    };\n  }\n\n  componentDidMount() {\n    this.lastSavedTimer = setInterval(() => {\n      if (this.props.dbcLastSaved !== null) {\n        this.setState({ lastSaved: this.props.dbcLastSaved.fromNow() });\n      }\n    }, 30000);\n  }\n\n  componentWillUnmount() {\n    window.clearInterval(this.lastSavedTimer);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.lastSaved !== this.props.lastSaved\n      && typeof nextProps === 'object'\n    ) {\n      this.setState({ lastSaved: nextProps.dbcLastSaved.fromNow() });\n    }\n\n    const nextMsgKeys = Object.keys(nextProps.messages);\n    if (\n      JSON.stringify(nextMsgKeys)\n      !== JSON.stringify(Object.keys(this.props.messages))\n    ) {\n      const orderedMessageKeys = this.sortMessages(nextProps.messages);\n      this.setState({ hoveredMessages: [], orderedMessageKeys });\n    } else if (\n      this.state.orderedMessageKeys.length === 0\n      || (!this.props.live\n        && this.props.messages\n        && nextProps.messages\n        && this.byteCountsDidUpdate(this.props.messages, nextProps.messages))\n    ) {\n      const orderedMessageKeys = this.sortMessages(nextProps.messages);\n      this.setState({ orderedMessageKeys });\n    }\n  }\n\n  byteCountsDidUpdate(prevMessages, nextMessages) {\n    return Object.entries(nextMessages).some(\n      ([msgId, msg]) => JSON.stringify(msg.byteStateChangeCounts)\n        !== JSON.stringify(prevMessages[msgId].byteStateChangeCounts)\n    );\n  }\n\n  sortMessages(messages) {\n    // Returns list of message keys, ordered as follows:\n    // messages are binned into at most 10 bins based on entry count\n    // each bin is sorted by message CAN address\n    // then the list of bins is flattened and reversed to\n    // yield a count-descending, address-ascending order.\n\n    if (Object.keys(messages).length === 0) return [];\n    const messagesByEntryCount = Object.entries(messages).reduce(\n      (partialMapping, [msgId, msg]) => {\n        const entryCountKey = msg.entries.length.toString(); // js object keys are strings\n        if (!partialMapping[entryCountKey]) {\n          partialMapping[entryCountKey] = [msg];\n        } else {\n          partialMapping[entryCountKey].push(msg);\n        }\n        return partialMapping;\n      },\n      {}\n    );\n\n    const entryCounts = Object.keys(messagesByEntryCount).map((count) => parseInt(count, 10));\n    const binnedEntryCounts = ckmeans(\n      entryCounts,\n      Math.min(entryCounts.length, 10)\n    );\n    const sortedKeys = binnedEntryCounts\n      .map((bin) => bin\n        .map((entryCount) => messagesByEntryCount[entryCount.toString()])\n        .reduce((messages, partial) => messages.concat(partial), [])\n        .sort((msg1, msg2) => {\n          if (msg1.address < msg2.address) {\n            return 1;\n          }\n          return -1;\n        })\n        .map((msg) => msg.id))\n      .reduce((keys, bin) => keys.concat(bin), [])\n      .reverse();\n\n    return sortedKeys;\n  }\n\n  toggleShowLogEvents() {\n    this.setState({\n      showLogEvents: !this.state.showLogEvents\n    });\n  }\n\n  onFilterChanged(e) {\n    let val = e.target.value;\n    if (val.trim() === 'Filter') val = '';\n\n    this.setState({ filterText: val });\n  }\n\n  onFilterFocus(e) {\n    if (this.state.filterText.trim() === 'Filter') {\n      this.setState({ filterText: '' });\n    }\n  }\n\n  onFilterUnfocus(e) {\n    if (this.state.filterText.trim() === '') {\n      this.setState({ filterText: 'Filter' });\n    }\n  }\n\n  canMsgFilter(msg) {\n    if (msg.isLogEvent) {\n      return;\n    }\n    const { filterText } = this.state;\n    const msgName = msg.frame ? msg.frame.name : '';\n\n    return (\n      filterText === 'Filter'\n      || filterText === ''\n      || msg.id.toLowerCase().indexOf(filterText.toLowerCase()) !== -1\n      || msgName.toLowerCase().indexOf(filterText.toLowerCase()) !== -1\n    );\n  }\n\n  logEventMsgFilter(msg) {\n    if (!msg.isLogEvent) {\n      return;\n    }\n    const { filterText } = this.state;\n    const msgName = msg.frame ? msg.frame.name : '';\n\n    return (\n      filterText === 'Filter'\n      || filterText === ''\n      || msg.id.toLowerCase().indexOf(filterText.toLowerCase()) !== -1\n      || msgName.toLowerCase().indexOf(filterText.toLowerCase()) !== -1\n    );\n  }\n\n  lastSavedPretty() {\n    const { dbcLastSaved } = this.props;\n    return dbcLastSaved.fromNow();\n  }\n\n  onMessageHover(key) {\n    const { hoveredMessages } = this.state;\n    if (hoveredMessages.indexOf(key) !== -1) return;\n\n    hoveredMessages.push(key);\n    this.setState({ hoveredMessages });\n  }\n\n  onMessageHoverEnd(key) {\n    let { hoveredMessages } = this.state;\n    hoveredMessages = hoveredMessages.filter((m) => m !== key);\n    this.setState({ hoveredMessages });\n  }\n\n  onMsgRemoveClick(key) {\n    let { selectedMessages } = this.state;\n    selectedMessages = selectedMessages.filter((m) => m !== key);\n    this.props.onMessageUnselected(key);\n    this.setState({ selectedMessages });\n  }\n\n  onMessageSelected(key) {\n    // uncomment when we support multiple messages\n    // const selectedMessages = this.state.selectedMessages.filter((m) => m !== key);\n    const selectedMessages = [];\n    selectedMessages.push(key);\n    this.props.updateSelectedMessages(selectedMessages);\n    this.props.onMessageSelected(key);\n  }\n\n  orderedMessages() {\n    const { orderedMessageKeys } = this.state;\n    const { messages } = this.props;\n    return orderedMessageKeys.map((key) => messages[key]);\n  }\n\n  selectedMessageClass(messageId) {\n    return this.props.selectedMessages.includes(messageId)\n      ? 'is-selected'\n      : null;\n  }\n\n  renderMessageBytes(msg) {\n    return (\n      <tr\n        onClick={() => {\n          this.onMessageSelected(msg.id);\n        }}\n        key={msg.id}\n        className={cx(\n          'cabana-meta-messages-list-item',\n          this.selectedMessageClass(msg.id)\n        )}\n      >\n        {msg.isLogEvent ? (\n          <td colSpan=\"2\">{msg.id}</td>\n        ) : (\n          <>\n            <td>{msg.frame ? msg.frame.name : 'untitled'}</td>\n            <td>{msg.id}</td>\n          </>\n        )}\n        <td>{msg.entries.length}</td>\n        <td>\n          <div className=\"cabana-meta-messages-list-item-bytes\">\n            <MessageBytes\n              key={msg.id}\n              message={msg}\n              seekIndex={this.props.seekIndex}\n              seekTime={this.props.seekTime}\n              live={this.props.live}\n            />\n          </div>\n        </td>\n      </tr>\n    );\n  }\n\n  renderCanMessages() {\n    return this.orderedMessages()\n      .filter(this.canMsgFilter)\n      .map(this.renderMessageBytes);\n  }\n\n  renderLogEventMessages() {\n    return this.orderedMessages()\n      .filter(this.logEventMsgFilter)\n      .map(this.renderMessageBytes);\n  }\n\n  renderAvailableMessagesList() {\n    if (Object.keys(this.props.messages).length === 0) {\n      return <p>Loading messages...</p>;\n    }\n    return (\n      <>\n        <table cellPadding=\"5\">\n          {this.state.showLogEvents && (\n            <>\n              <thead>\n                <tr>\n                  <td colSpan=\"2\">Name</td>\n                  <td>Count</td>\n                  <td>Bytes</td>\n                </tr>\n              </thead>\n              <tbody>\n                {this.renderLogEventMessages()}\n                <tr>\n                  <td colSpan=\"4\">\n                    <hr />\n                  </td>\n                </tr>\n              </tbody>\n            </>\n          )}\n          <thead>\n            <tr>\n              <td>Name</td>\n              <td>ID</td>\n              <td>Count</td>\n              <td>Bytes</td>\n            </tr>\n          </thead>\n          <tbody>{this.renderCanMessages()}</tbody>\n        </table>\n      </>\n    );\n  }\n\n  saveable() {\n    try {\n      // eslint-disable-next-line\n      \"serviceWorker\" in navigator &&\n        !!new ReadableStream()\n        && !!new WritableStream(); // eslint-disable-line no-undef\n      return 'saveable';\n    } catch (e) {\n      return false;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"cabana-meta\">\n        <div className=\"cabana-meta-header\">\n          <h5 className=\"cabana-meta-header-label t-capline\">\n            Currently editing:\n          </h5>\n          <strong className=\"cabana-meta-header-filename\">\n            {this.props.dbcFilename}\n          </strong>\n          {this.props.dbcLastSaved !== null ? (\n            <div className=\"cabana-meta-header-last-saved\">\n              <p>\n                Last saved:\n                {this.lastSavedPretty()}\n              </p>\n            </div>\n          ) : null}\n          <div className={`cabana-meta-header-actions ${this.saveable()}`}>\n            <div className=\"cabana-meta-header-action\">\n              <button onClick={this.props.showLoadDbc}>Load DBC</button>\n            </div>\n            {this.saveable() && (\n              <div className=\"cabana-meta-header-action\">\n                <button onClick={this.props.saveLog}>Save Log</button>\n              </div>\n            )}\n            {this.props.shareUrl ? (\n              <div\n                className=\"cabana-meta-header-action special-wide\"\n                data-clipboard-text={this.props.shareUrl}\n                data-clipboard-action=\"copy\"\n                ref={(ref) => (ref ? new Clipboard(ref) : null)}\n              >\n                <a\n                  className=\"button\"\n                  href={this.props.shareUrl}\n                  onClick={(e) => e.preventDefault()}\n                >\n                  Copy Share Link\n                </a>\n              </div>\n            ) : null}\n            <div className=\"cabana-meta-header-action\">\n              <button onClick={this.props.showSaveDbc}>Save DBC</button>\n            </div>\n          </div>\n        </div>\n        <div className=\"cabana-meta-messages\">\n          <div className=\"cabana-meta-messages-header\">\n            <div\n              style={{\n                display: 'inline-block',\n                float: 'right'\n              }}\n            >\n              <h5 className=\"t-capline\">\n                Show log events\n                <input\n                  type=\"checkbox\"\n                  onChange={this.toggleShowLogEvents}\n                  checked={!!this.state.showLogEvents}\n                />\n              </h5>\n            </div>\n            <h5 className=\"t-capline\">Available messages</h5>\n          </div>\n          <div className=\"cabana-meta-messages-window\">\n            <div className=\"cabana-meta-messages-filter\">\n              <div className=\"form-field form-field--small\">\n                <input\n                  type=\"text\"\n                  value={this.state.filterText}\n                  onFocus={this.onFilterFocus}\n                  onBlur={this.onFilterUnfocus}\n                  onChange={this.onFilterChanged}\n                />\n              </div>\n            </div>\n            <div className=\"cabana-meta-messages-list\">\n              {this.renderAvailableMessagesList()}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","function elementWiseEquals(arr1, arr2) {\n  return (\n    arr1.length === arr2.length && arr1.every((ele, idx) => arr2[idx] === ele)\n  );\n}\n\nfunction findIndexRight(arr, condition) {\n  for (let i = arr.length - 1; i >= 0; i--) {\n    if (condition(arr[i])) {\n      return i;\n    }\n  }\n}\n\nexport default { elementWiseEquals, findIndexRight };\n","import ArrayUtils from '../utils/array';\nimport { CAN_GRAPH_MAX_POINTS } from '../config';\n\nfunction signalColors(signal, msg) {\n  return signal.colors.map((v) => (v ^ msg.address) ^ msg.bus);\n}\n\nfunction _calcGraphData(msg, signalUid, firstCanTime) {\n  if (!msg) return null;\n\n  const signal = Object.values(msg.frame.signals).find(\n    (s) => s.uid === signalUid\n  );\n  if (!signal) {\n    console.warn('_calcGraphData: no signal', signalUid, msg);\n    return null;\n  }\n  let samples = [];\n  const skip = Math.floor(msg.entries.length / CAN_GRAPH_MAX_POINTS);\n\n  if (skip === 0) {\n    samples = msg.entries;\n  } else {\n    for (let i = 0; i < msg.entries.length; i += skip) {\n      samples.push(msg.entries[i]);\n    }\n    // Always include last message entry, which faciliates graphData comparison\n    samples.push(msg.entries[msg.entries.length - 1]);\n  }\n  if (!samples.length) {\n    return [];\n  }\n\n  const colors = signal.getColors(msg.id);\n  signalUid = msg.id + signalUid;\n  // sorting these doesn't fix the phantom lines\n  let lastEntry = samples[0].relTime;\n  return samples\n    .filter((e) => e.signals[signal.name] !== undefined)\n    .map((entry) => {\n      if (entry.relTime < lastEntry) {\n        console.log(msg);\n        console.error('Found out of order messages');\n        debugger;\n      }\n      if (entry.relTime - lastEntry > 2) {\n        signalUid = Math.random().toString(36);\n      }\n      lastEntry = entry.relTime;\n      // console.log(entry.relTime - lastEntry);\n      return {\n        x: entry.time,\n        relTime: entry.relTime,\n        y: entry.signals[signal.name],\n        unit: signal.unit,\n        color: `rgba(${colors.join(',')}, 0.5)`,\n        signalName: signal.name,\n        signalUid\n      };\n    });\n}\n\nfunction appendNewGraphData(plottedSignals, graphData, messages, firstCanTime) {\n  const messagesPerPlot = plottedSignals.map((plottedMessages) => plottedMessages.reduce((messages, { messageId, signalUid }) => {\n    messages.push(messageId);\n    return messages;\n  }, []));\n\n  const extendedPlots = messagesPerPlot\n    .map((plottedMessageIds, index) => ({ plottedMessageIds, index })) // preserve index so we can look up graphData\n    .filter(({ plottedMessageIds, index }) => {\n      if (index < graphData.length) {\n        let maxGraphTime = 0;\n        const { series } = graphData[index];\n        if (series.length > 0) {\n          maxGraphTime = series[graphData[index].series.length - 1].relTime;\n        }\n\n        return plottedMessageIds.some(\n          (messageId) => (messages[messageId].entries.length > 0 && series.length === 0)\n            || messages[messageId].entries.some((e) => e.relTime > maxGraphTime)\n        );\n      }\n      return false;\n    })\n    .map(({ plottedMessageIds, index }) => {\n      plottedMessageIds = plottedMessageIds.reduce((arr, messageId) => {\n        if (arr.indexOf(messageId) === -1) {\n          arr.push(messageId);\n        }\n        return arr;\n      }, []);\n      return { plottedMessageIds, index };\n    });\n\n  extendedPlots.forEach(({ plottedMessageIds, index }) => {\n    const signalUidsByMessageId = plottedSignals[index].reduce(\n      (obj, { messageId, signalUid }) => {\n        if (!obj[messageId]) {\n          obj[messageId] = [];\n        }\n        obj[messageId].push(signalUid);\n        return obj;\n      },\n      {}\n    );\n    const { series } = graphData[index];\n    const graphDataMaxMessageTimes = plottedMessageIds.reduce(\n      (obj, messageId) => {\n        const signalUids = signalUidsByMessageId[messageId];\n        const maxIndex = ArrayUtils.findIndexRight(\n          series,\n          (entry) => signalUids.indexOf(entry.signalUid) !== -1\n        );\n        if (maxIndex) {\n          obj[messageId] = series[maxIndex].relTime;\n        } else if (series.length > 0) {\n          obj[messageId] = series[series.length - 1].relTime;\n        } else {\n          // Graph data is empty\n          obj[messageId] = -1;\n        }\n\n        return obj;\n      },\n      {}\n    );\n\n    let newGraphData = [];\n    plottedMessageIds\n      .map((messageId) => ({ messageId, entries: messages[messageId].entries }))\n      .filter(\n        (\n          { messageId, entries } // Filter to only messages with stale graphData\n        ) => entries[entries.length - 1].relTime\n          > graphDataMaxMessageTimes[messageId]\n      )\n      .forEach(({ messageId, entries }) => {\n        // Compute and append new graphData\n        const firstNewEntryIdx = entries.findIndex(\n          (entry) => entry.relTime > graphDataMaxMessageTimes[messageId]\n        );\n\n        const newEntries = entries.slice(firstNewEntryIdx);\n        signalUidsByMessageId[messageId].forEach((signalUid) => {\n          const signalGraphData = _calcGraphData(\n            {\n              ...messages[messageId],\n              entries: newEntries\n            },\n            signalUid,\n            firstCanTime\n          );\n\n          newGraphData = newGraphData.concat(signalGraphData);\n        });\n      });\n\n    const messageIdOutOfBounds = series.length > 0\n      && plottedMessageIds.find(\n        (messageId) => messages[messageId].entries.length > 0\n          && series[0].relTime < messages[messageId].entries[0].relTime\n      );\n    graphData[index] = {\n      series: graphData[index].series.concat(newGraphData),\n      updated: Date.now()\n    };\n\n    if (messageIdOutOfBounds) {\n      const graphDataLowerBound = graphData[index].series.findIndex(\n        (e) => e.relTime > messages[messageIdOutOfBounds].entries[0].relTime\n      );\n\n      if (graphDataLowerBound) {\n        graphData[index].series = graphData[index].series.slice(\n          graphDataLowerBound\n        );\n      }\n    }\n  });\n\n  return [...graphData];\n}\n\nexport default { _calcGraphData, appendNewGraphData, signalColors };\n","export default {\n  \"$schema\": \"https://vega.github.io/schema/vega/v5.json\",\n  \"width\": 400,\n  \"height\": 200,\n  \"padding\": {\n    \"top\": 5,\n    \"left\": 30,\n    \"right\": 5,\n    \"bottom\": 10\n  },\n  \"data\": [\n    {\n      \"name\": \"table\"\n    },\n    {\n      \"name\": \"segment\"\n    },\n    {\n      \"name\": \"tooltip\",\n      \"source\": \"table\",\n      \"transform\": [\n        {\n          \"type\": \"filter\",\n          \"expr\": \"abs(datum.relTime - tipTime) <= 0.05\"\n        },\n        {\n          \"type\": \"aggregate\",\n          \"groupby\": [\"color\"],\n          \"fields\": [\n            \"relTime\",\n            \"y\",\n            \"unit\"\n          ],\n          \"ops\": [\n            \"min\",\n            \"argmin\",\n            \"argmin\"\n          ],\n          \"as\": [\n            \"min\",\n            \"argmin\",\n            \"argmin\"\n          ]\n        }\n      ]\n    },\n    {\n      \"name\": \"ySegmentScale\",\n      \"source\": \"table\",\n      \"transform\": [\n        {\n          \"type\": \"filter\",\n          \"expr\": \"length(segment) != 2 || (datum.relTime >= segment[0] && datum.relTime <= segment[1])\"\n        },\n        {\n          \"type\": \"extent\",\n          \"field\": \"y\",\n          \"signal\": \"ySegment\"\n        }\n      ]\n    }\n  ],\n\n  \"scales\": [\n    {\n      \"name\": \"xscale\",\n      \"type\": \"linear\",\n      \"range\": \"width\",\n      \"domain\": {\n        \"data\": \"table\",\n        \"field\": \"x\"\n      },\n      \"zero\": false\n    },\n    {\n      \"name\": \"xrelscale\",\n      \"type\": \"linear\",\n      \"range\": \"width\",\n      \"domain\": {\n        \"data\": \"table\",\n        \"field\": \"relTime\"\n      },\n      \"zero\": false,\n      \"clamp\": true,\n      \"nice\": true,\n      \"domainRaw\": {\n        \"signal\": \"segment\"\n      }\n    },\n    {\n      \"name\": \"yscale\",\n      \"type\": \"linear\",\n      \"range\": \"height\",\n      \"clamp\": true,\n      \"zero\": false,\n      \"nice\": true,\n      \"domain\": {\n        \"signal\": \"ySegment\"\n      }\n    },\n    {\n      \"name\": \"color\",\n      \"type\": \"ordinal\",\n      \"domain\": {\n        \"data\": \"table\",\n        \"field\": \"color\"\n      },\n      \"range\": {\n        \"data\": \"table\",\n        \"field\": \"color\"\n      }\n    }\n  ],\n\n\n  \"axes\": [\n    {\n      \"orient\": \"bottom\",\n      \"scale\": \"xrelscale\",\n      \"labelOverlap\": true\n    },\n    {\n      \"orient\": \"left\",\n      \"scale\": \"yscale\"\n    }\n  ],\n\n  \"signals\": [\n    {\n      \"name\": \"tipTime\",\n      \"on\": [\n        {\n          \"events\": \"mousemove\",\n          \"update\": \"invert('xrelscale', x())\"\n        },\n        {\n          \"events\": \"mouseout\",\n          \"update\": \"null\"\n        }\n      ]\n    },\n    {\n      \"name\": \"clickTime\",\n      \"on\": [\n        {\n          \"events\": \"click\",\n          \"update\": \"invert('xrelscale', x())\"\n        }\n      ]\n    },\n    {\n      \"name\": \"videoTime\"\n    },\n    {\n      \"name\": \"segment\",\n      \"value\": {\n        \"data\": \"table\",\n        \"field\": \"relTime\"\n      }\n    }\n  ],\n\n  \"marks\": [\n    {\n      \"type\": \"group\",\n      \"name\": \"plot\",\n      \"interactive\": true,\n      \"encode\": {\n        \"enter\": {\n          \"width\": {\n            \"signal\": \"width\"\n          },\n          \"height\": {\n            \"signal\": \"height\"\n          },\n          \"fill\": {\n            \"value\": \"transparent\"\n          }\n        }\n      },\n      \"signals\": [\n        {\n          \"name\": \"brush\",\n          \"value\": 0,\n          \"on\": [\n            {\n              \"events\": \"@boundingRect:mousedown\",\n              \"update\": \"[x(), x()]\"\n            },\n            {\n              \"events\": \"[@boundingRect:mousedown, window:mouseup] > window:mousemove!\",\n              \"update\": \"[brush[0], clamp(x(), 0, width)]\"\n            },\n            {\n              \"events\": {\n                \"signal\": \"delta\"\n              },\n              \"update\": \"clampRange([anchor[0] + delta, anchor[1] + delta], 0, width)\"\n            }\n          ]\n        },\n        {\n          \"name\": \"anchor\",\n          \"value\": null,\n          \"on\": [\n            {\n              \"events\": \"@brush:mousedown\",\n              \"update\": \"slice(brush)\"\n            }\n          ]\n        },\n        {\n          \"name\": \"xdown\",\n          \"value\": 0,\n          \"on\": [\n            {\n              \"events\": \"@brush:mousedown\",\n              \"update\": \"x()\"\n            }\n          ]\n        },\n        {\n          \"name\": \"xup\",\n          \"value\": 0,\n          \"on\": [\n            {\n              \"events\": \"@brush:mouseup\",\n              \"update\": \"x()\"\n            }\n          ]\n        },\n        {\n          \"name\": \"delta\",\n          \"value\": 0,\n          \"on\": [\n            {\n              \"events\": \"[@brush:mousedown, window:mouseup] > window:mousemove!\",\n              \"update\": \"x() - xdown\"\n            }\n          ]\n        },\n        {\n          \"name\": \"segment\",\n          \"push\": \"outer\",\n          \"on\": [\n            {\n              \"events\": \"window:mouseup\",\n              \"update\": \"span(brush) && span(brush) > 15 ? invert('xrelscale', brush) : segment\"\n            }\n          ]\n        }\n      ],\n      \"marks\": [\n        {\n          \"type\": \"group\",\n          \"from\": {\n            \"facet\": {\n              \"name\": \"series\",\n              \"data\": \"table\",\n              \"groupby\": \"signalUid\"\n            }\n          },\n          \"marks\": [{\n            \"type\": \"line\",\n            \"name\": \"lineMark\",\n            \"from\": {\n              \"data\": \"series\"\n            },\n            \"interactive\": true,\n            \"encode\": {\n              \"update\": {\n                \"value\": \"natural\",\n                \"tension\": 0,\n                \"x\": {\n                  \"scale\": \"xrelscale\",\n                  \"field\": \"relTime\"\n                },\n                \"y\": {\n                  \"scale\": \"yscale\",\n                  \"field\": \"y\"\n                },\n                \"detail\": {\n                  \"field\": \"signalUid\"\n                }\n              },\n              \"hover\": {\n                \"fillOpacity\": {\n                  \"value\": 0.5\n                }\n              },\n              \"enter\": {\n                \"clip\": {\n                  \"value\": true\n                },\n                \"stroke\": {\n                  \"scale\": \"color\",\n                  \"field\": \"color\"\n                },\n                \"strokeWidth\": {\n                  \"value\": 2\n                }\n              }\n            }\n          }]\n        },\n        {\n          \"type\": \"rect\",\n          \"interactive\": true,\n          \"name\": \"brush\",\n          \"encode\": {\n            \"enter\": {\n              \"y\": {\n                \"value\": 0\n              },\n              \"height\": {\n                \"signal\": \"height\"\n              },\n              \"fill\": {\n                \"value\": \"#333\"\n              },\n              \"fillOpacity\": {\n                \"value\": 0.2\n              }\n            },\n            \"update\": {\n              \"x\": {\n                \"signal\": \"brush[0]\"\n              },\n              \"x2\": {\n                \"signal\": \"brush[1]\"\n              }\n            }\n          }\n        },\n        {\n          \"type\": \"rule\",\n          \"encode\": {\n            \"update\": {\n              \"y\": {\n                \"value\": 0\n              },\n              \"y2\": {\n                \"field\": {\n                  \"group\": \"height\"\n                }\n              },\n              \"stroke\": {\n                \"value\": \"#000\"\n              },\n              \"strokeWidth\": {\n                \"value\": 2\n              },\n              \"x\": {\n                \"scale\": \"xrelscale\",\n                \"signal\": \"videoTime\",\n                \"offset\": 0.5\n              }\n            }\n          }\n        },\n        {\n          \"type\": \"symbol\",\n          \"from\": {\n            \"data\": \"tooltip\"\n          },\n          \"encode\": {\n            \"update\": {\n              \"x\": {\n                \"scale\": \"xrelscale\",\n                \"field\": \"argmin.relTime\"\n              },\n              \"y\": {\n                \"scale\": \"yscale\",\n                \"field\": \"argmin.y\"\n              },\n              \"size\": {\n                \"value\": 50\n              },\n              \"fill\": {\n                \"value\": \"black\"\n              }\n            }\n          }\n        },\n        {\n          \"type\": \"group\",\n          \"from\": {\n            \"data\": \"tooltip\"\n          },\n          \"interactive\": false,\n          \"name\": \"tooltipGroup\",\n          \"encode\": {\n            \"update\": {\n              \"x\": [\n                {\n                  \"test\": \"inrange(datum.argmin.relTime + 80, domain('xrelscale'))\",\n                  \"scale\": \"xrelscale\",\n                  \"field\": \"argmin.relTime\"\n                },\n                {\n                  \"scale\": \"xrelscale\",\n                  \"field\": \"argmin.relTime\",\n                  \"offset\": -80\n                }\n              ],\n              \"y\": {\n                \"scale\": \"yscale\",\n                \"field\": \"argmin.y\"\n              },\n              \"height\": {\n                \"value\": 20\n              },\n              \"width\": {\n                \"value\": 80\n              },\n              \"fill\": {\n                \"value\": \"#fff\"\n              },\n              \"fillOpacity\": {\n                \"value\": 0.85\n              },\n              \"stroke\": {\n                \"value\": \"#aaa\"\n              },\n              \"strokeWidth\": {\n                \"value\": 0.5\n              }\n            }\n          },\n          \"marks\": [\n            {\n              \"type\": \"text\",\n              \"interactive\": false,\n              \"encode\": {\n                \"update\": {\n                  \"text\": {\n                    \"signal\": \"format(parent.argmin.relTime, ',.2f') + ': ' + format(parent.argmin.y, ',.2f') + ' ' + parent.argmin.unit\"\n                  },\n                  \"fill\": {\n                    \"value\": \"black\"\n                  },\n                  \"fontWeight\": {\n                    \"value\": \"bold\"\n                  },\n                  \"y\": {\n                    \"value\": 20\n                  }\n                }\n              }\n            }\n          ]\n        },\n        {\n          \"type\": \"rect\",\n          \"name\": \"boundingRect\",\n          \"interactive\": true,\n          \"encode\": {\n            \"enter\": {\n              \"width\": {\n                \"signal\": \"width\"\n              },\n              \"height\": {\n                \"signal\": \"height\"\n              },\n              \"fill\": {\n                \"value\": \"transparent\"\n              }\n            }\n          }\n        }\n      ]\n    }\n  ]\n};\n","export default function debounce(func, wait, immediate) {\n  let timeout;\n  return function () {\n    const context = this;\n    const args = arguments;\n    const later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n","import React, { Component } from 'react';\nimport Measure from 'react-measure';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { Vega } from 'react-vega';\n\nimport Signal from '../models/can/signal';\nimport GraphData from '../models/graph-data';\nimport CanPlotSpec from '../vega/CanPlot';\nimport debounce from '../utils/debounce';\n\nconst DefaultPlotInnerStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0\n};\n\nexport default class CanGraph extends Component {\n  static emptyTable = [];\n\n  static propTypes = {\n    plottedSignal: PropTypes.string,\n    messages: PropTypes.object,\n    messageId: PropTypes.string,\n    messageName: PropTypes.string,\n    signalSpec: PropTypes.instanceOf(Signal),\n    segment: PropTypes.array,\n    unplot: PropTypes.func,\n    onRelativeTimeClick: PropTypes.func,\n    currentTime: PropTypes.number,\n    onSegmentChanged: PropTypes.func,\n    onDragStart: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    container: PropTypes.node,\n    dragPos: PropTypes.object,\n    canReceiveGraphDrop: PropTypes.bool,\n    onGraphRefAvailable: PropTypes.func,\n    plottedSignals: PropTypes.array\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      plotInnerStyle: null,\n      shiftX: 0,\n      shiftY: 0,\n      bounds: null,\n      isDataInserted: false,\n      data: this.getGraphData(props),\n      spec: this.getGraphSpec(props)\n    };\n    this.onNewView = this.onNewView.bind(this);\n    this.onSignalClickTime = this.onSignalClickTime.bind(this);\n    this.onSignalSegment = this.onSignalSegment.bind(this);\n    this.onDragAnchorMouseDown = this.onDragAnchorMouseDown.bind(this);\n    this.onDragAnchorMouseUp = this.onDragAnchorMouseUp.bind(this);\n    this.onDragStart = this.onDragStart.bind(this);\n    this.onPlotResize = this.onPlotResize.bind(this);\n    this.insertData = this.insertData.bind(this);\n  }\n\n  getGraphData(props) {\n    let firstRelTime = -1;\n    let lastRelTime = -1;\n    const series = props.plottedSignals\n      .map((signals) => {\n        const { messageId, signalUid } = signals;\n        const { entries } = props.messages[messageId];\n        if (entries.length) {\n          let messageRelTime = entries[0].relTime;\n          if (firstRelTime === -1) {\n            firstRelTime = messageRelTime;\n          } else {\n            firstRelTime = Math.min(firstRelTime, messageRelTime);\n          }\n          messageRelTime = entries[entries.length - 1].relTime;\n          lastRelTime = Math.max(lastRelTime, messageRelTime);\n        }\n        return GraphData._calcGraphData(\n          props.messages[messageId],\n          signalUid,\n          0\n        );\n      })\n      .reduce((m, v) => m.concat(v), []);\n\n    return {\n      updated: Date.now(),\n      series,\n      firstRelTime,\n      lastRelTime\n    };\n  }\n\n  getGraphSpec(props) {\n    return {\n      ...CanPlotSpec,\n      scales: [\n        {\n          ...CanPlotSpec.scales[0],\n          domainMin: props.segment[0],\n          domainMax: props.segment[1]\n        },\n        ...CanPlotSpec.scales.slice(1)\n      ]\n    };\n  }\n\n  segmentIsNew(newSegment) {\n    return (\n      newSegment.length !== this.props.segment.length\n      || !newSegment.every((val, idx) => this.props.segment[idx] === val)\n    );\n  }\n\n  visualChanged(prevProps, nextProps) {\n    return (\n      prevProps.canReceiveGraphDrop !== nextProps.canReceiveGraphDrop\n      || JSON.stringify(prevProps.dragPos) !== JSON.stringify(nextProps.dragPos)\n    );\n  }\n\n  onPlotResize(options) {\n    if (!this.view) {\n      return;\n    }\n\n    let bounds = null;\n    if (options && options.bounds) {\n      this.setState({ bounds: options.bounds });\n      bounds = options.bounds;\n    } else {\n      bounds = this.state.bounds;\n    }\n\n    this.view.runAfter(this.updateBounds);\n  }\n\n  updateBounds = debounce(() => {\n    this.view.signal('width', this.state.bounds.width - 70);\n    this.view.signal('height', 0.4 * (this.state.bounds.width - 70)); // 5:2 aspect ratio\n    this.view.run();\n  }, 100);\n\n  insertData = debounce(() => {\n    if (!this.view) {\n      console.log('Cannot insertData');\n      return;\n    }\n\n    // adding plot points by diff isn't faster since it basically has to be n^2\n    // out-of-order events make it so that you can't just check the bounds\n    const { series } = this.state.data;\n    const changeset = this.view\n      .changeset()\n      .remove((v) => true)\n      .insert(series);\n    this.view.change('table', changeset);\n    this.view.run();\n  }, 250);\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.dragPos\n      && JSON.stringify(nextProps.dragPos) !== JSON.stringify(this.props.dragPos)\n    ) {\n      this.updateStyleFromDragPos(nextProps.dragPos);\n    } else if (!nextProps.dragPos && this.state.plotInnerStyle !== null) {\n      this.setState({ plotInnerStyle: null });\n    }\n    if (\n      this.props.messages !== nextProps.messages\n      || this.props.plottedSignal !== nextProps.plottedSignal\n    ) {\n      console.log('Calculating new data!');\n      const data = this.getGraphData(nextProps);\n      // if (\n      //   data.series.length === this.state.data.series.length\n      //   && data.firstRelTime === this.state.data.firstRelTime\n      //   && data.lastRelTime === this.state.data.lastRelTime\n      //   && JSON.stringify(nextProps.signalSpec) === JSON.stringify(this.props.signalSpec)\n      // ) {\n      //   // do nothing, the data didn't *actually* change\n      // } else {\n      console.log('Inserting new data!');\n      this.setState({ data });\n      // }\n    }\n    if (this.segmentIsNew(nextProps.segment)) {\n      this.setState({ spec: this.getGraphSpec(nextProps) });\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (!this.view) {\n      return true;\n    }\n    if (this.state.spec !== nextState.spec) {\n      return true;\n    }\n    if (this.state.data !== nextState.data) {\n      this.insertData();\n    }\n    if (this.props.currentTime !== nextProps.currentTime) {\n      this.view.signal('videoTime', nextProps.currentTime);\n    }\n    if (this.segmentIsNew(nextProps.segment)) {\n      if (nextProps.segment.length > 0) {\n        // Set segmented domain\n        this.view.signal('segment', nextProps.segment);\n      } else {\n        // Reset segment to full domain\n        this.view.signal('segment', 0);\n      }\n    }\n    this.view.runAsync();\n    return false;\n  }\n\n  componentDidUpdate(oldProps, oldState) {\n    if (this.view) {\n      if (this.props.segment.length > 0) {\n        // Set segmented domain\n        this.view.signal('segment', this.props.segment);\n      } else {\n        // Reset segment to full domain\n        this.view.signal('segment', 0);\n      }\n      this.view.signal('videoTime', this.props.currentTime);\n      this.view.runAsync();\n    }\n  }\n\n  updateStyleFromDragPos({ left, top }) {\n    const plotInnerStyle = { ...this.state.plotInnerStyle };\n    plotInnerStyle.left = left;\n    plotInnerStyle.top = top;\n    this.setState({ plotInnerStyle });\n  }\n\n  onNewView(view) {\n    this.view = view;\n\n    if (this.state.bounds) {\n      this.onPlotResize();\n    }\n    if (this.props.segment.length > 0) {\n      view.signal('segment', this.props.segment);\n    }\n    view.signal('videoTime', this.props.currentTime);\n\n    this.insertData();\n  }\n\n  onSignalClickTime(signal, clickTime) {\n    // console.log('onSignalClickTime', signal, clickTime);\n    if (clickTime !== undefined) {\n      this.props.onRelativeTimeClick(this.props.messageId, clickTime);\n    }\n  }\n\n  onSignalSegment(signal, segment) {\n    // console.log('onSignalSegment', signal, segment);\n    if (!Array.isArray(segment)) {\n      return;\n    }\n\n    this.props.onSegmentChanged(this.props.messageId, segment);\n\n    if (!this.view) {\n      return;\n    }\n\n    this.view.runAfter(() => {\n      const state = this.view.getState();\n      state.subcontext[0].signals.brush = 0;\n      this.view.setState(state);\n      this.insertData();\n    });\n  }\n\n  plotInnerStyleFromMouseEvent(e) {\n    const { shiftX, shiftY } = this.state;\n    const plotInnerStyle = { ...DefaultPlotInnerStyle };\n    const rect = this.props.container.getBoundingClientRect();\n\n    const x = e.clientX - rect.left - shiftX;\n    const y = e.clientY - rect.top - shiftY;\n    plotInnerStyle.left = x;\n    plotInnerStyle.top = y;\n    return plotInnerStyle;\n  }\n\n  onDragAnchorMouseDown(e) {\n    e.persist();\n    const shiftX = e.clientX - e.target.getBoundingClientRect().left;\n    const shiftY = e.clientY - e.target.getBoundingClientRect().top;\n    this.setState({ shiftX, shiftY }, () => {\n      this.setState({ plotInnerStyle: this.plotInnerStyleFromMouseEvent(e) });\n    });\n    this.props.onDragStart(\n      this.props.messageId,\n      this.props.signalSpec.uid,\n      shiftX,\n      shiftY\n    );\n  }\n\n  onDragAnchorMouseUp(e) {\n    this.props.onDragEnd();\n    this.setState({\n      plotInnerStyle: null,\n      shiftX: 0,\n      shiftY: 0\n    });\n  }\n\n  onDragStart(e) {\n    e.preventDefault();\n    return false;\n  }\n\n  render() {\n    const { plotInnerStyle } = this.state;\n    const canReceiveDropClass = this.props.canReceiveGraphDrop\n      ? 'is-droppable'\n      : null;\n\n    return (\n      <div\n        className=\"cabana-explorer-visuals-plot\"\n        ref={this.props.onGraphRefAvailable}\n      >\n        <div\n          className={cx(\n            'cabana-explorer-visuals-plot-inner',\n            canReceiveDropClass\n          )}\n          style={plotInnerStyle || null}\n        >\n          <div\n            className=\"cabana-explorer-visuals-plot-draganchor\"\n            onMouseDown={this.onDragAnchorMouseDown}\n          >\n            <span className=\"fa fa-bars\" />\n          </div>\n          {this.props.plottedSignals.map(\n            ({ messageId, signalUid, messageName }) => {\n              const signal = Object.values(\n                this.props.messages[messageId].frame.signals\n              ).find((s) => s.uid === signalUid);\n              const colors = signal.getColors(messageId);\n\n              return (\n                <div\n                  className=\"cabana-explorer-visuals-plot-header\"\n                  key={`${messageId}_${signal.uid}`}\n                >\n                  <div className=\"cabana-explorer-visuals-plot-header-toggle\">\n                    <button\n                      className=\"button--tiny\"\n                      onClick={() => this.props.unplot(messageId, signalUid)}\n                    >\n                      <span>Hide Plot</span>\n                    </button>\n                  </div>\n                  <div className=\"cabana-explorer-visuals-plot-header-copy\">\n                    <div className=\"cabana-explorer-visuals-plot-message\">\n                      <span>\n                        {messageName}\n                        {' '}\n                        {messageId}\n                      </span>\n                    </div>\n                    <div className=\"cabana-explorer-visuals-plot-signal\">\n                      <div\n                        className=\"cabana-explorer-visuals-plot-signal-color\"\n                        style={{ background: `rgb(${colors}` }}\n                      />\n                      <strong>{signal.name}</strong>\n                    </div>\n                  </div>\n                </div>\n              );\n            }\n          )}\n          <Measure bounds onResize={this.onPlotResize}>\n            {({ measureRef }) => (\n              <div\n                ref={measureRef}\n                className=\"cabana-explorer-visuals-plot-container\"\n              >\n                <Vega\n                  onNewView={this.onNewView}\n                  logLevel={1}\n                  signalListeners={{\n                    clickTime: this.onSignalClickTime,\n                    segment: this.onSignalSegment\n                  }}\n                  renderer=\"canvas\"\n                  spec={this.state.spec}\n                  actions={false}\n                  data={{\n                    table: this.state.data.series\n                  }}\n                />\n              </div>\n            )}\n          </Measure>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport CanGraph from './CanGraph';\n\nrequire('element-closest');\n\nexport default class CanGraphList extends Component {\n  static propTypes = {\n    plottedSignals: PropTypes.array.isRequired,\n    messages: PropTypes.object.isRequired,\n    onGraphTimeClick: PropTypes.func.isRequired,\n    seekTime: PropTypes.number.isRequired,\n    onSegmentChanged: PropTypes.func.isRequired,\n    onSignalUnplotPressed: PropTypes.func.isRequired,\n    segment: PropTypes.array.isRequired,\n    mergePlots: PropTypes.func.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      draggingSignal: {},\n      dragPos: null,\n      dragShift: null,\n      graphToReceiveDrop: null\n    };\n\n    this.plotListRef = null;\n    this.plotRefs = [];\n    this.renderSignalPlot = this.renderSignalPlot.bind(this);\n    this.onPlotListRefReady = this.onPlotListRefReady.bind(this);\n    this.onGraphDragStart = this.onGraphDragStart.bind(this);\n    this.onGraphDragEnd = this.onGraphDragEnd.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n  }\n\n  onGraphDragStart(messageId, signalUid, shiftX, shiftY) {\n    this.setState({\n      draggingSignal: { messageId, signalUid },\n      dragShift: { x: shiftX, y: shiftY }\n    });\n  }\n\n  determineDraggingGraph() {\n    const { draggingSignal } = this.state;\n    return this.plotRefs.find(\n      ({ messageId, signalUid }) => draggingSignal.messageId === messageId\n        && draggingSignal.signalUid === signalUid\n    );\n  }\n\n  onMouseMove(e) {\n    const { dragShift } = this.state;\n    if (dragShift === null) {\n      if (this.state.graphToReceiveDrop !== null) {\n        this.setState({ graphToReceiveDrop: null });\n      }\n      return;\n    }\n    const rect = this.plotListRef.getBoundingClientRect();\n    const draggingGraph = this.determineDraggingGraph();\n    if (draggingGraph) {\n      draggingGraph.ref.hidden = true;\n      const ele = document.elementFromPoint(e.clientX, e.clientY);\n      draggingGraph.ref.hidden = false;\n      const closestPlot = ele.closest('.cabana-explorer-visuals-plot');\n      const closestPlotRef = this.plotRefs.find(\n        ({ ref, messageId, signalUid }) => !(\n          messageId === draggingGraph.messageId\n            && signalUid === draggingGraph.signalUid\n        ) && ref.isEqualNode(closestPlot)\n      );\n      if (closestPlotRef) {\n        this.setState({ graphToReceiveDrop: closestPlotRef });\n      } else {\n        this.setState({ graphToReceiveDrop: null });\n      }\n    }\n    const left = e.clientX - rect.left - dragShift.x;\n    const top = e.clientY - rect.top - dragShift.y;\n\n    this.setState({ dragPos: { left, top } });\n  }\n\n  onGraphDragEnd() {\n    if (this.state.graphToReceiveDrop !== null) {\n      this.props.mergePlots({\n        fromPlot: this.state.draggingSignal,\n        toPlot: this.state.graphToReceiveDrop\n      });\n    }\n\n    this.setState({\n      draggingSignal: {},\n      dragShift: null,\n      dragPos: null,\n      graphToReceiveDrop: null\n    });\n  }\n\n  addCanGraphRef(ref, messageId, signalUid) {\n    if (ref) {\n      let { plotRefs } = this;\n      plotRefs = plotRefs\n        .filter(\n          (ref) => !(ref.messageId === messageId && ref.signalUid === signalUid)\n        )\n        .concat([{ messageId, signalUid, ref }]);\n      this.plotRefs = plotRefs;\n    }\n  }\n\n  renderSignalPlot(plottedSignals, index) {\n    const { draggingSignal, graphToReceiveDrop } = this.state;\n    const { messageId, signalUid } = plottedSignals[0];\n    const msg = this.props.messages[messageId];\n    const signal = Object.values(msg.frame.signals).find(\n      (s) => s.uid === signalUid\n    );\n\n    if (!this.plotListRef) {\n      return [];\n    }\n\n    const isDragging = draggingSignal.signalUid === signalUid\n      && draggingSignal.messageId === messageId;\n    const canReceiveGraphDrop = graphToReceiveDrop\n      && graphToReceiveDrop.signalUid === signalUid\n      && graphToReceiveDrop.messageId === messageId;\n    plottedSignals = plottedSignals.map((plottedSignal) => ({\n      messageName: this.props.messages[plottedSignal.messageId].frame.name,\n      ...plottedSignal\n    }));\n    const key = plottedSignals.reduce(\n      (key, { messageId, signalUid }) => `${key + messageId}_${signalUid}`,\n      ''\n    );\n    return (\n      <CanGraph\n        onGraphRefAvailable={(ref) => {\n          this.addCanGraphRef(ref, messageId, signalUid);\n        }}\n        key={key}\n        unplot={this.props.onSignalUnplotPressed}\n        messages={this.props.messages}\n        messageId={messageId}\n        messageName={msg.frame ? msg.frame.name : null}\n        signalSpec={Object.assign(Object.create(signal), signal)}\n        onSegmentChanged={this.props.onSegmentChanged}\n        segment={this.props.segment}\n        onRelativeTimeClick={this.props.onGraphTimeClick}\n        currentTime={this.props.seekTime}\n        onDragStart={this.onGraphDragStart}\n        onDragEnd={this.onGraphDragEnd}\n        container={this.plotListRef}\n        dragPos={isDragging ? this.state.dragPos : null}\n        canReceiveGraphDrop={canReceiveGraphDrop}\n        plottedSignals={plottedSignals}\n        live={this.props.live}\n      />\n    );\n  }\n\n  onPlotListRefReady(ref) {\n    this.plotListRef = ref;\n  }\n\n  render() {\n    return (\n      <div\n        className=\"cabana-explorer-visuals-plots\"\n        ref={this.onPlotListRefReady}\n        onMouseMove={this.onMouseMove}\n        onMouseLeave={this.onGraphDragEnd}\n        onMouseUp={this.onGraphDragEnd}\n      >\n        {this.props.plottedSignals.map(this.renderSignalPlot)}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Hls from '@commaai/hls.js';\n\nexport default class HLS extends Component {\n  static propTypes = {\n    source: PropTypes.string.isRequired,\n    startTime: PropTypes.number.isRequired,\n    playbackSpeed: PropTypes.number.isRequired,\n    playing: PropTypes.bool.isRequired,\n    onVideoElementAvailable: PropTypes.func,\n    onClick: PropTypes.func,\n    onLoadStart: PropTypes.func,\n    onLoadEnd: PropTypes.func,\n    onPlaySeek: PropTypes.func,\n    onRestart: PropTypes.func\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.videoElement.playbackRate = nextProps.playbackSpeed;\n\n    if (nextProps.source !== this.props.source) {\n      this.loadSource(nextProps.source);\n    }\n    if (nextProps.playing) {\n      if (\n        this.videoElement\n        && (this.videoElement.paused || this.videoElement.currentTime < 0.01)\n      ) {\n        this.videoElement.play();\n      }\n    } else {\n      this.videoElement.pause();\n    }\n  }\n\n  componentDidMount() {\n    this.player = new Hls({\n      enableWorker: false,\n      disablePtsDtsCorrectionInMp4Remux: false,\n    });\n    this.player.on(Hls.Events.ERROR, (event, data) => {\n      if (data.fatal) {\n        switch (data.type) {\n          case Hls.ErrorTypes.NETWORK_ERROR:\n          // try to recover network error\n            console.log('fatal network error encountered, try to recover');\n            this.player.startLoad();\n            break;\n          case Hls.ErrorTypes.MEDIA_ERROR:\n            console.log('fatal media error encountered, try to recover');\n            this.player.recoverMediaError();\n            break;\n          default:\n          // cannot recover\n            this.player.destroy();\n            this.player = null;\n            break;\n        }\n      }\n    });\n    this.loadSource();\n  }\n\n  onSeeking = () => {\n    if (!this.props.playing) {\n      this.props.onLoadStart();\n      this.props.onPlaySeek(this.videoElement.currentTime);\n    }\n  };\n\n  // legacy outer scope variable. Revisit this to see if putting in state\n  // makes more sense\n  shouldInitVideoTime = true;\n\n  onSeeked = () => {\n    if (!this.props.playing) {\n      if (this.shouldInitVideoTime) {\n        this.videoElement.currentTime = this.props.startTime;\n        this.shouldInitVideoTime = false;\n      }\n      this.props.onLoadEnd();\n    }\n  };\n\n  loadSource(source = this.props.source) {\n    if (this.videoElement) {\n      this.player.loadSource(source);\n      this.player.attachMedia(this.videoElement);\n      this.props.onVideoElementAvailable(this.videoElement);\n    }\n  }\n\n  componentWillUnmount() {\n    // destroy hls video source\n    if (this.player) {\n      this.player.destroy();\n      this.player = null;\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"cabana-explorer-visuals-camera-wrapper\"\n        onClick={this.props.onClick}\n      >\n        <video\n          ref={(video) => {\n            this.videoElement = video;\n          }}\n          autoPlay={this.props.playing}\n          muted\n          onWaiting={this.props.onLoadStart}\n          onPlaying={this.props.onLoadEnd}\n          onSeeking={this.onSeeking}\n          onSeeked={this.onSeeked}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class PlayButton extends Component {\n  static propTypes = {\n    onPlay: PropTypes.func,\n    onPause: PropTypes.func,\n    isPlaying: PropTypes.bool,\n    className: PropTypes.string\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { hover: false };\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  imageSource() {\n    const { hover } = this.state;\n    const { isPlaying } = this.props;\n    if (isPlaying) {\n      if (hover) {\n        return `${process.env.PUBLIC_URL}/img/ic_pause_circle_filled_white_24px.svg`;\n      }\n      return `${process.env.PUBLIC_URL}/img/ic_pause_circle_outline_white_24px.svg`;\n    }\n    if (hover) {\n      return `${process.env.PUBLIC_URL}/img/ic_play_circle_filled_white_24px.svg`;\n    }\n    return `${process.env.PUBLIC_URL}/img/ic_play_circle_outline_white_24px.svg`;\n  }\n\n  onClick(e) {\n    const { isPlaying } = this.props;\n\n    if (!isPlaying) {\n      this.props.onPlay();\n    } else {\n      this.props.onPause();\n    }\n  }\n\n  render() {\n    return (\n      <img\n        src={this.imageSource()}\n        alt={this.props.isPlaying ? 'Pause' : 'Play'}\n        className={this.props.className}\n        onClick={this.onClick}\n        onMouseOver={() => this.setState({ hover: true })}\n        onMouseLeave={() => this.setState({ hover: false })}\n      />\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport PlayButton from '../PlayButton';\nimport debounce from '../../utils/debounce';\n\nexport default class RouteSeeker extends Component {\n  static propTypes = {\n    videoLength: PropTypes.number.isRequired,\n    segmentIndices: PropTypes.arrayOf(PropTypes.number),\n    segment: PropTypes.arrayOf(PropTypes.number),\n    onUserSeek: PropTypes.func,\n    onPlaySeek: PropTypes.func,\n    video: PropTypes.node,\n    onPause: PropTypes.func,\n    onPlay: PropTypes.func,\n    playing: PropTypes.bool,\n    segmentProgress: PropTypes.func,\n    ratioTime: PropTypes.func,\n    nearestFrameTime: PropTypes.number\n  };\n\n  static hiddenMarkerStyle = { display: 'none', left: 0 };\n\n  static zeroSeekedBarStyle = { width: 0 };\n\n  static hiddenTooltipStyle = { display: 'none', left: 0 };\n\n  static markerWidth = 20;\n\n  static tooltipWidth = 50;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      seekedBarStyle: RouteSeeker.zeroSeekedBarStyle,\n      markerStyle: RouteSeeker.hiddenMarkerStyle,\n      tooltipStyle: RouteSeeker.hiddenTooltipStyle,\n      ratio: 0,\n      tooltipTime: '0:00',\n      isPlaying: false,\n      isDragging: false\n    };\n\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onPlay = this.onPlay.bind(this);\n    this.onPause = this.onPause.bind(this);\n    this.executePlayTimer = this.executePlayTimer.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { ratio } = this.state;\n\n    if (\n      JSON.stringify(this.props.segmentIndices)\n      !== JSON.stringify(nextProps.segmentIndices)\n    ) {\n      this.setState({\n        seekedBarStyle: RouteSeeker.zeroSeekedBarStyle,\n        markerStyle: RouteSeeker.hiddenMarkerStyle,\n        ratio: 0\n      });\n    } else if (nextProps.videoLength !== this.props.videoLength) {\n      // adjust ratio in line with new videoLength\n      const secondsSeeked = ratio * this.props.videoLength;\n      const newRatio = secondsSeeked / nextProps.videoLength;\n      this.updateSeekedBar(newRatio);\n    }\n\n    if (this.props.nearestFrameTime !== nextProps.nearestFrameTime) {\n      const newRatio = this.props.segmentProgress(nextProps.nearestFrameTime);\n      this.updateSeekedBar(newRatio);\n    }\n\n    if (nextProps.playing && !this.state.isPlaying) {\n      this.onPlay();\n    } else if (!nextProps.playing && this.state.isPlaying) {\n      this.onPause();\n    }\n  }\n\n  componentWillUnmount() {\n    window.cancelAnimationFrame(this.playTimer);\n  }\n\n  mouseEventXOffsetPercent(e) {\n    const rect = this.progressBar.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n\n    return 100 * (x / this.progressBar.offsetWidth);\n  }\n\n  updateDraggingSeek = debounce((ratio) => this.props.onUserSeek(ratio), 250);\n\n  onMouseMove(e) {\n    const markerOffsetPct = this.mouseEventXOffsetPercent(e);\n    if (markerOffsetPct < 0) {\n      this.onMouseLeave();\n      return;\n    }\n    const { markerWidth } = RouteSeeker;\n\n    const markerLeft = `calc(${markerOffsetPct}% - ${markerWidth / 2}px)`;\n    const markerStyle = {\n      display: '',\n      left: markerLeft\n    };\n    const { tooltipWidth } = RouteSeeker;\n    const tooltipLeft = `calc(${markerOffsetPct}% - ${tooltipWidth / 2}px)`;\n\n    const tooltipStyle = { display: 'flex', left: tooltipLeft };\n    const ratio = Math.max(0, markerOffsetPct / 100);\n    if (this.state.isDragging) {\n      this.updateSeekedBar(ratio);\n      this.updateDraggingSeek(ratio);\n    }\n\n    this.setState({\n      markerStyle,\n      tooltipStyle,\n      tooltipTime: this.props.ratioTime(ratio).toFixed(3)\n    });\n  }\n\n  onMouseLeave(e) {\n    this.setState({\n      markerStyle: RouteSeeker.hiddenMarkerStyle,\n      tooltipStyle: RouteSeeker.hiddenTooltipStyle,\n      isDragging: false\n    });\n  }\n\n  updateSeekedBar(ratio) {\n    const seekedBarStyle = { width: `${100 * ratio}%` };\n    this.setState({ seekedBarStyle, ratio });\n  }\n\n  onClick(e) {\n    let ratio = this.mouseEventXOffsetPercent(e) / 100;\n    ratio = Math.min(1, Math.max(0, ratio));\n    this.updateSeekedBar(ratio);\n    this.props.onUserSeek(ratio);\n  }\n\n  onPlay() {\n    this.playTimer = window.requestAnimationFrame(this.executePlayTimer);\n    let { ratio } = this.state;\n    if (ratio >= 1) {\n      ratio = 0;\n    }\n    this.setState({ isPlaying: true, ratio });\n    this.props.onPlay();\n  }\n\n  executePlayTimer() {\n    const { videoElement } = this.props;\n    if (videoElement === null) {\n      this.playTimer = window.requestAnimationFrame(this.executePlayTimer);\n      return;\n    }\n\n    let { videoLength, startTime } = this.props;\n    let { currentTime, duration } = videoElement;\n\n    currentTime = roundTime(currentTime);\n    startTime = roundTime(startTime);\n    videoLength = roundTime(videoLength);\n    duration = roundTime(duration);\n\n    let newRatio = (currentTime - startTime) / videoLength;\n\n    if (newRatio === this.state.ratio) {\n      this.playTimer = window.requestAnimationFrame(this.executePlayTimer);\n      return;\n    }\n\n    if ((newRatio >= 1 && this.props.segment && this.props.segment.length) || newRatio < 0) {\n      newRatio = 0;\n      currentTime = startTime;\n      this.props.onUserSeek(newRatio);\n    } else if (newRatio >= 1) {\n      videoElement.pause();\n      this.onPause();\n    }\n\n    if (newRatio >= 0) {\n      this.updateSeekedBar(newRatio);\n      this.props.onPlaySeek(currentTime);\n    }\n\n    this.playTimer = window.requestAnimationFrame(this.executePlayTimer);\n  }\n\n  onPause() {\n    window.cancelAnimationFrame(this.playTimer);\n    this.setState({ isPlaying: false });\n    this.props.onPause();\n  }\n\n  onMouseDown() {\n    if (!this.state.isDragging) {\n      this.setState({ isDragging: true });\n    }\n  }\n\n  onMouseUp() {\n    if (this.state.isDragging) {\n      this.setState({ isDragging: false });\n    }\n  }\n\n  render() {\n    const { seekedBarStyle, markerStyle, tooltipStyle } = this.state;\n    return (\n      <div className=\"cabana-explorer-visuals-camera-seeker\">\n        <PlayButton\n          className=\"cabana-explorer-visuals-camera-seeker-playbutton\"\n          onPlay={this.onPlay}\n          onPause={this.onPause}\n          isPlaying={this.state.isPlaying}\n        />\n        <div\n          className=\"cabana-explorer-visuals-camera-seeker-progress\"\n          onMouseMove={this.onMouseMove}\n          onMouseLeave={this.onMouseLeave}\n          onMouseDown={this.onMouseDown}\n          onMouseUp={this.onMouseUp}\n          onClick={this.onClick}\n          ref={(ref) => (this.progressBar = ref)}\n        >\n          <div\n            className=\"cabana-explorer-visuals-camera-seeker-progress-tooltip\"\n            style={tooltipStyle}\n          >\n            {this.state.tooltipTime}\n          </div>\n          <div\n            className=\"cabana-explorer-visuals-camera-seeker-progress-marker\"\n            style={markerStyle}\n          />\n          <div\n            className=\"cabana-explorer-visuals-camera-seeker-progress-inner\"\n            style={seekedBarStyle}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction roundTime(time) {\n  return Math.round(time * 1000) / 1000;\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { StyleSheet, css } from 'aphrodite/no-important';\nimport { video as VideoApi } from '@commaai/comma-api';\n\nimport HLS from './HLS';\nimport RouteSeeker from './RouteSeeker/RouteSeeker';\n\nconst Styles = StyleSheet.create({\n  loadingOverlay: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    zIndex: 3\n  },\n  loadingSpinner: {\n    width: '25%',\n    height: '25%',\n    display: 'block'\n  },\n  img: {\n    height: 480,\n    display: 'block',\n    position: 'absolute',\n    zIndex: 2\n  },\n  hls: {\n    zIndex: 1,\n    height: 480,\n    backgroundColor: 'rgba(0,0,0,0.9)'\n  },\n  seekBar: {\n    position: 'absolute',\n    bottom: 0,\n    left: 0,\n    width: '100%',\n    zIndex: 4\n  }\n});\n\nexport default class RouteVideoSync extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shouldShowJpeg: true,\n      isLoading: true,\n      videoElement: null,\n      source: null,\n    };\n\n    this.onLoadStart = this.onLoadStart.bind(this);\n    this.onLoadEnd = this.onLoadEnd.bind(this);\n    this.segmentProgress = this.segmentProgress.bind(this);\n    this.onVideoElementAvailable = this.onVideoElementAvailable.bind(this);\n    this.onUserSeek = this.onUserSeek.bind(this);\n    this.onPlaySeek = this.onPlaySeek.bind(this);\n    this.ratioTime = this.ratioTime.bind(this);\n  }\n\n  componentWillMount() {\n    let videoApi = VideoApi(this.props.url, process.env.REACT_APP_VIDEO_CDN);\n    videoApi.getQcameraStreamIndex().then(() => {\n      this.setState({source: videoApi.getQcameraStreamIndexUrl()});\n    }).catch(() => {\n      this.setState({source: videoApi.getRearCameraStreamIndexUrl()});\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    const { userSeekTime } = this.props;\n    const { videoElement } = this.state;\n\n    if (\n      prevProps.userSeekTime\n      && userSeekTime !== prevProps.userSeekTime\n    ) {\n      if (videoElement) {\n        videoElement.currentTime = userSeekTime - this.props.videoOffset;\n      }\n    }\n  }\n\n  onVideoElementAvailable(videoElement) {\n    this.setState({ videoElement });\n  }\n\n  onUserSeek(ratio) {\n    /* ratio in [0,1] */\n\n    const { videoElement } = this.state;\n    const { onUserSeek } = this.props;\n    const seekTime = this.ratioTime(ratio);\n    const funcSeekToRatio = () => onUserSeek(seekTime);\n\n    if (Number.isNaN(videoElement.duration)) {\n      return;\n    }\n    videoElement.currentTime = seekTime - this.props.videoOffset;\n\n    if (ratio !== 0) {\n      funcSeekToRatio();\n    }\n  }\n\n  onPlaySeek(offset) {\n    this.seekTime = offset + this.props.videoOffset;\n    this.props.onPlaySeek(this.seekTime);\n  }\n\n  onLoadStart() {\n    this.setState({\n      shouldShowJpeg: true,\n      isLoading: true\n    });\n  }\n\n  onLoadEnd() {\n    this.setState({\n      shouldShowJpeg: false,\n      isLoading: false\n    });\n  }\n\n  loadingOverlay() {\n    return (\n      <div className={css(Styles.loadingOverlay)}>\n        <img\n          className={css(Styles.loadingSpinner)}\n          src={`${process.env.PUBLIC_URL}/img/loading.svg`}\n          alt=\"Loading video\"\n        />\n      </div>\n    );\n  }\n\n  videoLength() {\n    if (this.props.segment.length) {\n      return this.props.segment[1] - this.props.segment[0];\n    }\n\n    if (this.state.videoElement) {\n      return this.state.videoElement.duration;\n    }\n\n    return 0;\n  }\n\n  startTime() {\n    if (this.props.segment.length) {\n      return this.props.segment[0];\n    }\n\n    return 0;\n  }\n\n  segmentProgress(currentTime) {\n    // returns progress as number in [0,1]\n    const startTime = this.startTime();\n\n    if (currentTime < startTime) {\n      currentTime = startTime;\n    }\n\n    const ratio = (currentTime - startTime) / this.videoLength();\n    return Math.max(0, Math.min(1, ratio));\n  }\n\n  ratioTime(ratio) {\n    return ratio * this.videoLength() + this.startTime();\n  }\n\n  nearestFrameUrl() {\n    const { thumbnails } = this.props;\n    if (!this.seekTime) {\n      return '';\n    }\n    for (let i = 0, l = thumbnails.length; i < l; ++i) {\n      if (Math.abs(thumbnails[i].monoTime - this.seekTime) < 5) {\n        const data = btoa(String.fromCharCode(...thumbnails[i].data));\n        return `data:image/jpeg;base64,${data}`;\n      }\n    }\n    return '';\n  }\n\n  render() {\n    const {\n      isLoading,\n      shouldShowJpeg,\n      videoElement,\n    } = this.state;\n    const {\n      userSeekTime,\n      url,\n      playSpeed,\n      playing,\n      onVideoClick,\n      segmentIndices,\n      startTime,\n      segment\n    } = this.props;\n\n    return (\n      <div className=\"cabana-explorer-visuals-camera\">\n        {isLoading ? this.loadingOverlay() : null}\n        {shouldShowJpeg ? (\n          <img\n            src={this.nearestFrameUrl()}\n            className={css(Styles.img)}\n            alt={`Camera preview at t = ${Math.round(userSeekTime)}`}\n          />\n        ) : null}\n        {this.state.source && <HLS\n          className={css(Styles.hls)}\n          source={this.state.source}\n          startTime={(startTime || 0) - this.props.videoOffset}\n          videoLength={this.videoLength()}\n          playbackSpeed={playSpeed}\n          onVideoElementAvailable={this.onVideoElementAvailable}\n          playing={playing}\n          onClick={onVideoClick}\n          onLoadStart={this.onLoadStart}\n          onLoadEnd={this.onLoadEnd}\n          onUserSeek={this.onUserSeek}\n          onPlaySeek={this.onPlaySeek}\n        />}\n        <RouteSeeker\n          className={css(Styles.seekBar)}\n          nearestFrameTime={userSeekTime}\n          segmentProgress={this.segmentProgress}\n          startTime={this.startTime() - this.props.videoOffset}\n          videoLength={this.videoLength()}\n          segmentIndices={segmentIndices}\n          onUserSeek={this.onUserSeek}\n          onPlaySeek={this.onPlaySeek}\n          videoElement={videoElement}\n          onPlay={this.props.onPlay}\n          onPause={this.props.onPause}\n          playing={this.props.playing}\n          ratioTime={this.ratioTime}\n          segment={segment}\n        />\n      </div>\n    );\n  }\n}\n\nRouteVideoSync.propTypes = {\n  segment: PropTypes.array.isRequired,\n  thumbnails: PropTypes.array,\n  url: PropTypes.string.isRequired,\n  playing: PropTypes.bool.isRequired,\n  onPlaySeek: PropTypes.func.isRequired,\n  onUserSeek: PropTypes.func.isRequired,\n  onPlay: PropTypes.func.isRequired,\n  onPause: PropTypes.func.isRequired,\n  userSeekTime: PropTypes.number.isRequired,\n  playSpeed: PropTypes.number.isRequired,\n  onVideoClick: PropTypes.func,\n  segmentIndices: PropTypes.array,\n  startTime: PropTypes.number\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactList from 'react-list';\n\nimport cx from 'classnames';\n\nexport default class CanLog extends Component {\n  static ITEMS_PER_PAGE = 50;\n\n  static propTypes = {\n    plottedSignals: PropTypes.array,\n    segmentIndices: PropTypes.array,\n    onSignalUnplotPressed: PropTypes.func,\n    onSignalPlotPressed: PropTypes.func,\n    message: PropTypes.object,\n    messageIndex: PropTypes.number,\n    onMessageExpanded: PropTypes.func\n  };\n\n  constructor(props) {\n    super(props);\n    // only want to display up to length elements at a time\n    // offset, length\n\n    this.state = {\n      length: 0,\n      expandedMessages: [],\n      messageHeights: [],\n      allPacketsExpanded: false\n    };\n\n    this.renderLogListItemMessage = this.renderLogListItemMessage.bind(this);\n    this.addDisplayedMessages = this.addDisplayedMessages.bind(this);\n    this.renderLogListItem = this.renderLogListItem.bind(this);\n    this.renderLogList = this.renderLogList.bind(this);\n    this.onExpandAllChanged = this.onExpandAllChanged.bind(this);\n    this.toggleExpandAllPackets = this.toggleExpandAllPackets.bind(this);\n    this.toggleSignalPlot = this.toggleSignalPlot.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.message && !this.props.message) {\n      this.addDisplayedMessages();\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const curMessageLength = this.props.message\n      ? this.props.message.entries.length\n      : 0;\n    const nextMessageLength = nextProps.message\n      ? nextProps.message.entries.length\n      : 0;\n\n    const shouldUpdate = this.props.message !== nextProps.message\n      || nextMessageLength !== curMessageLength\n      || nextProps.messageIndex !== this.props.messageIndex\n      || nextProps.plottedSignals.length !== this.props.plottedSignals.length\n      || JSON.stringify(nextProps.segmentIndices)\n        !== JSON.stringify(this.props.segmentIndices)\n      || JSON.stringify(nextState) !== JSON.stringify(this.state)\n      || this.props.message !== nextProps.message\n      || (this.props.message !== undefined\n        && nextProps.message !== undefined\n        && this.props.message.frame !== undefined\n        && nextProps.message.frame !== undefined\n        && JSON.stringify(this.props.message.frame)\n          !== JSON.stringify(nextProps.message.frame));\n\n    return shouldUpdate;\n  }\n\n  addDisplayedMessages() {\n    const { length } = this.state;\n    const newLength = length + CanLog.ITEMS_PER_PAGE;\n\n    this.setState({ length: newLength });\n  }\n\n  expandMessage(msg, msgIdx) {\n    this.setState({\n      expandedMessages: this.state.expandedMessages.concat([msg.time])\n    });\n    this.props.onMessageExpanded();\n  }\n\n  collapseMessage(msg, msgIdx) {\n    this.setState({\n      expandedMessages: this.state.expandedMessages.filter(\n        (expMsgTime) => expMsgTime !== msg.time\n      )\n    });\n  }\n\n  isSignalPlotted(msgId, signalUid) {\n    const plottedSignal = this.props.plottedSignals.find((plot) => plot.some(\n      (signal) => signal.messageId === msgId && signal.signalUid === signalUid\n    ));\n    return plottedSignal !== undefined;\n  }\n\n  signalValuePretty(signal, value) {\n    if (signal.isFloat) {\n      return value.toFixed(3);\n    }\n    return value;\n  }\n\n  isMessageExpanded(msg) {\n    return this.state.expandedMessages.indexOf(msg.time) !== -1;\n  }\n\n  toggleSignalPlot(msg, signalUid, plotted) {\n    if (!plotted) {\n      this.props.onSignalPlotPressed(msg, signalUid);\n    } else {\n      this.props.onSignalUnplotPressed(msg, signalUid);\n    }\n  }\n\n  toggleExpandPacketSignals(msgEntry) {\n    if (!this.props.message.frame) {\n      return;\n    }\n    const msgIsExpanded = this.state.allPacketsExpanded || this.isMessageExpanded(msgEntry);\n\n    const msgHasSignals = Object.keys(this.props.message.frame.signals).length > 0;\n    if (msgIsExpanded && msgHasSignals) {\n      this.setState({\n        expandedMessages: this.state.expandedMessages.filter(\n          (expMsgTime) => expMsgTime !== msgEntry.time\n        )\n      });\n    } else if (msgHasSignals) {\n      this.setState({\n        expandedMessages: this.state.expandedMessages.concat([msgEntry.time])\n      });\n      this.props.onMessageExpanded();\n    } else {\n    }\n  }\n\n  renderLogListItemSignals(msgEntry) {\n    const { message } = this.props;\n    return (\n      <div className=\"signals-log-list-signals\">\n        {Object.entries(msgEntry.signals).map(([name, value]) => {\n          const signal = message.frame.signals[name];\n          if (signal === undefined) {\n            // Signal removed?\n            return null;\n          }\n          const unit = signal.unit.length > 0 ? signal.unit : 'units';\n          const isPlotted = this.isSignalPlotted(message.id, signal.uid);\n          const plottedButtonClass = isPlotted ? null : 'button--alpha';\n          const plottedButtonText = isPlotted ? 'Hide Plot' : 'Show Plot';\n          return (\n            <div key={name} className=\"signals-log-list-signal\">\n              <div className=\"signals-log-list-signal-message\">\n                <span>{name}</span>\n              </div>\n              <div className=\"signals-log-list-signal-value\">\n                <span>\n                  (\n                  <strong>{this.signalValuePretty(signal, value)}</strong>\n                  {' '}\n                  {unit}\n)\n                </span>\n              </div>\n              <div\n                className=\"signals-log-list-signal-action\"\n                onClick={() => {\n                  this.toggleSignalPlot(message.id, signal.uid, isPlotted);\n                }}\n              >\n                <button className={cx('button--tiny', plottedButtonClass)}>\n                  <span>{plottedButtonText}</span>\n                </button>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  renderLogListItemMessage(msgEntry, key) {\n    const { message } = this.props;\n    const msgIsExpanded = this.state.allPacketsExpanded || this.isMessageExpanded(msgEntry);\n    const msgHasSignals = Object.keys(msgEntry.signals).length > 0;\n    const hasSignalsClass = msgHasSignals ? 'has-signals' : null;\n    const expandedClass = msgIsExpanded ? 'is-expanded' : null;\n    const row = (\n      <div\n        key={key}\n        className={cx('signals-log-list-item', hasSignalsClass, expandedClass)}\n      >\n        <div\n          className=\"signals-log-list-item-header\"\n          onClick={() => {\n            this.toggleExpandPacketSignals(msgEntry);\n          }}\n        >\n          <div className=\"signals-log-list-message\">\n            <strong>\n              {(message.frame ? message.frame.name : null) || message.id}\n            </strong>\n          </div>\n          <div className=\"signals-log-list-time\">\n            <span>\n[\n              {msgEntry.relTime.toFixed(3)}\n]\n            </span>\n          </div>\n          <div className=\"signals-log-list-bytes\">\n            <span className=\"t-mono\">{msgEntry.hexData}</span>\n          </div>\n        </div>\n        <div className=\"signals-log-list-item-body\">\n          {msgIsExpanded ? this.renderLogListItemSignals(msgEntry) : null}\n        </div>\n      </div>\n    );\n\n    return row;\n  }\n\n  renderLogListItem(index, key) {\n    let offset = this.props.messageIndex;\n    if (offset === 0 && this.props.segmentIndices.length === 2) {\n      offset = this.props.segmentIndices[0];\n    }\n    if (offset + index < 0) {\n      debugger;\n    }\n    if (offset + index < this.props.message.entries.length) {\n      return this.renderLogListItemMessage(\n        this.props.message.entries[offset + index],\n        key\n      );\n    }\n    return null;\n  }\n\n  renderLogList(items, ref) {\n    return (\n      <div className=\"signals-log-list\">\n        <div className=\"signals-log-list-header\">\n          <div className=\"signals-log-list-message\">Message</div>\n          <div className=\"signals-log-list-time\">Time</div>\n          <div className=\"signals-log-list-bytes\">Bytes</div>\n        </div>\n        <div className=\"signals-log-list-items\" ref={ref}>\n          {items}\n        </div>\n      </div>\n    );\n  }\n\n  listLength() {\n    const { segmentIndices, messageIndex } = this.props;\n    if (messageIndex > 0) {\n      return this.props.message.entries.length - messageIndex;\n    }\n    if (segmentIndices.length === 2) {\n      return segmentIndices[1] - segmentIndices[0];\n    }\n    if (this.props.message) {\n      return this.props.message.entries.length;\n    }\n    // no message yet\n    return 0;\n  }\n\n  onExpandAllChanged(e) {\n    this.setState({ allPacketsExpanded: e.target.checked });\n  }\n\n  toggleExpandAllPackets() {\n    this.setState({ allPacketsExpanded: !this.state.allPacketsExpanded });\n  }\n\n  render() {\n    const expandAllText = this.state.allPacketsExpanded\n      ? 'Collapse All'\n      : 'Expand All';\n    const expandAllClass = this.state.allPacketsExpanded\n      ? null\n      : 'button--alpha';\n    return (\n      <div className=\"cabana-explorer-signals-log\">\n        <div className=\"cabana-explorer-signals-log-header\">\n          <strong>Message Packets</strong>\n          <button\n            className={cx('button--tiny', expandAllClass)}\n            onClick={this.toggleExpandAllPackets}\n          >\n            {expandAllText}\n          </button>\n        </div>\n        <div className=\"cabana-explorer-signals-log-body\">\n          <ReactList\n            itemRenderer={this.renderLogListItem}\n            itemsRenderer={this.renderLogList}\n            length={this.listLength()}\n            pageSize={50}\n            updateWhenThisValueChanges={this.props.messageIndex}\n            type=\"variable\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","function findTimeIndex(entries, time) {\n  return entries.findIndex((e) => e.time >= time);\n}\n\nfunction findRelativeTimeIndex(entries, relTime) {\n  return entries.findIndex((e) => e.relTime >= relTime);\n}\n\nfunction findSegmentIndices(\n  entries,\n  [segmentTimeLow, segmentTimeHi],\n  isRelative\n) {\n  /*\n    Finds pair of indices (inclusive, exclusive) within entries array\n    whose timestamps match segmentTimeLow and segmentTimeHi.\n    if isRelative === true, then the segment times\n    are assumed to correspond to the `relTime` field of each entry.\n\n    Returns `[segmentIdxLow, segmentIdxHigh]`\n             (inclusive, exclusive)\n    */\n  const timeIndexFunc = isRelative === true ? findRelativeTimeIndex : findTimeIndex;\n\n  const segmentIdxLow = Math.max(0, timeIndexFunc(entries, segmentTimeLow));\n\n  const upperSegments = entries.slice(segmentIdxLow);\n  const upperSegmentIdxHi = timeIndexFunc(upperSegments, segmentTimeHi);\n  const segmentIdxHi = upperSegmentIdxHi >= 0\n    ? upperSegmentIdxHi + segmentIdxLow + 1\n    : entries.length - 1;\n\n  return [\n    segmentIdxLow,\n    Math.max(0, Math.min(segmentIdxHi, entries.length - 1))\n  ];\n}\n\nexport default { findTimeIndex, findRelativeTimeIndex, findSegmentIndices };\n","import React, { Component } from 'react';\n\nexport default class PlaySpeedSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(value) {\n    if (this.props.onPlaySpeedChanged) {\n      this.props.onPlaySpeedChanged(Number(value.currentTarget.value));\n    }\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          display: 'inline-block',\n          float: 'right',\n          margin: 10\n        }}\n      >\n        <label>Play speed:&nbsp;</label>\n        <select\n          id=\"playSpeed\"\n          style={{\n            width: 70\n          }}\n          onChange={this.onChange}\n          value={this.props.playSpeed}\n        >\n          <option value=\"0.1\">0.1x</option>\n          <option value=\"0.5\">0.5x</option>\n          <option value=\"1\">1x</option>\n          <option value=\"2\">2x</option>\n        </select>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport cx from 'classnames';\n\nimport AddSignals from './AddSignals';\nimport CanGraphList from './CanGraphList';\nimport RouteVideoSync from './RouteVideoSync';\nimport CanLog from './CanLog';\nimport Entries from '../models/can/entries';\nimport debounce from '../utils/debounce';\nimport PlaySpeedSelector from './PlaySpeedSelector';\n\nfunction clipSegment(_segment, _segmentIndices, nextMessage) {\n  let segment = _segment;\n  let segmentIndices = _segmentIndices;\n  if (segment.length === 2) {\n    const segmentStartIdx = nextMessage.entries.findIndex(\n      (e) => e.relTime >= segment[0]\n    );\n    let segmentEndIdx = nextMessage.entries.findIndex(\n      (e) => e.relTime >= segment[1]\n    );\n    if (segmentStartIdx !== -1) {\n      if (segmentEndIdx === -1) {\n        // previous segment end is past bounds of this message\n        segmentEndIdx = nextMessage.entries.length - 1;\n      }\n      const segmentStartTime = nextMessage.entries[segmentStartIdx].relTime;\n      const segmentEndTime = nextMessage.entries[segmentEndIdx].relTime;\n\n      segment = [segmentStartTime, segmentEndTime];\n      segmentIndices = [segmentStartIdx, segmentEndIdx];\n    } else {\n      // segment times are out of boudns for this message\n      segment = [];\n      segmentIndices = [];\n    }\n  }\n\n  return { segment, segmentIndices };\n}\n\nexport default class Explorer extends Component {\n  updateSegment = debounce((messageId, _segment) => {\n    let segment = _segment;\n    const { messages, selectedMessage, currentParts } = this.props;\n    const { entries } = messages[selectedMessage];\n    let segmentIndices = Entries.findSegmentIndices(entries, segment, true);\n\n    // console.log(this.state.segment, '->', segment, segmentIndices);\n    if (\n      segment[0] === currentParts[0] * 60\n      && segment[1] === (currentParts[1] + 1) * 60\n    ) {\n      segment = [];\n      segmentIndices = [];\n    }\n    let { userSeekTime } = this.state;\n    if (segment.length) {\n      userSeekTime = Math.max(segment[0], userSeekTime);\n      userSeekTime = Math.min(segment[1], userSeekTime);\n    } else {\n      userSeekTime = Math.max(currentParts[0] * 60, userSeekTime);\n      userSeekTime = Math.min(currentParts[1] * 60, userSeekTime);\n    }\n    this.setState({\n      segment,\n      segmentIndices,\n      userSeekIndex: segmentIndices[0],\n      userSeekTime\n    });\n  }, 250);\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      plottedSignals: [],\n      segment: props.startSegments || [],\n      segmentIndices: [],\n      shouldShowAddSignal: true,\n      userSeekIndex: 0,\n      userSeekTime: 0,\n      playing: props.autoplay,\n      playSpeed: 1\n    };\n\n    this.onSignalPlotPressed = this.onSignalPlotPressed.bind(this);\n    this.onSignalUnplotPressed = this.onSignalUnplotPressed.bind(this);\n    this.onSegmentChanged = this.onSegmentChanged.bind(this);\n    this.showAddSignal = this.showAddSignal.bind(this);\n    this.onGraphTimeClick = this.onGraphTimeClick.bind(this);\n    this.onUserSeek = this.onUserSeek.bind(this);\n    this.onPlaySeek = this.onPlaySeek.bind(this);\n    this.onPlay = this.onPlay.bind(this);\n    this.onPause = this.onPause.bind(this);\n    this.onVideoClick = this.onVideoClick.bind(this);\n    this.onSignalPlotChange = this.onSignalPlotChange.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.mergePlots = this.mergePlots.bind(this);\n    this.toggleShouldShowAddSignal = this.toggleShouldShowAddSignal.bind(this);\n    this.changePlaySpeed = this.changePlaySpeed.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  onKeyDown(e) {\n    if (e.keyCode === 27) {\n      // escape\n      this.resetSegment();\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextMessage = nextProps.messages[nextProps.selectedMessage];\n    const curMessage = this.props.messages[this.props.selectedMessage];\n    let { plottedSignals } = this.state;\n\n    if (Object.keys(nextProps.messages).length === 0 && Object.keys(this.props.messages).length !== 0) {\n      this.resetSegment();\n    }\n    if (nextMessage && nextMessage.frame && nextMessage !== curMessage) {\n      const nextSignalNames = Object.keys(nextMessage.frame.signals);\n\n      if (nextSignalNames.length === 0) {\n        this.setState({ shouldShowAddSignal: true });\n      }\n    }\n\n    // remove plottedSignals that no longer exist\n    plottedSignals = plottedSignals\n      .map((plot) => plot.filter(({ messageId, signalUid }, index) => {\n        const messageExists = !!nextProps.messages[messageId];\n        let signalExists = true;\n        if (messageExists) {\n          signalExists = Object.values(\n            nextProps.messages[messageId].frame.signals\n          ).some((signal) => signal.uid === signalUid);\n        }\n\n        return messageExists && signalExists;\n      }))\n      .filter((plot) => plot.length > 0);\n\n    this.setState({ plottedSignals });\n\n    if (\n      nextProps.selectedMessage\n      && nextProps.selectedMessage !== this.props.selectedMessage\n    ) {\n      // Update segment and seek state\n      // by finding a entry indices\n      // corresponding to old message segment/seek times.\n\n      const { segment, segmentIndices } = clipSegment(\n        this.state.segment,\n        this.state.segmentIndices,\n        nextMessage\n      );\n\n      const nextSeekMsgEntry = nextMessage.entries[nextProps.seekIndex];\n      let nextSeekTime;\n      if (nextSeekMsgEntry) {\n        nextSeekTime = nextSeekMsgEntry.relTime;\n      } else if (segment.length === 2) {\n        nextSeekTime = segment[0];\n      } else {\n        nextSeekTime = nextMessage.entries[0];\n      }\n      // console.log('componentWillReceiveProps', this.state.userSeekTime, '->', nextSeekTime);\n      this.setState({\n        segment,\n        segmentIndices,\n        userSeekIndex: nextProps.seekIndex,\n        // userSeekTime: nextSeekTime\n      });\n    }\n\n    if (\n      nextMessage\n      && curMessage\n      && nextMessage.entries.length !== curMessage.entries.length\n    ) {\n      const { segment, segmentIndices } = clipSegment(\n        this.state.segment,\n        this.state.segmentIndices,\n        nextMessage\n      );\n      // console.log(this.state.segment, '->', segment, segmentIndices);\n      this.setState({ segment, segmentIndices });\n    }\n  }\n\n  changePlaySpeed(value) {\n    this.setState({\n      playSpeed: value\n    });\n  }\n\n  timeWindow() {\n    const { routeStartTime, currentParts } = this.props;\n\n    if (routeStartTime) {\n      const partStartOffset = currentParts[0] * 60;\n      const partEndOffset = (currentParts[1] + 1) * 60;\n\n      const windowStartTime = routeStartTime\n        .clone()\n        .add(partStartOffset, 's')\n        .format('HH:mm:ss');\n      const windowEndTime = routeStartTime\n        .clone()\n        .add(partEndOffset, 's')\n        .format('HH:mm:ss');\n\n      return `${windowStartTime} - ${windowEndTime}`;\n    }\n    return '';\n  }\n\n  onSignalPlotPressed(messageId, signalUid) {\n    let { plottedSignals } = this.state;\n\n    plottedSignals = [[{ messageId, signalUid }], ...plottedSignals];\n\n    this.setState({ plottedSignals });\n  }\n\n  onSignalUnplotPressed(messageId, signalUid) {\n    const { plottedSignals } = this.state;\n    const newPlottedSignals = plottedSignals\n      .map((plot) => plot.filter(\n        (signal) => !(signal.messageId === messageId && signal.signalUid === signalUid)\n      ))\n      .filter((plot) => plot.length > 0);\n\n    this.setState({ plottedSignals: newPlottedSignals });\n  }\n\n  onSegmentChanged(messageId, segment) {\n    if (Array.isArray(segment)) {\n      this.updateSegment(messageId, segment);\n    }\n  }\n\n  resetSegment() {\n    const { segment, segmentIndices } = this.state;\n    if (segment.length > 0 || segmentIndices.length > 0) {\n      // console.log(this.state.segment, '->', segment, segmentIndices);\n      this.setState({\n        segment: [],\n        segmentIndices: [],\n        userSeekIndex: 0\n      });\n    }\n  }\n\n  showAddSignal() {\n    this.setState({ shouldShowAddSignal: true });\n  }\n\n  toggleShouldShowAddSignal() {\n    this.setState({ shouldShowAddSignal: !this.state.shouldShowAddSignal });\n  }\n\n  indexFromSeekTime(time) {\n    // returns index guaranteed to be in [0, entries.length - 1]\n\n    const { entries } = this.props.messages[this.props.selectedMessage];\n    if (entries.length === 0) return null;\n\n    const { segmentIndices } = this.state;\n    if (segmentIndices.length === 2 && segmentIndices[0] >= 0) {\n      for (\n        let i = segmentIndices[0],\n          l = Math.min(entries.length - 1, segmentIndices[1]);\n        i <= l;\n        i++\n      ) {\n        if (entries[i].relTime >= time) {\n          return i;\n        }\n      }\n      return segmentIndices[1];\n    }\n    for (let i = 0; i < entries.length; i++) {\n      if (entries[i].relTime >= time) {\n        return i;\n      }\n    }\n    return entries.length - 1;\n  }\n\n  onUserSeek(time) {\n    this.props.onUserSeek(time);\n    this.setState({ userSeekTime: time });\n  }\n\n  onPlaySeek(time) {\n    const message = this.props.messages[this.props.selectedMessage];\n    if (!message || message.entries.length === 0) {\n      this.props.onSeek(0, time);\n      return;\n    }\n\n    const seekIndex = this.indexFromSeekTime(time);\n    const seekTime = time;\n    this.props.onSeek(seekIndex, seekTime);\n  }\n\n  onGraphTimeClick(messageId, time) {\n    this.onUserSeek(time);\n  }\n\n  onPlay() {\n    this.setState({ playing: true });\n  }\n\n  onPause() {\n    this.setState({ playing: false });\n  }\n\n  secondsLoadedRouteRelative(currentParts) {\n    return (currentParts[1] - currentParts[0] + 1) * 60;\n  }\n\n  secondsLoaded() {\n    return this.props.partsCount * 60;\n  }\n\n  onVideoClick() {\n    const playing = !this.state.playing;\n    this.setState({ playing });\n  }\n\n  seekTime() {\n    const { userSeekIndex } = this.state;\n    const msg = this.props.messages[this.props.selectedMessage];\n    return msg.entries[userSeekIndex].time;\n  }\n\n  onSignalPlotChange(shouldPlot, messageId, signalUid) {\n    if (shouldPlot) {\n      this.onSignalPlotPressed(messageId, signalUid);\n    } else {\n      this.onSignalUnplotPressed(messageId, signalUid);\n    }\n  }\n\n  renderSelectMessagePrompt() {\n    return (\n      <div className=\"cabana-explorer-select-prompt\">\n        <h1>Select a message</h1>\n      </div>\n    );\n  }\n\n  selectedMessagePlottedSignalUids() {\n    const { plottedSignals } = this.state;\n    return plottedSignals\n      .map((plot) => plot\n        .filter(\n          ({ messageId, signalUid }) => messageId === this.props.selectedMessage\n        )\n        .map(({ signalUid }) => signalUid))\n      .reduce((arr, signalUid) => arr.concat(signalUid), []);\n  }\n\n  renderExplorerSignals() {\n    const selectedMessageKey = this.props.selectedMessage;\n    const selectedMessage = this.props.messages[selectedMessageKey];\n    const selectedMessageName = selectedMessage.frame !== undefined\n      ? selectedMessage.frame.name\n      : 'undefined';\n    return (\n      <div className=\"cabana-explorer-signals-wrapper\">\n        <div className=\"cabana-explorer-signals-header\">\n          <div className=\"cabana-explorer-signals-header-context\">\n            <h5 className=\"t-capline\">Selected Message:</h5>\n            <h3>{selectedMessageName}</h3>\n          </div>\n          <div className=\"cabana-explorer-signals-header-action\">\n            <button\n              className=\"button--small\"\n              onClick={() => this.props.showEditMessageModal(selectedMessageKey)}\n            >\n              Edit\n            </button>\n          </div>\n        </div>\n        <div\n          className=\"cabana-explorer-signals-subheader\"\n          onClick={this.toggleShouldShowAddSignal}\n        >\n          <strong>Edit Signals</strong>\n        </div>\n        <div className=\"cabana-explorer-signals-window\">\n          {this.state.shouldShowAddSignal ? (\n            <AddSignals\n              onConfirmedSignalChange={this.props.onConfirmedSignalChange}\n              message={this.props.messages[this.props.selectedMessage]}\n              onClose={() => {\n                this.setState({ shouldShowAddSignal: false });\n              }}\n              messageIndex={this.props.seekIndex}\n              onSignalPlotChange={this.onSignalPlotChange}\n              plottedSignalUids={this.selectedMessagePlottedSignalUids()}\n              selectedMessageKey={selectedMessageKey}\n            />\n          ) : null}\n          <CanLog\n            message={this.props.messages[this.props.selectedMessage]}\n            messageIndex={this.props.seekIndex}\n            segmentIndices={this.state.segmentIndices}\n            plottedSignals={this.state.plottedSignals}\n            onSignalPlotPressed={this.onSignalPlotPressed}\n            onSignalUnplotPressed={this.onSignalUnplotPressed}\n            showAddSignal={this.showAddSignal}\n            onMessageExpanded={this.onPause}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  mergePlots({ fromPlot, toPlot }) {\n    const { plottedSignals } = this.state;\n\n    // remove fromPlot from plottedSignals\n    const fromPlotIdx = plottedSignals.findIndex((plot) => plot.some(\n      (signal) => signal.signalUid === fromPlot.signalUid\n          && signal.messageId === fromPlot.messageId\n    ));\n    plottedSignals.splice(fromPlotIdx, 1);\n\n    const toPlotIdx = plottedSignals.findIndex((plot) => plot.some(\n      (signal) => signal.signalUid === toPlot.signalUid\n          && signal.messageId === toPlot.messageId\n    ));\n    plottedSignals[toPlotIdx] = [fromPlot, toPlot];\n\n    this.setState({ plottedSignals });\n  }\n\n  render() {\n    const signalsExpandedClass = this.state.shouldShowAddSignal\n      ? 'is-expanded'\n      : null;\n\n    const { thumbnails, messages, startTime } = this.props;\n\n    let graphSegment = this.state.segment;\n    if (!graphSegment.length && this.props.currentParts) {\n      graphSegment = [\n        this.props.currentParts[0] * 60,\n        (this.props.currentParts[1] + 1) * 60\n      ];\n    }\n    return (\n      <div className=\"cabana-explorer\">\n        <div className={cx('cabana-explorer-signals', signalsExpandedClass)}>\n          {messages[this.props.selectedMessage]\n            ? this.renderExplorerSignals()\n            : this.renderSelectMessagePrompt()}\n        </div>\n        <div className=\"cabana-explorer-visuals\">\n          {this.props.live === false ? (\n            <div>\n              <div className=\"cabana-explorer-visuals-header g-row\">\n                <PlaySpeedSelector\n                  playSpeed={this.state.playSpeed}\n                  onPlaySpeedChanged={this.changePlaySpeed}\n                />\n              </div>\n              <RouteVideoSync\n                message={messages[this.props.selectedMessage]}\n                segment={this.state.segment}\n                startTime={startTime}\n                seekIndex={this.props.seekIndex}\n                userSeekIndex={this.state.userSeekIndex}\n                playing={this.state.playing}\n                url={this.props.url}\n                firstCanTime={this.props.firstCanTime}\n                videoOffset={this.props.videoOffset}\n                onVideoClick={this.onVideoClick}\n                onPlaySeek={this.onPlaySeek}\n                onUserSeek={this.onUserSeek}\n                onPlay={this.onPlay}\n                onPause={this.onPause}\n                userSeekTime={this.state.userSeekTime}\n                playSpeed={this.state.playSpeed}\n                thumbnails={thumbnails}\n              />\n            </div>\n          ) : null}\n          {this.state.segment.length > 0 ? (\n            <div\n              className=\"cabana-explorer-visuals-segmentreset\"\n              onClick={() => {\n                this.resetSegment();\n              }}\n            >\n              <p>Reset Segment</p>\n            </div>\n          ) : null}\n          <CanGraphList\n            plottedSignals={this.state.plottedSignals}\n            messages={messages}\n            onGraphTimeClick={this.onGraphTimeClick}\n            seekTime={this.props.seekTime}\n            onSegmentChanged={this.onSegmentChanged}\n            onSignalUnplotPressed={this.onSignalUnplotPressed}\n            segment={graphSegment}\n            mergePlots={this.mergePlots}\n            live={this.props.live}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nExplorer.propTypes = {\n  selectedMessage: PropTypes.string,\n  url: PropTypes.string,\n  live: PropTypes.bool.isRequired,\n  messages: PropTypes.objectOf(PropTypes.object),\n  thumbnails: PropTypes.array.isRequired,\n  onConfirmedSignalChange: PropTypes.func.isRequired,\n  canFrameOffset: PropTypes.number,\n  firstCanTime: PropTypes.number,\n  onSeek: PropTypes.func.isRequired,\n  autoplay: PropTypes.bool.isRequired,\n  currentParts: PropTypes.array.isRequired,\n  partsCount: PropTypes.number,\n  startTime: PropTypes.number,\n  startSegments: PropTypes.array\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Measure from 'react-measure';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    variations: PropTypes.array,\n    disableClose: PropTypes.bool,\n    handleClose: PropTypes.func,\n    handleSave: PropTypes.func,\n    title: PropTypes.string,\n    subtitle: PropTypes.string,\n    navigation: PropTypes.node,\n    actions: PropTypes.node,\n    footer: PropTypes.node\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      windowHeight: {},\n      modalHeight: {}\n    };\n\n    this.updateHeights = this.updateHeights.bind(this);\n  }\n\n  updateHeights(contentRect) {\n    this.setState({ windowHeight: window.innerHeight });\n    this.setState({ modalHeight: contentRect.bounds.height });\n  }\n\n  readVariationClasses() {\n    if (this.props.variations) {\n      const { variations } = this.props;\n      const classes = variations.reduce(\n        (classes, variation) => `${classes}cabana-modal--${variation} `,\n        ''\n      );\n      return classes;\n    }\n  }\n\n  checkClosability() {\n    return this.props.disableClose || false;\n  }\n\n  checkYScrollability() {\n    return this.state.modalHeight > this.state.windowHeight;\n  }\n\n  render() {\n    return (\n      <div\n        className={cx('cabana-modal', this.readVariationClasses(), {\n          'cabana-modal--not-closable': this.checkClosability(),\n          'cabana-modal--scrollable-y': this.checkYScrollability()\n        })}\n      >\n        <Measure\n          bounds\n          onResize={(contentRect) => {\n            this.updateHeights(contentRect);\n          }}\n        >\n          {({ measureRef }) => (\n            <div ref={measureRef} className=\"cabana-modal-container\">\n              <div\n                className=\"cabana-modal-close-icon\"\n                onClick={this.props.handleClose}\n              />\n              <div className=\"cabana-modal-header\">\n                <h1>{this.props.title}</h1>\n                <p>{this.props.subtitle}</p>\n              </div>\n              <div className=\"cabana-modal-navigation\">\n                {this.props.navigation}\n              </div>\n              <div className=\"cabana-modal-body\">\n                <div className=\"cabana-modal-body-window\">\n                  {this.props.children}\n                </div>\n                <div className=\"cabana-modal-body-gradient\" />\n              </div>\n              <div className=\"cabana-modal-actions\">{this.props.actions}</div>\n              <div className=\"cabana-modal-footer\">{this.props.footer}</div>\n            </div>\n          )}\n        </Measure>\n        <div\n          className=\"cabana-modal-backdrop\"\n          onClick={this.props.handleClose}\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Moment from 'moment';\nimport _ from 'lodash';\nimport cx from 'classnames';\nimport CommaAuth from '@commaai/my-comma-auth';\n\nimport { EXPLORER_URL } from '../../config';\nimport Modal from './baseModal';\n\nexport default class OnboardingModal extends Component {\n  static propTypes = {\n    handlePandaConnect: PropTypes.func,\n    routes: PropTypes.array\n  };\n\n  static instructionalImages = {\n    step2: require('../../images/webusb-enable-experimental-features.png'),\n    step3: require('../../images/webusb-enable-webusb.png')\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      webUsbEnabled: !!navigator.usb,\n      viewingUsbInstructions: false,\n      pandaConnected: false\n    };\n\n    this.attemptPandaConnection = this.attemptPandaConnection.bind(this);\n    this.toggleUsbInstructions = this.toggleUsbInstructions.bind(this);\n    this.navigateToExplorer = this.navigateToExplorer.bind(this);\n  }\n\n  attemptPandaConnection() {\n    if (!this.state.webUsbEnabled) {\n      return;\n    }\n    this.props.handlePandaConnect();\n  }\n\n  toggleUsbInstructions() {\n    this.setState({\n      viewingUsbInstructions: !this.state.viewingUsbInstructions\n    });\n  }\n\n  navigateToExplorer() {\n    window.location.href = EXPLORER_URL;\n  }\n\n  filterRoutesWithCan(drive) {\n    return drive.can === true;\n  }\n\n  renderPandaEligibility() {\n    const { webUsbEnabled, pandaConnected } = this.state;\n    const { attemptingPandaConnection } = this.props;\n    if (!webUsbEnabled) {\n      return (\n        <p>\n          <i className=\"fa fa-exclamation-triangle\" />\n          <a onClick={this.toggleUsbInstructions}>\n            <span>WebUSB is not enabled in your Chrome settings</span>\n          </a>\n        </p>\n      );\n    }\n    if (!pandaConnected && attemptingPandaConnection) {\n      return (\n        <p>\n          <i className=\"fa fa-spinner animate-spin\" />\n          <span className=\"animate-pulse-opacity\">\n            Waiting for panda USB connection\n          </span>\n        </p>\n      );\n    }\n  }\n\n  renderLogin() {\n    return (\n      <button\n        onClick={this.navigateToExplorer}\n        className=\"button--primary button--kiosk\"\n      >\n        <i className=\"fa fa-video-camera\" />\n        <strong>\n          {CommaAuth.isAuthenticated()\n            ? 'Find a drive in Explorer'\n            : 'Log in with Explorer'}\n        </strong>\n        <sup>Click \"View CAN Data\" while replaying a drive</sup>\n      </button>\n    );\n  }\n\n  renderOnboardingOptions() {\n    return (\n      <div className=\"cabana-onboarding-modes\">\n        <div className=\"cabana-onboarding-mode\">{this.renderLogin()}</div>\n        <div className=\"cabana-onboarding-mode\">\n          <button\n            className={cx('button--secondary button--kiosk', {\n              'is-disabled':\n                !this.state.webUsbEnabled\n                || this.props.attemptingPandaConnection\n            })}\n            onClick={this.attemptPandaConnection}\n          >\n            <i className=\"fa fa-bolt\" />\n            <strong>Launch Realtime Streaming</strong>\n            <sup>\n              Interactively stream car data over USB with\n              {' '}\n              <em>panda</em>\n            </sup>\n            {this.renderPandaEligibility()}\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  renderUsbInstructions() {\n    return (\n      <div className=\"cabana-onboarding-instructions\">\n        <button\n          className=\"button--small button--inverted\"\n          onClick={this.toggleUsbInstructions}\n        >\n          <i className=\"fa fa-chevron-left\" />\n          <span> Go back</span>\n        </button>\n        <h3>Follow these directions to enable WebUSB:</h3>\n        <ol className=\"cabana-onboarding-instructions-list list--bubbled\">\n          <li>\n            <p>\n              <strong>Open your Chrome settings:</strong>\n            </p>\n            <div className=\"inset\">\n              <span>\n                chrome://flags/#enable-experimental-web-platform-features\n              </span>\n            </div>\n          </li>\n          <li>\n            <p>\n              <strong>Enable Experimental Platform features:</strong>\n            </p>\n            <img\n              alt=\"Screenshot of Google Chrome Experimental Platform features\"\n              src={OnboardingModal.instructionalImages.step2}\n            />\n          </li>\n          <li>\n            <p>\n              <strong>Enable WebUSB:</strong>\n            </p>\n            <img\n              alt=\"Screenshot of Google Chrome enable WebUSB\"\n              src={OnboardingModal.instructionalImages.step3}\n            />\n          </li>\n          <li>\n            <p>\n              <strong>\n                Relaunch your Chrome browser and try enabling live mode again.\n              </strong>\n            </p>\n          </li>\n        </ol>\n      </div>\n    );\n  }\n\n  renderModalContent() {\n    if (this.state.viewingUsbInstructions) {\n      return this.renderUsbInstructions();\n    }\n    return this.renderOnboardingOptions();\n  }\n\n  renderModalFooter() {\n    return (\n      <p>\n        <span>\n          Don't have a\n          {' '}\n          <a\n            href=\"https://panda.comma.ai\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            panda\n          </a>\n          ?\n          {' '}\n        </span>\n        <span>\n          <a\n            href=\"https://panda.comma.ai\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Get one here\n          </a>\n          {' '}\n        </span>\n        <span>\n          or\n          {' '}\n          <a href={`${window.location.href}?demo=1`}>try the demo</a>\n.\n        </span>\n      </p>\n    );\n  }\n\n  render() {\n    return (\n      <Modal\n        title=\"Welcome to Cabana\"\n        subtitle=\"Get started by selecting a drive from Explorer or enabling live mode\"\n        footer={this.renderModalFooter()}\n        disableClose\n        variations={['wide', 'dark']}\n      >\n        {this.renderModalContent()}\n      </Modal>\n    );\n  }\n}\n","import GitHub from 'github-api';\n\nimport { OPENDBC_SOURCE_REPO } from '../config';\n\nexport default class OpenDBC {\n  constructor(token) {\n    this.token = token;\n    this.github = new GitHub({ token });\n    this.sourceRepo = this.github.getRepo('commaai', 'opendbc');\n    this.githubUsername = null;\n  }\n\n  hasAuth() {\n    return this.token !== null;\n  }\n\n  async getGithubUsername() {\n    if (this.githubUsername) {\n      return this.githubUsername;\n    }\n    const githubUsername = await this.fetchGithubUsername();\n    if (githubUsername) {\n      return githubUsername;\n    }\n  }\n\n  async fetchGithubUsername() {\n    try {\n      const user = await this.github.getUser();\n      if (user) {\n        const profile = await user.getProfile();\n        if (profile) {\n          return profile.data.login;\n        }\n      }\n    } catch (e) {\n      return null;\n    }\n  }\n\n  async list(repoFullName) {\n    /*\n    Lists files in a github repository.\n    If no argument provided, assumes OpenDBC source repo\n    (commaai/opendbc)\n    */\n\n    let repo;\n    if (repoFullName === undefined) {\n      repo = this.sourceRepo;\n    } else {\n      const [username, repoName] = repoFullName.split('/');\n      repo = this.github.getRepo(username, repoName);\n    }\n    try {\n      const response = await repo.getContents('master', '');\n\n      return response.data.map((content) => content.path);\n    } catch (e) {\n      return [];\n    }\n  }\n\n  async getDbcContents(dbcPath, repoFullName) {\n    let repo;\n    if (repoFullName === undefined) {\n      repo = this.sourceRepo;\n    } else {\n      const [username, repoName] = repoFullName.split('/');\n      repo = this.github.getRepo(username, repoName);\n    }\n\n    const fileContents = await repo.getContents('master', dbcPath);\n\n    const rawContentsUrl = fileContents.data.download_url;\n\n    const resp = await fetch(rawContentsUrl, { cache: 'no-cache' });\n\n    return resp.text();\n  }\n\n  repoSourceIsOpenDbc(repoDetails) {\n    return (\n      repoDetails.source && repoDetails.source.full_name === OPENDBC_SOURCE_REPO\n    );\n  }\n\n  async getUserOpenDbcFork() {\n    const githubUsername = await this.getGithubUsername();\n    if (!githubUsername) return null;\n\n    const openDbcFork = this.github.getRepo(githubUsername, 'opendbc');\n    const repoDetailResp = await openDbcFork.getDetails();\n    const repoDetails = repoDetailResp.data;\n\n    if (this.repoSourceIsOpenDbc(repoDetails)) {\n      return repoDetails.full_name;\n    }\n    return null;\n  }\n\n  async fork() {\n    const forkResponse = await this.sourceRepo.fork();\n    if (forkResponse.status === 202) {\n      return true;\n    }\n    return false;\n  }\n\n  async commitFile(repoFullName, path, contents, commitMessage) {\n    /*\n      repo is of format username/reponame\n      authenciated user must have write access to repo\n      */\n    const [user, repoName] = repoFullName.split('/');\n    const repo = this.github.getRepo(user, repoName);\n\n    // get HEAD reference\n    const refResp = await repo.getRef('heads/master');\n    const ref = refResp.data;\n\n    // get HEAD commit sha\n    const headCommitResp = await repo.getCommit(ref.object.sha);\n    const headCommit = headCommitResp.data;\n\n    // get HEAD tree\n    const headTreeResp = await repo.getTree(headCommit.tree.sha);\n    const headTree = headTreeResp.data;\n\n    // create new tree\n    const tree = [\n      {\n        mode: '100644',\n        path,\n        type: 'blob',\n        content: contents\n      }\n    ];\n\n    const createTreeResp = await repo.createTree(tree, headTree.sha);\n    const createdTree = createTreeResp.data;\n\n    // commit\n    const commitResp = await repo.commit(\n      headCommit.sha,\n      createdTree.sha,\n      commitMessage || 'OpenDBC updates'\n    );\n    const commit = commitResp.data;\n\n    // update HEAD\n    const updateHeadResp = await repo.updateHead(\n      'heads/master',\n      commit.sha,\n      false\n    );\n\n    return updateHeadResp.status === 200;\n  }\n}\n","import React, { Component } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport FileSaver from 'file-saver';\n\nimport OpenDbc from '../api/OpenDbc';\nimport DBC from '../models/can/dbc';\nimport Modal from './Modals/baseModal';\n// import TabStyles from '../styles/modal-tabs';\n\nexport default class SaveDbcModal extends Component {\n  static propTypes = {\n    dbc: PropTypes.instanceOf(DBC).isRequired,\n    sourceDbcFilename: PropTypes.string.isRequired,\n    handleClose: PropTypes.func.isRequired,\n    onDbcSaved: PropTypes.func.isRequired,\n    openDbcClient: PropTypes.instanceOf(OpenDbc).isRequired,\n    hasGithubAuth: PropTypes.bool.isRequired,\n    loginWithGithub: PropTypes.element.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      tab: 'GitHub',\n      openDbcFork: null,\n      dbcFilename: this.props.sourceDbcFilename,\n      tabs: ['GitHub', 'Download'],\n      commitMessage: 'OpenDBC updates'\n    };\n\n    this.commitToGitHub = this.commitToGitHub.bind(this);\n    this.downloadDbcFile = this.downloadDbcFile.bind(this);\n    this.forkOpenDbcAndWait = this.forkOpenDbcAndWait.bind(this);\n    this.renderForkButton = this.renderForkButton.bind(this);\n    this.renderTabNavigation = this.renderTabNavigation.bind(this);\n    this.renderActions = this.renderActions.bind(this);\n  }\n\n  async componentWillMount() {\n    const openDbcFork = await this.props.openDbcClient.getUserOpenDbcFork();\n    this.setState({ openDbcFork });\n  }\n\n  async commitToGitHub() {\n    const { openDbcFork, dbcFilename } = this.state;\n    const filename = `${dbcFilename.replace(/\\.dbc/g, '')}.dbc`;\n    const success = await this.props.openDbcClient.commitFile(\n      openDbcFork,\n      filename,\n      this.props.dbc.text(),\n      this.state.commitMessage\n    );\n    if (success) {\n      this.props.onDbcSaved(filename);\n    }\n  }\n\n  async downloadDbcFile() {\n    const blob = new Blob([this.props.dbc.text()], {\n      type: 'text/plain;charset=utf-8'\n    });\n    const filename = `${this.state.dbcFilename.replace(/\\.dbc/g, '')}.dbc`;\n    FileSaver.saveAs(blob, filename, true);\n  }\n\n  async forkOpenDbcAndWait() {\n    const forkResponseSuccess = await this.props.openDbcClient.fork();\n    if (forkResponseSuccess) {\n      let isTimedOut = false;\n      const timeout = window.setTimeout(() => {\n        isTimedOut = true;\n      }, 30000);\n\n      const interval = window.setInterval(() => {\n        if (!isTimedOut) {\n          this.props.openDbcClient.getUserOpenDbcFork().then((openDbcFork) => {\n            if (openDbcFork !== null) {\n              this.setState({ openDbcFork });\n              window.clearInterval(interval);\n              window.clearTimeout(timeout);\n            }\n          });\n        } else {\n          window.clearInterval(interval);\n        }\n      }, 3000);\n    } else {\n      // fork failed\n    }\n  }\n\n  primaryActionDisabled() {\n    const { tab } = this.state;\n    if (tab === 'GitHub') {\n      return (\n        this.state.openDbcFork != null && this.state.dbcFilename.length > 0\n      );\n    }\n    if (tab === 'Download') {\n      return true;\n    }\n  }\n\n  renderForkButton() {\n    return (\n      <button onClick={this.forkOpenDbcAndWait}>\n        <i className=\"fa fa-code-fork\" />\n        <span> Fork OpenDBC</span>\n      </button>\n    );\n  }\n\n  renderForkStep() {\n    const { openDbcFork } = this.state;\n    let content;\n    if (openDbcFork !== null) {\n      content = (\n        <button disabled>\n          <i className=\"fa fa-code-fork\" />\n          <span>\n            {' '}\n            Forked:\n            {openDbcFork}\n          </span>\n        </button>\n      );\n    } else if (this.props.hasGithubAuth) {\n      content = this.renderForkButton();\n    } else {\n      content = this.props.loginWithGithub;\n    }\n    return (\n      <div>\n        {openDbcFork !== null ? this.renderForkButton() : null}\n        {content}\n        <hr />\n      </div>\n    );\n  }\n\n  renderFilenameField() {\n    return (\n      <div className=\"form-field\" data-extension=\".dbc\">\n        <label htmlFor=\"filename\">\n          <span>Choose a filename:</span>\n          <sup>Pick a unique name for your car DBC file</sup>\n        </label>\n        <input\n          type=\"text\"\n          id=\"filename\"\n          value={this.state.dbcFilename.replace(/\\.dbc/g, '')}\n          size={this.state.dbcFilename.length + 2}\n          onChange={(e) => this.setState({ dbcFilename: e.target.value })}\n        />\n      </div>\n    );\n  }\n\n  renderTabNavigation() {\n    return (\n      <div className=\"cabana-tabs-navigation\">\n        {this.state.tabs.map((tab) => (\n          <a\n            className={cx({ 'is-active': this.state.tab === tab })}\n            onClick={() => {\n              this.setState({ tab });\n            }}\n            key={tab}\n          >\n            <span>{tab}</span>\n          </a>\n        ))}\n      </div>\n    );\n  }\n\n  renderCommitMessage() {\n    return (\n      <div className=\"form-field\">\n        <label htmlFor=\"commit-message\">\n          <span>Commit Message:</span>\n          <sup>Message appears in git logs</sup>\n        </label>\n        <input\n          type=\"text\"\n          id=\"commit-message\"\n          value={this.state.commitMessage}\n          onChange={(e) => this.setState({ commitMessage: e.target.value })}\n        />\n      </div>\n    );\n  }\n\n  renderTabContent() {\n    const { tab } = this.state;\n    if (tab === 'GitHub') {\n      return (\n        <div>\n          {this.renderForkStep()}\n          {this.renderFilenameField()}\n          {this.renderCommitMessage()}\n        </div>\n      );\n    }\n    if (tab === 'Download') {\n      return <div>{this.renderFilenameField()}</div>;\n    }\n  }\n\n  renderActions() {\n    const { tab } = this.state;\n    if (tab === 'GitHub') {\n      return (\n        <div>\n          <button className=\"button--inverted\" onClick={this.props.handleClose}>\n            <span>Cancel</span>\n          </button>\n          <button className=\"button--primary\" onClick={this.commitToGitHub}>\n            <span>Commit to GitHub</span>\n          </button>\n        </div>\n      );\n    }\n    if (tab === 'Download') {\n      return (\n        <div>\n          <button className=\"button--inverted\" onClick={this.props.handleClose}>\n            <span>Cancel</span>\n          </button>\n          <button className=\"button--primary\" onClick={this.downloadDbcFile}>\n            <span>Download</span>\n          </button>\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Modal\n        title=\"Save DBC File\"\n        subtitle=\"Save your progress and output to a DBC file\"\n        handleClose={this.props.handleClose}\n        navigation={this.renderTabNavigation()}\n        actions={this.renderActions()}\n      >\n        {this.renderTabContent()}\n      </Modal>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport OpenDbc from '../api/OpenDbc';\n\nexport default class GithubDbcList extends Component {\n  static propTypes = {\n    onDbcLoaded: PropTypes.func.isRequired,\n    repo: PropTypes.string.isRequired,\n    openDbcClient: PropTypes.instanceOf(OpenDbc).isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      paths: [],\n      selectedPath: null,\n      pathQuery: ''\n    };\n\n    this.updatePathQuery = this.updatePathQuery.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.repo !== this.props.repo) {\n      this.props.openDbcClient.list(nextProps.repo).then((paths) => {\n        this.setState({ paths, selectedPath: null });\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.props.openDbcClient.list(this.props.repo).then((paths) => {\n      paths = paths.filter((path) => path.indexOf('.dbc') !== -1);\n      this.setState({ paths });\n    });\n  }\n\n  updatePathQuery(e) {\n    this.setState({\n      pathQuery: e.target.value\n    });\n  }\n\n  selectPath(path) {\n    this.setState({ selectedPath: path });\n    this.props.openDbcClient\n      .getDbcContents(path, this.props.repo)\n      .then((dbcContents) => {\n        this.props.onDbcLoaded(path, dbcContents);\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"cabana-dbc-list\">\n        <div className=\"cabana-dbc-list-header\">\n          <a href={`https://github.com/${this.props.repo}`} target=\"_blank\">\n            <i className=\"fa fa-github\" />\n            <span>{this.props.repo}</span>\n          </a>\n          <div className=\"form-field form-field--small\">\n            <input\n              type=\"text\"\n              placeholder=\"Search DBC Files\"\n              onChange={this.updatePathQuery}\n            />\n          </div>\n        </div>\n        <div className=\"cabana-dbc-list-files\">\n          {this.state.paths\n            .filter(\n              (p) => (this.state.pathQuery === '') | p.includes(this.state.pathQuery)\n            )\n            .map((path) => (\n              <div\n                className={cx('cabana-dbc-list-file', {\n                  'is-selected': this.state.selectedPath === path\n                })}\n                onClick={() => {\n                  this.selectPath(path);\n                }}\n                key={path}\n              >\n                <span>{path}</span>\n              </div>\n            ))}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class DbcUpload extends Component {\n  static propTypes = {\n    onDbcLoaded: PropTypes.func\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      dbcText: ''\n    };\n\n    this.onTextChanged = this.onTextChanged.bind(this);\n  }\n\n  onTextChanged(e) {\n    const dbcText = e.target.value;\n    this.setState({ dbcText });\n    this.props.onDbcLoaded('from paste', dbcText);\n  }\n\n  render() {\n    return (\n      <div className=\"cabana-dbc-upload-raw\">\n        <div className=\"form-field\">\n          <label htmlFor=\"raw_dbc_upload\">\n            <span>Raw DBC File:</span>\n            <sup>Paste your DBC text output within this box</sup>\n          </label>\n          <textarea\n            value={this.state.dbcText}\n            id=\"raw_dbc_upload\"\n            className=\"t-mono\"\n            placeholder=\"PASTE DBC FILE HERE\"\n            onChange={this.onTextChanged}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\n\nimport DBC from '../models/can/dbc';\nimport OpenDbc from '../api/OpenDbc';\nimport Modal from './Modals/baseModal';\nimport GithubDbcList from './GithubDbcList';\nimport DbcUpload from './DbcUpload';\n\nexport default class LoadDbcModal extends Component {\n  static propTypes = {\n    handleClose: PropTypes.func.isRequired,\n    onDbcSelected: PropTypes.func.isRequired,\n    openDbcClient: PropTypes.instanceOf(OpenDbc).isRequired,\n    loginWithGithub: PropTypes.element.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      tab: 'OpenDBC',\n      tabs: ['OpenDBC', 'GitHub', 'Upload'],\n      dbc: null,\n      dbcSource: null,\n      userOpenDbcRepo: null\n    };\n\n    this.onDbcLoaded = this.onDbcLoaded.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n    this.renderTabNavigation = this.renderTabNavigation.bind(this);\n    this.renderTabContent = this.renderTabContent.bind(this);\n    this.renderActions = this.renderActions.bind(this);\n  }\n\n  componentWillMount() {\n    this.props.openDbcClient.getUserOpenDbcFork().then((userOpenDbcRepo) => {\n      this.setState({ userOpenDbcRepo });\n    });\n  }\n\n  onDbcLoaded(dbcSource, dbcText) {\n    const dbc = new DBC(dbcText);\n    this.setState({ dbcSource, dbc });\n  }\n\n  handleSave() {\n    const { dbc, dbcSource } = this.state;\n    if (dbc !== null) {\n      this.props.onDbcSelected(dbcSource, dbc);\n    }\n  }\n\n  renderTabNavigation() {\n    return (\n      <div className=\"cabana-tabs-navigation\">\n        {this.state.tabs.map((tab) => (\n          <a\n            className={cx({ 'is-active': this.state.tab === tab })}\n            onClick={() => {\n              this.setState({ tab });\n            }}\n            key={tab}\n          >\n            <span>{tab}</span>\n          </a>\n        ))}\n      </div>\n    );\n  }\n\n  renderTabContent() {\n    const { tab } = this.state;\n    if (tab === 'OpenDBC') {\n      return (\n        <GithubDbcList\n          onDbcLoaded={this.onDbcLoaded}\n          repo=\"commaai/opendbc\"\n          openDbcClient={this.props.openDbcClient}\n        />\n      );\n    }\n    if (tab === 'GitHub') {\n      if (!this.props.openDbcClient.hasAuth()) {\n        return this.props.loginWithGithub;\n      }\n      if (this.state.userOpenDbcRepo === null) {\n        return <div>Fork it</div>;\n      }\n      return (\n        <GithubDbcList\n          onDbcLoaded={this.onDbcLoaded}\n          repo={this.state.userOpenDbcRepo}\n          openDbcClient={this.props.openDbcClient}\n        />\n      );\n    }\n    if (tab === 'Upload') {\n      return <DbcUpload onDbcLoaded={this.onDbcLoaded} />;\n    }\n  }\n\n  renderActions() {\n    return (\n      <div>\n        <button className=\"button--inverted\" onClick={this.props.handleClose}>\n          <span>Cancel</span>\n        </button>\n        <button className=\"button--primary\" onClick={this.handleSave}>\n          <span>Load DBC</span>\n        </button>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Modal\n        title=\"Load DBC File\"\n        subtitle=\"Modify an existing DBC file with Cabana\"\n        handleClose={this.props.handleClose}\n        navigation={this.renderTabNavigation()}\n        actions={this.renderActions()}\n      >\n        {this.renderTabContent()}\n      </Modal>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from './Modals/baseModal';\n\nexport default class EditMessageModal extends Component {\n  static propTypes = {\n    handleClose: PropTypes.func.isRequired,\n    handleSave: PropTypes.func.isRequired,\n    message: PropTypes.object.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      messageFrame: props.message.frame.copy()\n    };\n    this.handleSave = this.handleSave.bind(this);\n    this.editTransmitter = this.editTransmitter.bind(this);\n    this.addTransmitter = this.addTransmitter.bind(this);\n    this.renderActions = this.renderActions.bind(this);\n  }\n\n  handleSave() {\n    this.props.handleSave(this.state.messageFrame);\n  }\n\n  addTransmitter() {\n    const { messageFrame } = this.state;\n    messageFrame.addTransmitter();\n    this.setState({ messageFrame });\n  }\n\n  editTransmitter(transmitter) {}\n\n  renderActions() {\n    return (\n      <div>\n        <button className=\"button--inverted\" onClick={this.props.handleClose}>\n          Cancel\n        </button>\n        <button className=\"button--primary\" onClick={this.handleSave}>\n          Save Message\n        </button>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <Modal\n        title={`Edit Message: (${this.props.message.id})`}\n        subtitle=\"Make changes and update defaults of this message\"\n        handleClose={this.props.handleClose}\n        handleSave={this.handleSave}\n        actions={this.renderActions()}\n      >\n        <div className=\"form-field\">\n          <label htmlFor=\"message_name\">\n            <span>Name</span>\n            <sup>Customize the name of this message</sup>\n          </label>\n          <input\n            type=\"text\"\n            id=\"message_name\"\n            value={this.state.messageFrame.name}\n            onChange={(e) => {\n              const { messageFrame } = this.state;\n              messageFrame.name = e.target.value;\n              this.setState({ messageFrame });\n            }}\n          />\n        </div>\n        <div className=\"form-field\">\n          <label htmlFor=\"message_size\">\n            <span>Size</span>\n            <sup>Add a size parameter to this message</sup>\n          </label>\n          <input\n            type=\"number\"\n            id=\"message_size\"\n            value={this.state.messageFrame.size}\n            onChange={(e) => {\n              const { messageFrame } = this.state;\n              if (e.target.value > 8) {\n                return;\n              }\n              messageFrame.size = parseInt(e.target.value, 10);\n              this.setState({ messageFrame });\n            }}\n          />\n        </div>\n        <div className=\"form-field u-hidden\">\n          <label htmlFor=\"message_transmitters\">\n            <span>Transmitters</span>\n            <sup>\n              Add the physical ECU units that this message is coming from.\n            </sup>\n          </label>\n          <div className=\"form-field-inset\">\n            <ul className=\"form-field-inset-list\">\n              {this.state.messageFrame.transmitters.map((transmitter) => (\n                <li className=\"form-field-inset-list-item\" key={transmitter}>\n                  <div className=\"form-field-inset-list-item-title\">\n                    <span>{transmitter}</span>\n                  </div>\n                  <div className=\"form-field-inset-list-item-action\">\n                    <button className=\"button--tiny button--alpha\">Edit</button>\n                  </div>\n                </li>\n              ))}\n              <button className=\"button--tiny button--alpha\">\n                <span>\n                  <i className=\"fa fa-plus\" />\n                  {' '}\nAdd Transmitter\n                </span>\n              </button>\n            </ul>\n          </div>\n        </div>\n      </Modal>\n    );\n  }\n}\n","import styled, { keyframes } from 'react-emotion';\n\nconst frames = keyframes`\n  0% {\n    transform: translateX(0)\n  }\n  to {\n    transform: translateX(-400px)\n  }\n`;\nconst animationColor1 = 'rgba(74, 242, 161, 1.00)';\nconst animationColor2 = 'rgba(140, 169, 197, 1.00)';\n\nexport default styled('div')`\n  display: block;\n  animation-name: ${frames};\n  animation-duration: 2s;\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n  background-color: ${animationColor1};\n  background-image: linear-gradient(\n    to right,\n    ${animationColor2} 0,\n    ${animationColor2} 50%,\n    ${animationColor1} 50%,\n    ${animationColor1} 100%\n  );\n  background-repeat: repeat-x;\n  background-size: 25pc 25pc;\n  width: 200%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 2;\n`;\n","import DBC from '../models/can/dbc';\n\nexport function fetchPersistedDbc(routeName) {\n  const maybeDbc = window.localStorage.getItem(routeName);\n  if (maybeDbc !== null) {\n    const { dbcFilename, dbcText } = JSON.parse(maybeDbc);\n    const dbc = new DBC(dbcText);\n\n    return { dbc, dbcText, dbcFilename };\n  }\n  return null;\n}\n\nexport function persistDbc(routeName, { dbcFilename, dbc }) {\n  const dbcJson = JSON.stringify({\n    dbcFilename,\n    dbcText: dbc.text()\n  });\n  window.localStorage.setItem(routeName, dbcJson);\n}\n\nconst GITHUB_AUTH_TOKEN_LOCALSTORAGE_KEY = 'gh_auth_token';\nexport function fetchPersistedGithubAuthToken() {\n  return window.localStorage.getItem(GITHUB_AUTH_TOKEN_LOCALSTORAGE_KEY);\n}\n\nexport function unpersistGithubAuthToken() {\n  window.localStorage.removeItem(GITHUB_AUTH_TOKEN_LOCALSTORAGE_KEY);\n}\n\nexport function persistGithubAuthToken(token) {\n  return window.localStorage.setItem(GITHUB_AUTH_TOKEN_LOCALSTORAGE_KEY, token);\n}\n","import SocketIO from 'socket.io-client';\nimport { UNLOGGER_HOST } from '../config';\n\nexport default class UnloggerClient {\n  constructor() {\n    this.socket = SocketIO(UNLOGGER_HOST);\n  }\n\n  seek(dongleId, baseTime, seekSeconds) {\n    this.socket.emit('seek', dongleId, baseTime, seekSeconds);\n  }\n}\n","import DBC from './models/can/dbc';\n\nconst CorollaDBC = new DBC(`\nCM_ \"AUTOGENERATED FILE, DO NOT EDIT\"\n\n\nCM_ \"Imported file _comma.dbc starts here\"\nBO_ 359 STEERING_IPAS_COMMA: 8 IPAS\n SG_ STATE : 7|4@0+ (1,0) [0|15] \"\" XXX\n SG_ ANGLE : 3|12@0- (1.5,0) [-510|510] \"deg\" XXX\n SG_ SET_ME_X10 : 23|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X00 : 31|8@0+ (1,0) [0|255] \"\" XXX\n SG_ DIRECTION_CMD : 38|2@0+ (1,0) [0|3] \"\" XXX\n SG_ SET_ME_X40 : 47|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X00 : 55|8@0+ (1,0) [0|255] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nCM BO_ STEERING_IPAS_COMMA \"Copy of msg 614 so we can do angle control while the Park Assist ECU is connected (Panda spoofs 614 with 359 on connector J70). Note that addresses 0x266 and 0x167 are checksum-invariant\";\n\n BO_ 512 GAS_COMMAND: 6 EON\n  SG_ GAS_COMMAND : 7|16@0+ (0.159375,-75.555) [0|1] \"\" INTERCEPTOR\n  SG_ GAS_COMMAND2 : 23|16@0+ (0.159375,-151.111) [0|1] \"\" INTERCEPTOR\n  SG_ ENABLE : 39|1@0+ (1,0) [0|1] \"\" INTERCEPTOR\n  SG_ COUNTER_PEDAL : 35|4@0+ (1,0) [0|15] \"\" INTERCEPTOR\n  SG_ CHECKSUM_PEDAL : 47|8@0+ (1,0) [0|255] \"\" INTERCEPTOR\n\n BO_ 513 GAS_SENSOR: 6 INTERCEPTOR\n  SG_ INTERCEPTOR_GAS : 7|16@0+ (0.159375,-75.555) [0|1] \"\" EON\n  SG_ INTERCEPTOR_GAS2 : 23|16@0+ (0.159375,-151.111) [0|1] \"\" EON\n  SG_ STATE : 39|4@0+ (1,0) [0|15] \"\" EON\n  SG_ COUNTER_PEDAL : 35|4@0+ (1,0) [0|15] \"\" EON\n  SG_ CHECKSUM_PEDAL : 47|8@0+ (1,0) [0|255] \"\" EON\n\n VAL_ 513 STATE 5 \"FAULT_TIMEOUT\" 4 \"FAULT_STARTUP\" 3 \"FAULT_SCE\" 2 \"FAULT_SEND\" 1 \"FAULT_BAD_CHECKSUM\" 0 \"NO_FAULT\" ;\n\n\nCM_ \"Imported file _toyota_2017.dbc starts here\"\nVERSION \"\"\n\n\nNS_ :\n    NS_DESC_\n    CM_\n    BA_DEF_\n    BA_\n    VAL_\n    CAT_DEF_\n    CAT_\n    FILTER\n    BA_DEF_DEF_\n    EV_DATA_\n    ENVVAR_DATA_\n    SGTYPE_\n    SGTYPE_VAL_\n    BA_DEF_SGTYPE_\n    BA_SGTYPE_\n    SIG_TYPE_REF_\n    VAL_TABLE_\n    SIG_GROUP_\n    SIG_VALTYPE_\n    SIGTYPE_VALTYPE_\n    BO_TX_BU_\n    BA_DEF_REL_\n    BA_REL_\n    BA_DEF_DEF_REL_\n    BU_SG_REL_\n    BU_EV_REL_\n    BU_BO_REL_\n    SG_MUL_VAL_\n\nBS_:\n\nBU_: XXX DSU HCU EPS IPAS CGW\n\nBO_ 36 KINEMATICS: 8 XXX\n SG_ ACCEL_Y : 33|10@0+ (0.03589,-18.375) [0|65535] \"m/s^2\" XXX\n SG_ YAW_RATE : 1|10@0+ (0.244,-125) [0|65535] \"deg/sec\" XXX\n SG_ STEERING_TORQUE : 17|10@0+ (1,-512) [0|65535] \"\" XXX\n\nBO_ 37 STEER_ANGLE_SENSOR: 8 XXX\n SG_ STEER_ANGLE : 3|12@0- (1.5,0) [-500|500] \"deg\" XXX\n SG_ STEER_FRACTION : 39|4@0- (0.1,0) [-0.7|0.7] \"deg\" XXX\n SG_ STEER_RATE : 35|12@0- (1,0) [-2000|2000] \"deg/s\" XXX\n\nBO_ 166 BRAKE: 8 XXX\n SG_ BRAKE_AMOUNT : 7|8@0+ (1,0) [0|255] \"\" XXX\n SG_ BRAKE_PEDAL : 23|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 170 WHEEL_SPEEDS: 8 XXX\n SG_ WHEEL_SPEED_FR : 7|16@0+ (0.01,-67.67) [0|250] \"kph\" XXX\n SG_ WHEEL_SPEED_FL : 23|16@0+ (0.01,-67.67) [0|250] \"kph\" XXX\n SG_ WHEEL_SPEED_RR : 39|16@0+ (0.01,-67.67) [0|250] \"kph\" XXX\n SG_ WHEEL_SPEED_RL : 55|16@0+ (0.01,-67.67) [0|250] \"kph\" XXX\n\nBO_ 180 SPEED: 8 XXX\n SG_ ENCODER : 39|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SPEED : 47|16@0+ (0.01,0) [0|250] \"kph\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 353 DSU_SPEED: 8 XXX\n SG_ FORWARD_SPEED : 15|16@0- (0.00390625,-30) [0|255] \"kph\" XXX\n\nBO_ 466 PCM_CRUISE: 8 XXX\n SG_ GAS_RELEASED : 4|1@0+ (1,0) [0|1] \"\" XXX\n SG_ CRUISE_ACTIVE : 5|1@0+ (1,0) [0|1] \"\" XXX\n SG_ STANDSTILL_ON : 12|1@0+ (1,0) [0|1] \"\" XXX\n SG_ ACCEL_NET : 23|16@0- (0.001,0) [-20|20] \"m/s2\" XXX\n SG_ CRUISE_STATE : 55|4@0+ (1,0) [0|15] \"\" XXX\n SG_ CANCEL_REQ : 49|1@1+ (1,0) [0|1] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 467 PCM_CRUISE_2: 8 XXX\n SG_ MAIN_ON : 15|1@0+ (1,0) [0|1] \"\" XXX\n SG_ LOW_SPEED_LOCKOUT : 14|2@0+ (1,0) [0|3] \"kph\" XXX\n SG_ SET_SPEED : 23|8@0+ (1,0) [0|255] \"kph\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 552 ACCELEROMETER: 8 XXX\n SG_ ACCEL_Z : 22|15@0- (1,0) [0|32767] \"\" XXX\n SG_ ACCEL_X : 6|15@0- (0.001,0) [-20|20] \"m/s2\" XXX\n\nBO_ 560 BRAKE_MODULE2: 7 XXX\n SG_ BRAKE_PRESSED : 26|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 614 STEERING_IPAS: 8 IPAS\n SG_ STATE : 7|4@0+ (1,0) [0|15] \"\" XXX\n SG_ ANGLE : 3|12@0- (1.5,0) [-510|510] \"deg\" XXX\n SG_ SET_ME_X10 : 23|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X00 : 31|8@0+ (1,0) [0|255] \"\" XXX\n SG_ DIRECTION_CMD : 38|2@0+ (1,0) [0|3] \"\" XXX\n SG_ SET_ME_X40 : 47|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X00_1 : 55|8@0+ (1,0) [0|255] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 643 PRE_COLLISION: 7 DSU\n SG_ COUNTER : 7|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X00 : 15|8@0+ (1,0) [0|255] \"\" XXX\n SG_ FORCE : 23|16@0- (2,0) [0|255] \"N\" XXX\n SG_ SET_ME_X002 : 33|8@0+ (1,0) [0|3] \"\" XXX\n SG_ BRAKE_STATUS : 39|3@0+ (1,0) [0|255] \"\" XXX\n SG_ STATE : 36|3@0+ (1,0) [0|255] \"\" XXX\n SG_ SET_ME_X003 : 40|1@0+ (1,0) [0|1] \"\" XXX\n SG_ PRECOLLISION_ACTIVE : 41|1@0+ (1,0) [0|255] \"\" XXX\n SG_ CHECKSUM : 55|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 740 STEERING_LKA: 5 XXX\n SG_ LKA_STATE : 31|8@0+ (1,0) [0|255] \"\" XXX\n SG_ STEER_REQUEST : 0|1@0+ (1,0) [0|1] \"\" XXX\n SG_ COUNTER : 6|6@0+ (1,0) [0|63] \"\" XXX\n SG_ SET_ME_1 : 7|1@0+ (1,0) [0|1] \"\" XXX\n SG_ STEER_TORQUE_CMD : 15|16@0- (1,0) [0|65535] \"\" XXX\n SG_ CHECKSUM : 39|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 742 LEAD_INFO: 8 DSU\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" HCU\n SG_ LEAD_REL_SPEED : 23|12@0- (0.025,0) [-100|100] \"m/s\" HCU\n SG_ LEAD_LONG_DIST : 7|13@0+ (0.05,0) [0|300] \"m\" HCU\n\nBO_ 835 ACC_CONTROL: 8 DSU\n SG_ ACCEL_CMD : 7|16@0- (0.001,0) [-20|20] \"m/s2\" HCU\n SG_ SET_ME_X01 : 23|2@0+ (1,0) [0|3] \"\" HCU\n SG_ DISTANCE : 20|1@0+ (1,0) [0|1] \"\" XXX\n SG_ MINI_CAR : 21|1@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X3 : 19|4@0+ (1,0) [0|15] \"\" XXX\n SG_ SET_ME_1 : 30|1@0+ (1,0) [0|1] \"\" HCU\n SG_ RELEASE_STANDSTILL : 31|1@0+ (1,0) [0|1] \"\" HCU\n SG_ CANCEL_REQ : 24|1@0+ (1,0) [0|1] \"\" HCU\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 836 PRE_COLLISION_2: 8 DSU\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 869 DSU_CRUISE : 7 DSU\n SG_ RES_BTN : 3|1@0+ (1,0) [0|0] \"\" XXX\n SG_ SET_BTN : 2|1@0+ (1,0) [0|0] \"\" XXX\n SG_ CANCEL_BTN : 1|1@0+ (1,0) [0|0] \"\" XXX\n SG_ MAIN_ON : 0|1@0+ (1,0) [0|0] \"\" XXX\n SG_ SET_SPEED : 15|8@0+ (1,0) [0|0] \"km/h\" XXX\n SG_ CRUISE_REQUEST : 31|8@0+ (100,-12800) [0|0] \"N\" XXX\n SG_ LEAD_DISTANCE : 39|8@0+ (1,0) [0|0] \"m\" XXX\n\nBO_ 921 PCM_CRUISE_SM: 8 XXX\n SG_ MAIN_ON : 4|1@0+ (1,0) [0|1] \"\" XXX\n SG_ CRUISE_CONTROL_STATE : 11|4@0+ (1,0) [0|15] \"\" XXX\n SG_ DISTANCE_LINES : 14|2@0+ (1,0) [0|3] \"\" XXX\n SG_ UI_SET_SPEED : 31|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 951 ESP_CONTROL: 8 ESP\n SG_ TC_DISABLED : 13|1@0+ (1,0) [0|1] \"\" XXX\n SG_ VSC_DISABLED : 12|2@0+ (1,0) [0|1] \"\" XXX\n SG_ BRAKE_LIGHTS_ACC : 18|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 1041 ACC_HUD: 8 DSU\n SG_ FCW : 4|1@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X20 : 15|8@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X10 : 39|8@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X80 : 55|8@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 1042 LKAS_HUD: 8 XXX\n SG_ BARRIERS : 1|2@0+ (1,0) [0|3] \"\" XXX\n SG_ RIGHT_LINE : 3|2@0+ (1,0) [0|3] \"\" XXX\n SG_ LEFT_LINE : 5|2@0+ (1,0) [0|3] \"\" XXX\n SG_ SET_ME_X01 : 7|2@0+ (1,0) [0|3] \"\" XXX\n SG_ SET_ME_X01_2 : 11|2@0+ (1,0) [0|3] \"\" XXX\n SG_ LDA_ALERT : 9|2@0+ (1,0) [0|3] \"\" XXX\n SG_ TWO_BEEPS : 12|1@0+ (1,0) [0|1] \"\" XXX\n SG_ ADJUSTING_CAMERA : 13|1@0+ (1,0) [0|1] \"\" XXX\n SG_ LDA_MALFUNCTION : 15|1@0+ (1,0) [0|1] \"\" XXX\n SG_ REPEATED_BEEPS : 32|1@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X0C : 23|8@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X2C : 47|8@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X38 : 55|8@0+ (1,0) [0|1] \"\" XXX\n SG_ SET_ME_X02 : 63|8@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 1043 TIME : 8 CGW\n SG_ YEAR : 7|8@0+ (1,0) [0|0] \"year\" XXX\n SG_ MONTH : 15|8@0+ (1,0) [0|0] \"month\" XXX\n SG_ DAY : 23|8@0+ (1,0) [0|0] \"day\" XXX\n SG_ HOUR : 31|8@0+ (1,0) [0|0] \"hour\" XXX\n SG_ MINUTE : 39|8@0+ (1,0) [0|0] \"minute\" XXX\n SG_ GMT_DIFF : 55|1@0+ (1,0) [0|0] \"\" XXX\n SG_ GMTDIFF_HOURS : 54|4@0+ (1,0) [0|0] \"hours\" XXX\n SG_ GMTDIFF_MINUTES : 50|6@0+ (1,0) [0|0] \"minutes\" XXX\n SG_ SUMMER : 60|1@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1408 VIN_PART_1: 8 CGW\n SG_ VIN_1 : 7|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_2 : 15|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_3 : 23|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_4 : 31|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_5 : 39|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_6 : 47|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_7 : 55|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_8 : 63|8@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1409 VIN_PART_2: 8 CGW\n SG_ VIN_9 : 7|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_10 : 15|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_11 : 23|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_12 : 31|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_13 : 39|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_14 : 47|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_15 : 55|8@0+ (1,0) [0|0] \"\" XXX\n SG_ VIN_16 : 63|8@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1410 VIN_PART_3: 8 CGW\n SG_ VIN_17 : 7|8@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1553 UI_SETTING: 8 XXX\n SG_ UNITS : 26|2@0+ (1,0) [0|3] \"\" XXX\n\nBO_ 1556 STEERING_LEVERS: 8 XXX\n SG_ TURN_SIGNALS : 29|2@0+ (1,0) [0|3] \"\" XXX\n\nBO_ 1568 SEATS_DOORS: 8 XXX\n SG_ SEATBELT_DRIVER_UNLATCHED : 62|1@0+ (1,0) [0|1] \"\" XXX\n SG_ DOOR_OPEN_FL : 45|1@0+ (1,0) [0|1] \"\" XXX\n SG_ DOOR_OPEN_RL : 42|1@0+ (1,0) [0|1] \"\" XXX\n SG_ DOOR_OPEN_RR : 43|1@0+ (1,0) [0|1] \"\" XXX\n SG_ DOOR_OPEN_FR : 44|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 1570 LIGHT_STALK: 8 SCM\n SG_ AUTO_HIGH_BEAM : 37|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 1161 RSA1: 8 FCM\n SG_ TSGN1 : 7|8@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNGRY1 : 12|3@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNHLT1 : 9|2@0+ (1,0) [0|0] \"\" XXX\n SG_ SPDVAL1 : 23|8@0+ (1,0) [0|0] \"kph\" XXX\n SG_ SPLSGN1 : 31|4@0+ (1,0) [0|0] \"\" XXX\n SG_ SPLSGN2 : 27|4@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGN2 : 39|8@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNGRY2 : 44|3@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNHLT2 : 41|2@0+ (1,0) [0|0] \"\" XXX\n SG_ SPDVAL2 : 55|8@0+ (1,0) [0|0] \"\" XXX\n SG_ BZRRQ_P : 63|2@0+ (1,0) [0|0] \"\" XXX\n SG_ BZRRQ_A : 61|2@0+ (1,0) [0|0] \"\" XXX\n SG_ SYNCID1 : 59|4@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1162 RSA2: 8 FCM\n SG_ TSGN3 : 7|8@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNGRY3 : 12|3@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNHLT3 : 9|2@0+ (1,0) [0|0] \"\" XXX\n SG_ SPLSGN3 : 31|4@0+ (1,0) [0|0] \"\" XXX\n SG_ SPLSGN4 : 27|4@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGN4 : 39|8@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNGRY4 : 44|3@0+ (1,0) [0|0] \"\" XXX\n SG_ TSGNHLT4 : 41|2@0+ (1,0) [0|0] \"\" XXX\n SG_ DPSGNREQ : 54|1@0+ (1,0) [0|0] \"\" XXX\n SG_ SGNNUMP : 53|3@0+ (1,0) [0|0] \"\" XXX\n SG_ SGNNUMA : 50|3@0+ (1,0) [0|0] \"\" XXX\n SG_ SPDUNT : 63|2@0+ (1,0) [0|0] \"\" XXX\n SG_ TSRWMSG : 61|2@0+ (1,0) [0|0] \"\" XXX\n SG_ SYNCID2 : 59|4@0+ (1,0) [0|0] \"\" XXX\n\nBO_ 1163 RSA3: 8 FCM\n SG_ TSREQPD : 7|1@0+ (1,0) [0|0] \"\" XXX\n SG_ TSRMSW : 6|1@0+ (1,0) [0|0] \"\" XXX\n SG_ OTSGNNTM : 5|2@0+ (1,0) [0|0] \"\" XXX\n SG_ NTLVLSPD : 3|2@0+ (1,0) [0|0] \"\" XXX\n SG_ OVSPNTM : 1|2@0+ (1,0) [0|0] \"\" XXX\n SG_ OVSPVALL : 11|4@0+ (1,-5) [0|0] \"\" XXX\n SG_ OVSPVALM : 19|4@0+ (1,-5) [0|0] \"\" XXX\n SG_ OVSPVALH : 27|4@0+ (1,-5) [0|0] \"\" XXX\n SG_ TSRSPU : 33|2@0+ (1,0) [0|0] \"\" XXX\n\nCM_ SG_ 36 ACCEL_Y \"unit is tbd\";\nCM_ SG_ 36 YAW_RATE \"verify\";\nCM_ SG_ 36 STEERING_TORQUE \"does not seem the steer torque, tbd\";\nCM_ SG_ 37 STEER_FRACTION \"1/15th of the signal STEER_ANGLE, which is 1.5 deg; note that 0x8 is never set\";\nCM_ SG_ 37 STEER_RATE \"factor is tbd\";\nCM_ SG_ 466 ACCEL_NET \"net acceleration produced by the system, given ACCEL_CMD, road grade and other factors\";\nCM_ SG_ 467 SET_SPEED \"43 kph are shown as 28mph, so conversion isnt perfect\";\nCM_ SG_ 467 LOW_SPEED_LOCKOUT \"in low speed lockout, system would always disengage below 28mph\";\nCM_ SG_ 560 BRAKE_PRESSED \"another brake pressed?\";\nCM_ SG_ 608 STEER_TORQUE_DRIVER \"driver torque\";\nCM_ SG_ 608 STEER_OVERRIDE \"set when driver torque exceeds a certain value\";\nCM_ SG_ 614 ANGLE \"set to measured angle when ipas control isn't active\";\nCM_ SG_ 643 COUNTER \"only used on cars that use this msg for cruise control\";\nCM_ SG_ 643 BRAKE_STATUS \"only used on cars that use this msg for cruise control\";\nCM_ SG_ 643 PRECOLLISION_ACTIVE \"set 0.5s before any braking\";\nCM_ SG_ 921 UI_SET_SPEED \"set speed shown in UI with user set unit\";\nCM_ SG_ 951 BRAKE_LIGHTS_ACC \"brake lights when ACC commands decel\";\nCM_ SG_ 1042 SET_ME_1 \"unclear what this is, but it's always 1 in drive traces\";\nCM_ SG_ 1042 REPEATED_BEEPS \"recommended for fcw and other important alerts\";\nCM_ SG_ 1161 SPDVAL1 \"Numbers 0-199 is displayed, 200-254 displays circle without number and 255 is for no limit.\";\nCM_ SG_ 1161 SYNCID1 \"counter from 1 to f at 1 Hz\";\nCM_ SG_ 1161 SPDVAL2 \"conditional speed value 70\"\nCM_ SG_ 1162 SGNNUMP \"1 if SPDVAL1 is set, otherwise 0\";\nCM_ SG_ 1162 SYNCID2 \"counter from 1 to f at 1 Hz\";\nCM_ SG_ 1163 TSREQPD \"always 1\";\nCM_ SG_ 1163 TSRMSW \"always 1\";\nCM_ SG_ 1163 OTSGNNTM \"always 3\";\nCM_ SG_ 1163 NTLVLSPD \"always 3\";\nCM_ SG_ 1163 OVSPNTM \"always 3\";\nCM_ SG_ 1163 OVSPVALL \"-5 at start then 2 after 2 seconds\";\nCM_ SG_ 1163 OVSPVALM \"-5 at start then 5 after 2 seconds\";\nCM_ SG_ 1163 OVSPVALH \"-5 at start then 10 after 2 seconds\";\nCM_ SG_ 1163 TSRSPU \"always 1\";\n\nVAL_ 466 CRUISE_STATE 8 \"active\" 7 \"standstill\" 1 \"off\";\nVAL_ 467 LOW_SPEED_LOCKOUT 2 \"low speed locked\" 1 \"ok\";\nVAL_ 614 STATE 3 \"enabled\" 1 \"disabled\";\nVAL_ 614 DIRECTION_CMD 3 \"right\" 2 \"center\" 1 \"left\";\nVAL_ 643 STATE 0 \"normal\" 1 \"adaptive_cruise_control\" 3 \"emergency_braking\";\nVAL_ 921 CRUISE_CONTROL_STATE 2 \"disabled\" 11 \"hold\" 10 \"hold_waiting_user_cmd\" 6 \"enabled\" 5 \"faulted\";\nVAL_ 1042 LDA_ALERT 3 \"hold with continuous beep\" 2 \"LDA unavailable\" 1 \"hold\" 0 \"none\";\nVAL_ 1042 BARRIERS 3 \"both\" 2 \"right\" 1 \"left\" 0 \"none\";\nVAL_ 1042 RIGHT_LINE 3 \"orange\" 2 \"faded\" 1 \"solid\" 0 \"none\";\nVAL_ 1042 LEFT_LINE 3 \"orange\" 2 \"faded\" 1 \"solid\" 0 \"none\";\nVAL_ 1553 UNITS 1 \"km\" 2 \"miles\";\nVAL_ 1556 TURN_SIGNALS 3 \"none\" 2 \"right\" 1 \"left\";\nVAL_ 1161 TSGN1 1 \"speed sign\" 0 \"none\";\nVAL_ 1161 TSGN2 1 \"speed sign\" 0 \"none\";\nVAL_ 1161 SPLSGN2 15 \"conditional blank\" 4 \"wet road\" 5 \"rain\" 0 \"none\";\nVAL_ 1162 TSGN3 0 \"none\" 1 \"speed sign\" 2 \"0 unlimited\" 7 \"unlimited\" 16 \"highway\" 17 \"no highway\" 18 \"motorway\" 19 \"no motorway\" 20 \"in city\" 21 \"outside city\" 22 \"pedestrian area\" 23 \"no pedestrian area\" 65 \"no overtaking left\" 66 \"no overtaking right\" 67 \"overtaking allowed again\" 129 \"no entry\";\nVAL_ 1162 SPLSGN3 15 \"conditional blank\" 4 \"wet road\" 5 \"rain\" 0 \"none\";\n\n\nCM_ \"CHFFR_METRIC 37 STEER_ANGLE STEER_ANGLE 0.36 180\";\n\nCM_ \"toyota_nodsu_pt.dbc starts here\"\n\n\n\nBO_ 401 STEERING_LTA: 8 XXX\n SG_ COUNTER : 7|8@0+ (1,0) [0|255] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SETME_X3 : 29|2@0+ (1,0) [0|3] \"\" XXX\n SG_ PERCENTAGE : 39|8@0+ (1,0) [0|255] \"\" XXX\n SG_ SETME_X64 : 47|8@0+ (1,0) [0|255] \"\" XXX\n SG_ ANGLE : 55|8@0- (0.5,0) [0|255] \"\" XXX\n SG_ STEER_ANGLE_CMD : 15|16@0- (0.0573,0) [-540|540] \"\" XXX\n SG_ STEER_REQUEST : 25|1@0+ (1,0) [0|1] \"\" XXX\n SG_ BIT : 30|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 550 BRAKE_MODULE: 8 XXX\n SG_ BRAKE_PRESSURE : 0|9@0+ (1,0) [0|511] \"\" XXX\n SG_ BRAKE_POSITION : 16|9@0+ (1,0) [0|511] \"\" XXX\n SG_ BRAKE_PRESSED : 37|1@0+ (1,0) [0|1] \"\" XXX\n\nBO_ 705 GAS_PEDAL: 8 XXX\n SG_ GAS_RELEASED : 3|1@0+ (1,0) [0|1] \"\" XXX\n SG_ GAS_PEDAL : 55|8@0+ (0.005,0) [0|1] \"\" XXX\n\nBO_ 608 STEER_TORQUE_SENSOR: 8 XXX\n SG_ STEER_TORQUE_EPS : 47|16@0- (0.73,0) [-20000|20000] \"\" XXX\n SG_ STEER_TORQUE_DRIVER : 15|16@0- (1,0) [-32768|32767] \"\" XXX\n SG_ STEER_OVERRIDE : 0|1@0+ (1,0) [0|1] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n SG_ STEER_ANGLE : 31|16@0- (0.0573,0) [-500|500] \"\" XXX\n\nBO_ 610 EPS_STATUS: 8 EPS\n SG_ IPAS_STATE : 3|4@0+ (1,0) [0|15] \"\" XXX\n SG_ LKA_STATE : 31|7@0+ (1,0) [0|127] \"\" XXX\n SG_ TYPE : 24|1@0+ (1,0) [0|1] \"\" XXX\n SG_ CHECKSUM : 63|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 956 GEAR_PACKET: 8 XXX\n SG_ SPORT_ON : 2|1@0+ (1,0) [0|1] \"\" XXX\n SG_ GEAR : 13|6@0+ (1,0) [0|63] \"\" XXX\n SG_ ECON_ON : 40|1@0+ (1,0) [0|1] \"\" XXX\n\nCM_ SG_ 548 BRAKE_PRESSURE \"seems prop to pedal force\";\nCM_ SG_ 548 BRAKE_POSITION \"seems proportional to pedal displacement, unclear the max value of 0x1c8\";\nCM_ SG_ 610 TYPE \"seems 1 on Corolla, 0 on all others\";\nVAL_ 610 IPAS_STATE 5 \"override\" 3 \"enabled\" 1 \"disabled\";\nVAL_ 610 LKA_STATE 25 \"temporary_fault\" 9 \"temporary_fault2\" 5 \"active\" 1 \"standby\";\nVAL_ 956 GEAR 0 \"D\" 1 \"S\" 8 \"N\" 16 \"R\" 32 \"P\";\nVAL_ 956 SPORT_ON 0 \"off\" 1 \"on\";\nVAL_ 956 ECON_ON 0 \"off\" 1 \"on\";\n`);\n\nexport default CorollaDBC;\n","import Moment from 'moment';\nimport CorollaDBC from './corolla-dbc';\n\nexport const demoLogUrls = [\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/0/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=/fvtLdQsTa88YievdkiI4TEvU4BC5SFo9PtyWekFoC4%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/1/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Cig8fAw%2Bs7z50Z/I3LgeI%2BdfRwWKhj6e3H2r9OyrVIo%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/2/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=tyACiZZHRdCuSAio0s2tSUvhHAnZmmnzGJ3402dRRq8%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/3/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=hLL5IlwfZA90zm29HA6kYhIJJBfveDBF3Eww/icXJnk%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/4/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=o5UdXzdyiLojuOEgbCpqSg3c/jL5fhaDmz24QmwinZI%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/5/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=3L40MRvtFHVWXo4h6R2cJaEXv8Z4p4lDfq6AOJvtLLQ%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/6/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=3BLBoSUWOFtyybD9UV/NTgPiQVJ6UrzkudQjos5pbrA%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/7/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=LhI%2BkagPX51AinND66lkMUrGqR210Rm5jbK6lRYkkZY%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/8/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=BXLqAQ5NOUcChucohHQaUjMeePVc61O/Eve/OZ/cC84%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/9/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Xa1b6n2gh05RZW6Y71DL9EkWI5LvxpvHKl1nAhzJ1eQ%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/10/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=qj/0w0zkQk7qmIDgJh0V2y3XUpbhuEWwvOhpjesFQfk%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/11/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=tsNV5s/YeI30zxSoW9NeWJd%2Bu7m5U7V9tFoU9K01nCg%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/12/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=%2B4OHrDya8vZ4BDkVNrdyjzT2Zxt2hzzjKOnDgsoYKcM%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/13/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=wEPWW3B7CNczFwrIEy9VpT2BXcmkqOr2xPZVQCBqUQw%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/14/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=BJLgPEvypo3%2BsnQIERym3pjZWdVW8J1cb6seIhi6zX8%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/15/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=LHTVIOiVuErQd03IOnBDmzL/LHFlA3eXJ5QHj99cYt8%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/16/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=FgarmpbWZTEoRUca3y1x05/nupL%2BxE91DJ7ShMt/OaQ%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/17/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=btuc3ls4tsGUx9k9IwHFtn/gAUz5Iz2tV/0gBFJDGSA%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/18/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=z7x/7kHqTRt5Q25yTzJ8cHyf4ClCtZhI9nm94ccPXPE%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/19/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=xvhBdZkHAgntood8oWkRxqfV0JB8SPsRsoj0MC7i5BE%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/20/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=j55Pa0En2VytmaJZopQ9ndrBwaONKa9FTDmucaEBmpo%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/21/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ki6PX0LQJPeFp8Ya9ixINAHB7PKQZJLkr3A3dYROq%2BQ%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/22/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=x/pjh8xBhcA3hHEO2yS48ZMhb4N3AFRoXuhjjKdTgSw%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/23/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=j6WOt4YxB6yaSDu518kax4i8KsNY6FRS090ior9CEVM%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/24/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ewm3iHadYS6m4YNsp2aSQJdzcF4Y8lXJOoBcLtr2Z2c%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/25/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=V6aKIGP1WMTqs26CotySE3NIgiiYnM9z6a9G%2BrP2xg0%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/26/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=QC/rxXYBc9FEuXmEMqSJ0n0LESt7fNxjZCQxuPsSM4g%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/27/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=pT7R7/qEuJtKjAMi/Q5f3Yxpyd8q7Y6Lkt0ek42BvcA%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/28/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=y30LeXRnaqeuL73Z%2BayYF//BQFf6jo150rJeQJf9jZY%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/29/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=EK4MUOifQ5zoFLDcpA25MVEegnR6RC%2BKCwZPfiX5XWg%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/30/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=nBT3st3Cq7AFme1y%2BWKpNZkfUEyUFwFnNe%2B4nHQ0GW4%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/31/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=sAiIpFgQswqXFXKa0KGyIWm7qnS57WWhhU4M6Ov2yT4%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/32/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=GR44AbVMDXxBz2rlrEHB/IMPFGz6rS%2B05SMXfhwzH24%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/33/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=GYHusie3ZRhSYXk2%2B95oR9GL6B0aC8rVQZFckxvzMDs%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/34/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=fPqX/oNjZVIYTW1jFsSUPexHsPnEWKxif/LkLBa6ljE%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/35/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Rk/2tVs1YkruJa0zZ6wFwhIoa3rvuon42Tav1IneMDE%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/36/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Cb%2BeAe9Lk7mgA6lFwn6xVWQsGA%2BGU1e0chasgkloq1U%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/37/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=tEdDoKhQPDnw4YG3cI84KnXzpB%2BVKFdT/8wBKywR0V4%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/38/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=5HbEozIQ0SvXlHjCAAwJppS0txlJ9F1vH2sIFTbQOCs%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/39/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=gFaP%2Bf30gbXwAR7OzrkMZH0UXERc2XJ%2Bz3WtknxuUOc%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/40/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=nZ%2BpYsHEBPknqm6tWL41JMK70SHZ5K7nARfB1dlabDA%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/41/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Div43NLDuYAk82ybaDn%2BTyIiGi3z%2BzTuY/YYkeKOMr0%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/42/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Zy3L8GoM8nHSm78MGZ2le38WgBdfIg7sIe1baVNLqWw%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/43/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ZD%2BfVt9%2BNHQoq7dcluKOc7u12bS/Xe76ZUNAwEwUp80%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/44/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=S3ovlpnNgx3ck2ojS66e9W3pP1P0jBmeBqM6COU/oUk%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/45/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=9sXLZbT4V3ZjDOoCR5onleHGN%2BcN2hOGloS1XD7Ux7w%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/46/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=VBBM/u9ppfgAjKKlLNoIuPzjGA/NyYBj60Iq29/0cqI%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/47/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=cowIDedBd5FgmzJQU4HyzTqQ3YkB7VD4dzCRqfB7fSg%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/48/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Ak9gFanO0uktYk2BTnD7F5paNh6hjFCPs5EgFeAlDHw%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/49/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=nmfW0obs6RS59L6fcsspXJLhNUQvOdPw9y2UsC7M4Do%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/50/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=pO4Ihx4MDj/jxoc56JXyopYRdbiw5y34ALNwhJCsUCY%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/51/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=66hIZXVC6Ktalt/kLF4HKsyg5M3I04aQM9OtK189gM0%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/52/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=EFFgkbcAeLCOmAja8MD3eOeSMVf23kOJhwS/4xFlDLE%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/53/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=jljQ2bab5Dj2r7MJFgjEyVZjGNbKnrXltElb9mWDkLs%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/54/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Okmy/R7BJGfv%2BqPu8mSkQG7nfltxFgqzd466wkPUWSk%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/55/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=6llAFGO6oLem/S80xamQK0rCVFDLII%2Burd5h5o3wDyU%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/56/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=00kmXCs2Tj%2BpgRc2CTnSZI3zr7juvoFc93BAcy30j9w%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/57/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=/yvr6D4bP9ymBF23d2syubK6kN573KmfXD1Y7wOjUwI%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/58/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=WjhuL/VTwY4aM5ozM6McY1m4LdTk/FE93OiiYkU8a9o%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/59/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=jo3pTRHRi6gG1PmuNq6ZDGPbCiyAx6q528IOddTY3lA%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/60/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=sMM6tFKjKIV4wWdT14lMljss52LdBdxBYTngVTV65uM%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/61/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=uv8xXzX2UDBSCeblRiJvalYV3zMszmbos8ae7E94%2BcM%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/62/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=%2BqZ6vjp5guoHgHTxrz4mzCBJqGUNX22voQkeweKIky0%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/63/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=w484G4TDaug7oxEYHK52Wr8XEjoKVqGvvE3omI8/N9U%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/64/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=JeiwXfmW3JrZRKi6QoWyWbVORh0iquoDGmD4736ZGr0%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/65/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=MU6UYvXfscK7a/ldG2s9W1zCZDv%2BBM7I3kRU0pwXzaQ%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/66/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Ldmqd/otw6%2BZ7pNDUc%2BheLHJmtvPZ4Uv9wpdqaAhHxc%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/67/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=NWR3NyoaKHfRbGbwNqlp2H1TmCvf9Txr4IhX6zRxJnA%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/68/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=KF%2BQFMG%2Bv9ck9LqoSghhDDEefvrDUTphZwv8zoOYJFk%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/69/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=wiy4lM1z9OlaRc7vsBJwQ0D8rrp3g5VTiX%2BArv2XP6w%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/70/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=2eci8Qzsk9iAalSd50k2y44QvZnjLv6j0/M%2BuB9Q8%2Bw%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/71/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Ls2faNMR4X3mC6HGxBXIsqLhz18EauLCMht2PV8d9A8%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/72/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=1Y2QDrLXGkP0gDdAPvaFvCQNDaSGQSEgT01pOt94iUY%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/73/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=5yBl7/n7Dzka8pwLPhfp%2B7tnfFB5a2TTIgM/LEHyBrU%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/74/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=yn5hUBprfc5FIVw/%2B1wAf5N80Yr4eD7q7aNXIEFq8aE%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/75/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=%2BoJgI7jJTFoMudlTdLafVjMGg1KOiH091gTyXpMlegw%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/76/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=VuDl1ZERcJizsV91nItUmpMdvvjGsEXDFovjTy7hoxc%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/77/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=T9Go1GMdmqmsM9gQH7h79SSBsHSwN2sz43KUX4d2%2BHM%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/78/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=g90uP/nzmV8wn0E3/ryMPNfUVdZwSpcUG3T1wdYiCts%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/79/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=fopHZLeT5YDj1EU3USHC9%2B9oW3vKsV9dJIZ8luxpiCI%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/80/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=ekD4uImNbv2CQHpGyWI7c25Wl8y1%2B5lVHHgVUfXSysU%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/81/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=aVNq/QAD0pwXFi4QGTDiuRpKHtdJ2nNtKAddiAUJAZg%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/82/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=1oLY0n6wSaUJgyLQObextUmruPnJ%2BsE%2BFwdGjXuvnUE%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/83/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=NziVpng1gl/RqUI7T3b9C6cxln4ETBMoI%2BLKcsJePiQ%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/84/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=IQ2xbu5JMjEwVGKfvLVrUTtVTV26yKVyJ5C23DHLuVI%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/85/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=nHA1/IxkoO2CI1rAW1%2BokpGY6pwaI%2BT1YZ/mDPOMBIc%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/86/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=4gmRBl2oPKSmlKM%2B2d27f05TeJYYyNryQRlLJ8dwChM%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/87/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=tJ8ZO4gGlxE1852i2S2Zm9hw0aB1DaMqCPAZ24GGLvY%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/88/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Q6855nKOvpuN6/lNfLPKwkds22wsh9xtfuuyEk2xhsg%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/89/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=/H8PD8P4bpdC/pNCVWfztDY18uvw9Ft16ERLQ6Ve7FA%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/90/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=xWBoi6YU3L%2B2i07S48NCeGp6%2Bd1gf6NvtbmO8R3iG5o%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/91/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=edPknEDQJO/XEM2VA4NCSMB9I%2B%2BSLK/aIyX44FXT534%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/92/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=CVDhsnDC1D1QGs5T1PIUJU/rWCoeVi/0kSmR9zzmL58%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/93/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=TIop3tUX3OyW68zvSm6qYkPu0qXsHMiZ8bYUK1fK4RA%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/94/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=8gjK7CJcopIr0rBEW9bphaclLH8BMbbcY1y5kPjxvWo%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/95/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=2OoOhdWf4OJySl2aAV1AF3yh7zA6jPDXoMCMlDspR9c%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/96/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=TCkAydjyLmlMWexfF2K9S5KQ5/LwBB31ip5oAmqgGN4%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/97/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=dUclHGhHe%2B5XOmQq2xUwLFA1zA%2BD4BYpP2YB1PXiSzU%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/98/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=jR6Oz88WH%2BtCVpuKiUrefqm6LFMW1TTzNjyIoqHNQe0%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/99/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=QOPrvmJzULpQv7PiiQcW8uqpiQrP%2B4TGKT7I0NX32uk%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/100/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=df9gPGlMtoLst8ZUnCyC8KKT001U2zkGSdqLYkgzddI%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/101/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=9/EhIB2ruqhve7yAbDBt6KO9Nbk31jaT5YZC6aycCo0%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/102/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=5wcUIxYIMkRynzTgGyrZFZb1%2B2bKpscAcWj%2B4fK59mw%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/103/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=7I/4hoBQP82F7Fn4qEVOoKpwqf6/iZBBNhLfvcj7jYE%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/104/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=HrQqpCt3IzxAG0xDgQMxDihfIzihe4tVla4VbO/vgUs%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/105/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=yVF9AV/41xmBbQonhik7%2BpQhYDjJhU6zhrCiHf8u65M%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/106/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=du110tpQqWittn%2BwBS7tRRSxw976HKTHDIBJCNbcL9g%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/107/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Z6EjMU8Ea9BZ50BIQ1Xgd8lPiW5L/ThFggzXwyN2d5E%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/108/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=S0FCtnUakuZzZMxkfldnE4%2BFS3h5l41quI83JpehSqA%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/109/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Lq7a5NuoECIcZlP5VJOFkDzxFgMZyLNvWJStt06Lx5I%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/110/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=jnNa%2BIKGK%2BENbbnmMTIbXadRKyKQ4RuF3T0gXtKfC9M%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/111/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Qm18GSGotP4ttlMUBfimW58GuF/akiWw%2BKeALlUxUiw%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/112/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=z6FjnW3DECGZ1qtoLVjOlR0D7ZXY4nYfS8G0x0Iz5wg%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/113/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=oBI9GkIsyEpgpdn8DH5s6OzF/RFRIhCZcboIvGBdm%2B0%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/114/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=czHLxO7PgRH8qH6VcVpLDp/aTs12Cgoz8QeYJNm%2BmHI%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/115/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=fv2RXCFswwFTAy01ViFHREuT9grAzzvEUqTdHMTRHQU%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/116/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=fPJT6wl3vF37a%2BX7Jm5WUWOrUwmP2BjG8wo9lhyUmkU%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/117/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=Jdz/u/xvA9rUtdG/vbBeA/lu4yYms8FGvRrHy0p7G5s%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/118/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=dhOWWa2sw/eQfCKssFww%2BjkRfOXtQjTZkXoTpsncbvU%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/119/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=9i11uLthPBAaGAwPIJ/M0xpBlEOED/zyMEICQOfcV4Y%3D\",\n  \"https://commadata2.blob.core.windows.net/commadata2/3533c53bb29502d1/2019-12-10--01-13-27/120/rlog.bz2?se=2024-12-09T22%3A23%3A53Z&sp=r&sv=2019-02-02&sr=b&rscd=attachment%3B%20filename%3Drlog.bz2&sig=plxDqra1AGY6bWbSLp5Xa%2B2P/qlL5blyNqVaZ2o8NOE%3D\"\n];\n\nexport const demoProps = {\n  max: demoLogUrls.length,\n  name: '2019-12-10--01-13-27',\n  dongleId: '3533c53bb29502d1',\n  dbc: CorollaDBC,\n  isDemo: true,\n  dbcFilename: 'toyota_nodsu_pt_generated.dbc',\n};\n\nexport const demoRoute = {\n  fullname: '3533c53bb29502d1|2019-12-10--01-13-27',\n  proclog: demoProps.max,\n  start_time: Moment(demoProps.name, 'YYYY-MM-DD--H-m-s'),\n  url: 'https://chffrprivate.blob.core.windows.net/chffrprivate3-permanent/v2/3533c53bb29502d1/02505e68c591e4160b38210fa5f8d44a_2019-12-10--01-13-27'\n};\n\n","import React, { Component } from 'react';\nimport Moment from 'moment';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport { createWriteStream } from 'streamsaver';\nimport Panda from '@commaai/pandajs';\nimport CommaAuth from '@commaai/my-comma-auth';\nimport { raw as RawDataApi, drives as DrivesApi } from '@commaai/comma-api';\nimport { timeout, interval } from 'thyming';\nimport {\n  USE_UNLOGGER,\n  PART_SEGMENT_LENGTH,\n  STREAMING_WINDOW,\n  GITHUB_AUTH_TOKEN_KEY\n} from './config';\nimport * as GithubAuth from './api/github-auth';\n\nimport DBC from './models/can/dbc';\nimport Meta from './components/Meta';\nimport Explorer from './components/Explorer';\nimport OnboardingModal from './components/Modals/OnboardingModal';\nimport SaveDbcModal from './components/SaveDbcModal';\nimport LoadDbcModal from './components/LoadDbcModal';\nimport debounce from './utils/debounce';\nimport EditMessageModal from './components/EditMessageModal';\nimport LoadingBar from './components/LoadingBar';\nimport {\n  persistDbc,\n  fetchPersistedDbc,\n  unpersistGithubAuthToken\n} from './api/localstorage';\nimport OpenDbc from './api/OpenDbc';\nimport UnloggerClient from './api/unlogger';\nimport * as ObjectUtils from './utils/object';\nimport { hash } from './utils/string';\nimport { modifyQueryParameters } from './utils/url';\nimport DbcUtils from './utils/dbc';\nimport { demoLogUrls, demoRoute } from './demo';\n\nconst RLogDownloader = require('./workers/rlog-downloader.worker');\nconst LogCSVDownloader = require('./workers/dbc-csv-downloader.worker');\nconst MessageParser = require('./workers/message-parser.worker');\nconst CanStreamerWorker = require('./workers/CanStreamerWorker.worker');\n\nconst dataCache = {};\n\n\nexport default class CanExplorer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messages: {},\n      thumbnails: [],\n      selectedMessages: [],\n      route: null,\n      canFrameOffset: 0,\n      routeInitTime: 0,\n      firstFrameTime: 0,\n      firstCanTime: null,\n      lastBusTime: null,\n      selectedMessage: null,\n      currentParts: [0, 0],\n      currentPart: 0,\n      currentWorkers: {},\n      loadingParts: [],\n      loadedParts: [],\n      showOnboarding: false,\n      showLoadDbc: false,\n      showSaveDbc: false,\n      showEditMessageModal: false,\n      editMessageModalMessage: null,\n      dbc: props.dbc ? props.dbc : new DBC(),\n      dbcText: props.dbc ? props.dbc.text() : new DBC().text(),\n      dbcFilename: props.dbcFilename ? props.dbcFilename : 'New_DBC',\n      dbcLastSaved: null,\n      seekTime: props.seekTime || 0,\n      seekIndex: 0,\n      maxByteStateChangeCount: 0,\n      isLoading: true,\n      partsLoaded: 0,\n      spawnWorkerHash: null,\n      attemptingPandaConnection: false,\n      pandaNoDeviceSelected: false,\n      live: false,\n      isGithubAuthenticated:\n        props.githubAuthToken !== null && props.githubAuthToken !== undefined,\n      shareUrl: null,\n      logUrls: null\n    };\n\n    this.openDbcClient = new OpenDbc(props.githubAuthToken);\n    if (USE_UNLOGGER) {\n      this.unloggerClient = new UnloggerClient();\n    }\n\n    this.showOnboarding = this.showOnboarding.bind(this);\n    this.hideOnboarding = this.hideOnboarding.bind(this);\n    this.showLoadDbc = this.showLoadDbc.bind(this);\n    this.hideLoadDbc = this.hideLoadDbc.bind(this);\n    this.showSaveDbc = this.showSaveDbc.bind(this);\n    this.hideSaveDbc = this.hideSaveDbc.bind(this);\n    this.showEditMessageModal = this.showEditMessageModal.bind(this);\n    this.hideEditMessageModal = this.hideEditMessageModal.bind(this);\n    this.onDbcSelected = this.onDbcSelected.bind(this);\n    this.onDbcSaved = this.onDbcSaved.bind(this);\n    this.onConfirmedSignalChange = this.onConfirmedSignalChange.bind(this);\n    this.onPartChange = this.onPartChange.bind(this);\n    this.onMessageFrameEdited = this.onMessageFrameEdited.bind(this);\n    this.onSeek = this.onSeek.bind(this);\n    this.onUserSeek = this.onUserSeek.bind(this);\n    this.onMessageSelected = this.onMessageSelected.bind(this);\n    this.onMessageUnselected = this.onMessageUnselected.bind(this);\n    this.initCanData = this.initCanData.bind(this);\n    this.updateSelectedMessages = this.updateSelectedMessages.bind(this);\n    this.handlePandaConnect = this.handlePandaConnect.bind(this);\n    this.processStreamedCanMessages = this.processStreamedCanMessages.bind(\n      this\n    );\n    this.onStreamedCanMessagesProcessed = this.onStreamedCanMessagesProcessed.bind(\n      this\n    );\n    this.showingModal = this.showingModal.bind(this);\n    this.lastMessageEntriesById = this.lastMessageEntriesById.bind(this);\n    this.githubSignOut = this.githubSignOut.bind(this);\n    this.downloadLogAsCSV = this.downloadLogAsCSV.bind(this);\n\n    this.pandaReader = new Panda();\n    this.pandaReader.onMessage(this.processStreamedCanMessages);\n  }\n\n  componentDidMount() {\n    this.dataCacheTimer = interval(() => {\n      const { currentParts } = this.state;\n      let { loadedParts } = this.state;\n      if (this.loadMessagesFromCacheRunning || loadedParts.length < 4) {\n        return;\n      }\n      loadedParts.forEach((part) => {\n        if (part >= currentParts[0] && part <= currentParts[1]) {\n          return;\n        }\n        if (Date.now() - dataCache[part].lastUsed > 3 * 60 * 1000) {\n          console.log('Decaching part', part);\n          loadedParts = loadedParts.filter((p) => p !== part);\n          this.setState({\n            loadedParts\n          }, () => { delete dataCache[part]; });\n        }\n      });\n    }, 10000);\n\n    const { dongleId, name } = this.props;\n    if (CommaAuth.isAuthenticated() && !name) {\n      this.showOnboarding();\n    } else if (this.props.isDemo) {\n      // is demo!\n\n      const logUrls = demoLogUrls;\n      const route = demoRoute;\n\n      this.setState({\n        logUrls,\n        route,\n        currentParts: [0, 2],\n        currentPart: 0\n      }, this.initCanData);\n    } else if (\n      this.props.max\n      && this.props.url\n      && !this.props.exp\n      && !this.props.sig\n    ) {\n      // legacy share? maybe dead code\n      const { max, url } = this.props;\n      const startTime = Moment(name, 'YYYY-MM-DD--H-m-s');\n\n      const route = {\n        fullname: `${dongleId}|${name}`,\n        proclog: max,\n        url,\n        start_time: startTime\n      };\n      this.setState(\n        {\n          route,\n          currentParts: [0, Math.min(max, PART_SEGMENT_LENGTH - 1)]\n        },\n        this.initCanData\n      );\n    } else if (dongleId && name) {\n      const routeName = `${dongleId}|${name}`;\n      let urlPromise;\n      let logUrlsPromise;\n\n      if (this.props.url) {\n        urlPromise = Promise.resolve(this.props.url);\n      } else {\n        urlPromise = DrivesApi.getRouteInfo(routeName).then((route) => route.url);\n      }\n\n      if (this.props.sig && this.props.exp) {\n        logUrlsPromise = RawDataApi.getLogUrls(routeName, {\n          sig: this.props.sig,\n          exp: this.props.exp\n        });\n      } else {\n        logUrlsPromise = RawDataApi.getLogUrls(routeName);\n      }\n      Promise.all([urlPromise, logUrlsPromise])\n        .then((initData) => {\n          const [url, logUrls] = initData;\n          const newState = {\n            route: {\n              fullname: routeName,\n              proclog: logUrls.length - 1,\n              start_time: Moment(name, 'YYYY-MM-DD--H-m-s'),\n              url\n            },\n            currentParts: [\n              0,\n              Math.min(logUrls.length - 1, PART_SEGMENT_LENGTH - 1)\n            ],\n            logUrls\n          };\n          this.setState(newState, this.initCanData);\n\n          DrivesApi.getShareSignature(routeName).then((shareSignature) => this.setState({\n            shareUrl: modifyQueryParameters({\n              add: {\n                exp: shareSignature.exp,\n                sig: shareSignature.sig,\n                max: logUrls.length - 1,\n                url\n              },\n              remove: [GITHUB_AUTH_TOKEN_KEY]\n            })\n          }));\n        })\n        .catch((err) => {\n          console.error(err);\n          this.showOnboarding();\n        });\n    } else {\n      this.showOnboarding();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.dataCacheTimer) {\n      this.dataCacheTimer();\n    }\n  }\n\n  initCanData() {\n    const { route } = this.state;\n\n    this.spawnWorker(this.state.currentParts);\n  }\n\n  onDbcSelected(dbcFilename, dbc) {\n    const { route } = this.state;\n    this.hideLoadDbc();\n    dbc.lastUpdated = Date.now();\n    this.persistDbc({ dbcFilename, dbc });\n\n    if (route) {\n      this.setState(\n        {\n          dbc,\n          dbcFilename,\n          dbcText: dbc.text(),\n          partsLoaded: 0,\n          selectedMessage: null,\n          messages: {}\n        },\n        () => {\n          this.loadMessagesFromCache();\n        }\n      );\n    } else {\n      this.setState({\n        dbc,\n        dbcFilename,\n        dbcText: dbc.text(),\n        messages: {}\n      });\n    }\n  }\n\n  onDbcSaved(dbcFilename) {\n    const dbcLastSaved = Moment();\n    this.setState({ dbcLastSaved, dbcFilename });\n    this.hideSaveDbc();\n  }\n\n  // async downloadDbcFile() {\n  //   const blob = new Blob([this.props.dbc.text()], {type: \"text/plain;charset=utf-8\"});\n  //   const filename = this.state.dbcFilename.replace(/\\.dbc/g, '') + '.dbc';\n  //   FileSaver.saveAs(blob, filename, true);\n  // }\n\n  downloadLogAsCSV() {\n    console.log('downloadLogAsCSV:start');\n    const { dbcFilename } = this.state;\n    const fileStream = createWriteStream(\n      `${dbcFilename.replace(/\\.dbc/g, '-')}${+new Date()}.csv`\n    );\n    const writer = fileStream.getWriter();\n    const encoder = new TextEncoder();\n\n    if (this.state.live) {\n      return this.downloadLiveLogAsCSV(dataHandler);\n    }\n    return this.downloadRawLogAsCSV(dataHandler);\n\n    function dataHandler(e) {\n      const { logData, shouldClose, progress } = e.data;\n      if (shouldClose) {\n        console.log('downloadLogAsCSV:close');\n        writer.close();\n        return;\n      }\n      console.log('CSV export progress:', progress);\n      const uint8array = encoder.encode(`${logData}\\n`);\n      writer.write(uint8array);\n    }\n  }\n\n  downloadRawLogAsCSV(handler) {\n    return this.downloadLiveLogAsCSV(handler);\n  }\n\n  downloadLiveLogAsCSV(handler) {\n    // Trigger processing of in-memory data in worker\n    // this method *could* just fetch the data needed for the worked, but\n    // eventually this might be in it's own worker instead of the shared one\n    const { firstCanTime, canFrameOffset } = this.state;\n    const worker = new LogCSVDownloader();\n\n    worker.onmessage = handler;\n\n    worker.postMessage({\n      data: Object.keys(this.state.messages).map((sourceId) => {\n        const source = this.state.messages[sourceId];\n        return {\n          id: source.id,\n          bus: source.bus,\n          address: source.address,\n          entries: source.entries.slice()\n        };\n      }),\n      canStartTime: firstCanTime - canFrameOffset\n    });\n  }\n\n  mergeThumbnails(newThumbnails) {\n    const { thumbnails } = this.state;\n    if (!newThumbnails || !newThumbnails.length) {\n      return thumbnails;\n    }\n    if (!thumbnails.length) {\n      return newThumbnails;\n    }\n\n    let oldIndex = 0;\n    let newIndex = 0;\n\n    // is old immediately after new?\n    if (newThumbnails[0].monoTime > thumbnails[thumbnails.length - 1]) {\n      return thumbnails.concat(newThumbnails);\n    }\n    // is new immediately after old?\n    if (newThumbnails[newThumbnails.length - 1] < thumbnails[0]) {\n      return newThumbnails.concat(thumbnails);\n    }\n    let result = [];\n    while (oldIndex < thumbnails.length && newIndex < newThumbnails.length) {\n      if (thumbnails[oldIndex].monoTime < newThumbnails[newIndex].monoTime) {\n        result.push(thumbnails[oldIndex]);\n        oldIndex += 1;\n      } else {\n        result.push(newThumbnails[newIndex]);\n        newIndex += 1;\n      }\n    }\n    if (oldIndex < thumbnails.length) {\n      result = result.concat(thumbnails.slice(oldIndex));\n    } else if (newIndex < newThumbnails.length) {\n      result = result.concat(newThumbnails.slice(newIndex));\n    }\n\n    return result;\n  }\n\n  cancelWorker(workerHash) {\n    // actually don't...\n    return;\n    const currentWorkers = { ...this.state.currentWorkers };\n    const { worker, part } = currentWorkers[workerHash];\n    const loadingParts = this.state.loadingParts.filter((p) => p !== part);\n    const loadedParts = this.state.loadedParts.filter((p) => p !== part);\n    delete currentWorkers[workerHash];\n\n    console.log('Stoping worker', workerHash, 'for part', part);\n    worker.postMessage({\n      action: 'terminate'\n    });\n\n    this.setState({\n      currentWorkers,\n      loadingParts,\n      loadedParts\n    });\n  }\n\n  spawnWorker(options) {\n    let { currentParts, currentWorkers, loadingParts } = this.state;\n    console.log('Checking worker for', currentParts);\n    if (!this.state.isLoading) {\n      this.setState({ isLoading: true });\n    }\n    if (loadingParts.length > 1) {\n      // only 2 workers at a time pls\n      return;\n    }\n    const [minPart, maxPart] = currentParts;\n\n    // updated worker list (post canceling, and this time a copy)\n    currentWorkers = { ...this.state.currentWorkers };\n\n    const { loadedParts, currentPart } = this.state;\n\n    let part = -1;\n    const allWorkerParts = loadingParts.concat(loadedParts);\n\n    for (let partOffset = 0; partOffset <= maxPart - minPart; ++partOffset) {\n      let tempPart = currentPart + partOffset;\n      if (tempPart > maxPart) {\n        tempPart = minPart + ((tempPart - minPart) % (maxPart - minPart + 1));\n      }\n      if (allWorkerParts.indexOf(tempPart) === -1) {\n        part = tempPart;\n        break;\n      }\n    }\n    if (part === -1) {\n      console.log('Loading complete');\n      this.setState({ isLoading: false });\n      return;\n    }\n    console.log('Starting worker for part', part);\n    // options is object of {part, prevMsgEntries, spawnWorkerHash, prepend}\n    options = options || {};\n    let { prevMsgEntries } = options;\n    const prepend = false;\n\n    const {\n      dbc,\n      dbcFilename,\n      route,\n      firstCanTime,\n      canFrameOffset\n    } = this.state;\n    let { maxByteStateChangeCount } = this.state;\n\n    if (!prevMsgEntries) {\n      // we have previous messages loaded\n      const { messages } = this.state;\n      prevMsgEntries = {};\n      Object.keys(messages).forEach((key) => {\n        const { entries } = messages[key];\n        prevMsgEntries[key] = entries[entries.length - 1];\n      });\n    }\n\n    // var worker = new CanFetcher();\n    const worker = new RLogDownloader();\n\n    const spawnWorkerHash = hash(Math.random().toString(16));\n    currentWorkers[spawnWorkerHash] = {\n      part,\n      worker\n    };\n\n    loadingParts = [part, ...loadingParts];\n\n    this.setState({\n      currentWorkers,\n      loadingParts\n    });\n\n    worker.onmessage = (e) => {\n      if (this.state.currentWorkers[spawnWorkerHash] === undefined) {\n        console.log('Worker was canceled');\n        return;\n      }\n\n      maxByteStateChangeCount = e.data.maxByteStateChangeCount;\n      const {\n        newMessages,\n        newThumbnails,\n        isFinished,\n        routeInitTime,\n        firstFrameTime,\n      } = e.data;\n      if (maxByteStateChangeCount > this.state.maxByteStateChangeCount) {\n        this.setState({ maxByteStateChangeCount });\n      } else {\n        maxByteStateChangeCount = this.state.maxByteStateChangeCount;\n      }\n      if (routeInitTime !== this.state.routeInitTime) {\n        this.setState({ routeInitTime });\n      }\n      if (firstFrameTime && firstFrameTime !== this.state.firstFrameTime) {\n        this.setState({ firstFrameTime });\n      }\n\n      this.addMessagesToDataCache(part, newMessages, newThumbnails);\n\n      // const messages = this.addAndRehydrateMessages(\n      //   newMessages,\n      //   maxByteStateChangeCount\n      // );\n      // const prevMsgEntries = {};\n      // Object.keys(newMessages).forEach((key) => {\n      //   prevMsgEntries[key] = newMessages[key].entries[newMessages[key].entries.length - 1];\n      // });\n\n      // const thumbnails = this.mergeThumbnails(newThumbnails);\n\n      if (isFinished) {\n        const loadingParts = this.state.loadingParts.filter((p) => p !== part);\n        const loadedParts = [part, ...this.state.loadedParts];\n\n        this.setState(\n          {\n            partsLoaded: this.state.partsLoaded + 1,\n            loadingParts,\n            loadedParts\n          },\n          () => {\n            this.spawnWorker({\n              prevMsgEntries,\n              spawnWorkerHash,\n              prepend\n            });\n            if (window.dataCallback) {\n              window.dataCallback();\n              window.dataCallback = null;\n            }\n          }\n        );\n      }\n    };\n\n    worker.postMessage({\n      // old stuff for reverse compatibility for easier testing\n      base: route.url,\n      num: part,\n\n      // so that we don't try to read metadata about it...\n      isDemo: this.props.isDemo,\n      isLegacyShare: this.props.isLegacyShare,\n      logUrls: this.state.logUrls,\n\n      // data that is used\n      dbcText: dbc.text(),\n      route: route.fullname,\n      part,\n      canStartTime: firstCanTime != null ? firstCanTime - canFrameOffset : null,\n      prevMsgEntries,\n      maxByteStateChangeCount\n    });\n  }\n\n  addAndRehydrateMessages(newMessages, options) {\n    // Adds new message entries to messages state\n    // and \"rehydrates\" ES6 classes (message frame)\n    // lost from JSON serialization in webworker data cloning.\n    // handles merging the data in correct order\n    options = options || {};\n\n    const messages = { ...this.state.messages };\n\n    Object.keys(newMessages).forEach((key) => {\n      // add message\n      if (options.replace !== true && key in messages) {\n        // should merge here instead of concat\n        // assumes messages are always sequential\n        const msgEntries = messages[key].entries;\n        const newMsgEntries = newMessages[key].entries;\n        const msgLength = msgEntries.length;\n        const newMsgLength = newMsgEntries.length;\n        const entryLength = msgLength + newMsgLength;\n        messages[key] = {\n          ...messages[key],\n          entries: Array(entryLength)\n        };\n\n        let msgIndex = 0;\n        let newMsgIndex = 0;\n\n        for (let i = 0; i < entryLength; ++i) {\n          if (newMsgIndex >= newMsgLength) {\n            messages[key].entries[i] = msgEntries[msgIndex++];\n          } else if (msgIndex >= msgLength) {\n            messages[key].entries[i] = newMsgEntries[newMsgIndex++];\n          } else if (\n            msgEntries[msgIndex].relTime <= newMsgEntries[newMsgIndex].relTime\n          ) {\n            messages[key].entries[i] = msgEntries[msgIndex++];\n          } else if (\n            msgEntries[msgIndex].relTime >= newMsgEntries[newMsgIndex].relTime\n          ) {\n            messages[key].entries[i] = newMsgEntries[newMsgIndex++];\n          }\n        }\n        messages[key].byteStateChangeCounts = newMessages[key].byteStateChangeCounts;\n      } else {\n        messages[key] = newMessages[key];\n        messages[key].frame = this.state.dbc.getMessageFrame(\n          messages[key].address\n        );\n      }\n    });\n\n    const maxByteStateChangeCount = DbcUtils.findMaxByteStateChangeCount(\n      messages\n    );\n    this.setState({\n      maxByteStateChangeCount\n    });\n\n    Object.keys(messages).forEach((key) => {\n      // console.log(key);\n      messages[key] = DbcUtils.setMessageByteColors(\n        messages[key],\n        maxByteStateChangeCount\n      );\n    });\n\n    return messages;\n  }\n\n  async addMessagesToDataCache(part, newMessages, newThumbnails) {\n    const { dbc, currentParts } = this.state;\n    const entry = await this.getParseSegment(part);\n    if (!entry) {\n      // first chunk of data returned from this segment\n      Object.keys(newMessages).forEach((key) => {\n        newMessages[key] = this.parseMessageEntry(newMessages[key], dbc);\n      });\n      dataCache[part] = {\n        messages: newMessages,\n        thumbnails: newThumbnails,\n        lastUpdated: Date.now(),\n        lastUsed: Date.now()\n      };\n      if (part >= currentParts[0] && part <= currentParts[1]) {\n        this.setState({\n          messages: this.addAndRehydrateMessages(newMessages)\n        });\n      }\n      return;\n    }\n\n    entry.lastUsed = Date.now();\n\n    // data is always append only, and always per segment\n    Object.keys(newMessages).forEach((key) => {\n      let msgs = newMessages[key];\n      if (!dataCache[part].messages[key]) {\n        msgs = this.parseMessageEntry(msgs, dbc);\n        dataCache[part].messages[key] = msgs;\n      } else {\n        let { entries } = dataCache[part].messages[key];\n        const lastEntry = entries.length ? entries[entries.length - 1] : null;\n        msgs = this.parseMessageEntry(msgs, dbc, lastEntry);\n        entries = entries.concat(msgs.entries);\n        dataCache[part].messages[key].entries = entries;\n      }\n      newMessages[key] = msgs;\n    });\n    dataCache[part].thumbnails = dataCache[part].thumbnails.concat(newThumbnails);\n\n    if (part >= currentParts[0] && part <= currentParts[1]) {\n      this.setState({\n        messages: this.addAndRehydrateMessages(newMessages)\n      });\n    }\n  }\n\n  async loadMessagesFromCache() {\n    // create a new messages object for state\n    if (this.loadMessagesFromCacheRunning) {\n      if (!this.loadMessagesFromCacheTimer) {\n        this.loadMessagesFromCacheTimer = timeout(() => this.loadMessagesFromCache(), 10);\n      }\n      return;\n    }\n    this.loadMessagesFromCacheRunning = true;\n    if (this.loadMessagesFromCacheTimer) {\n      this.loadMessagesFromCacheTimer();\n      this.loadMessagesFromCacheTimer = null;\n    }\n    const { currentParts, dbc } = this.state;\n    const { lastUpdated } = dbc;\n    const [minPart, maxPart] = currentParts;\n    const messages = {};\n    let thumbnails = [];\n    let isCanceled = false;\n\n    let start = performance.now();\n\n    const promises = [];\n\n    for (let i = minPart, l = maxPart; i <= l; ++i) {\n      promises.push(this.getParseSegment(i));\n    }\n    await promises.reduce(async (prev, p) => {\n      await prev;\n      if (isCanceled) {\n        return;\n      }\n      const cacheEntry = await p;\n      if (this.state.dbc.lastUpdated !== lastUpdated) {\n        if (!isCanceled) {\n          isCanceled = true;\n          this.loadMessagesFromCacheRunning = false;\n          console.log('Canceling!');\n          this.loadMessagesFromCache();\n        }\n        return;\n      }\n      if (cacheEntry) {\n        const newMessages = cacheEntry.messages;\n        thumbnails = thumbnails.concat(cacheEntry.thumbnails);\n        Object.keys(newMessages).forEach((key) => {\n          if (!messages[key]) {\n            messages[key] = { ...newMessages[key] };\n          } else {\n            const newMessageEntries = newMessages[key].entries;\n            const messageEntries = messages[key].entries;\n            if (newMessageEntries.length\n              && newMessageEntries[0].relTime < messageEntries[messageEntries.length - 1].relTime) {\n              console.error('Found out of order messages', newMessageEntries[0], messageEntries[messageEntries.length - 1]);\n            }\n            messages[key].entries = messages[key].entries.concat(newMessages[key].entries);\n          }\n        });\n      }\n      console.log('Done with', performance.now() - start);\n      start = performance.now();\n    }, Promise.resolve());\n\n    if (isCanceled) {\n      return;\n    }\n\n    Object.keys(this.state.messages).forEach((key) => {\n      if (!messages[key]) {\n        messages[key] = this.state.messages[key];\n        messages[key].entries = [];\n      }\n    });\n\n    Object.keys(messages).forEach((key) => {\n      messages[key].frame = dbc.getMessageFrame(\n        messages[key].address\n      );\n    });\n\n    const maxByteStateChangeCount = DbcUtils.findMaxByteStateChangeCount(\n      messages\n    );\n\n    this.setState({\n      maxByteStateChangeCount\n    });\n\n    Object.keys(messages).forEach((key) => {\n      // console.log(key);\n      messages[key] = DbcUtils.setMessageByteColors(\n        messages[key],\n        maxByteStateChangeCount\n      );\n    });\n\n    console.log('Done with old messages', performance.now() - start);\n\n    this.setState({ messages, thumbnails });\n\n    this.loadMessagesFromCacheRunning = false;\n  }\n\n  async getParseSegment(part) {\n    if (!dataCache[part]) {\n      return null;\n    }\n    if (dataCache[part].promise) {\n      await dataCache[part].promise;\n    }\n    dataCache[part].promise = this.getParseSegmentInternal(part);\n\n    return dataCache[part].promise;\n  }\n\n  async getParseSegmentInternal(part) {\n    const start = performance.now();\n    const { dbc } = this.state;\n    if (!dbc.lastUpdated) {\n      dbc.lastUpdated = Date.now();\n    }\n    const { lastUpdated } = dbc;\n    let { messages } = dataCache[part];\n\n    let reparseMessages = {};\n\n    // if (lastUpdated > dataCache[part].lastUpdated) {\n    //   dataCache[part].lastUpdated = Date.now();\n    //   return await this.reparseMessages(messages);\n    // }\n\n    Object.keys(messages).forEach((key) => {\n      if (messages[key].lastUpdated >= lastUpdated) {\n        return;\n      }\n      reparseMessages[key] = messages[key];\n    });\n\n    if (Object.keys(reparseMessages).length) {\n      console.log('Reparsing messages!', Object.keys(reparseMessages).length);\n      reparseMessages = await this.reparseMessages(reparseMessages);\n    }\n\n    messages = {\n      ...messages,\n      ...reparseMessages\n    };\n\n    dataCache[part].messages = messages;\n\n    const end = performance.now();\n    if (end - start > 200) {\n      // warn about anything over 200ms\n      console.warn('getParseSegment took', part, end - start, Object.keys(messages).length);\n    }\n\n    return dataCache[part];\n  }\n\n  decacheMessageId(messageId) {\n    Object.keys(dataCache).forEach((part) => {\n      if (dataCache[part].messages[messageId]) {\n        dataCache[part].messages[messageId].lastUpdated = 0;\n      }\n    });\n  }\n\n  async reparseMessages(_messages) {\n    const messages = _messages;\n    const { dbc } = this.state;\n    dbc.lastUpdated = dbc.lastUpdated || Date.now();\n\n    Object.keys(messages).forEach((key) => {\n      messages[key].frame = dbc.getMessageFrame(messages[key].address);\n    });\n\n    return new Promise((resolve, reject) => {\n      const worker = new MessageParser();\n      worker.onmessage = (e) => {\n        const newMessages = e.data.messages;\n        Object.keys(newMessages).forEach((key) => {\n          newMessages[key].lastUpdated = dbc.lastUpdated;\n          newMessages[key].frame = dbc.getMessageFrame(newMessages[key].address);\n        });\n        resolve(newMessages);\n      };\n\n      worker.postMessage({\n        messages,\n        dbcText: dbc.text(),\n        canStartTime: this.state.firstCanTime\n      });\n    });\n  }\n\n  parseMessageEntry(_entry, dbc, lastMsg) {\n    const entry = _entry;\n    dbc.lastUpdated = dbc.lastUpdated || Date.now();\n    entry.lastUpdated = dbc.lastUpdated;\n    entry.frame = dbc.getMessageFrame(\n      entry.address\n    );\n\n    let prevMsgEntry = lastMsg || null;\n    const byteStateChangeCounts = [];\n    // entry.messages[id].byteStateChangeCounts = byteStateChangeCounts.map(\n    //   (count, idx) => entry.messages[id].byteStateChangeCounts[idx] + count\n    // );\n    entry.entries = entry.entries.map((message) => {\n      if (message.hexData) {\n        prevMsgEntry = DbcUtils.reparseMessage(dbc, message, prevMsgEntry);\n      } else {\n        prevMsgEntry = DbcUtils.parseMessage(\n          dbc,\n          message.time,\n          message.address,\n          message.data,\n          message.timeStart,\n          prevMsgEntry\n        );\n      }\n      byteStateChangeCounts.push(prevMsgEntry.byteStateChangeCounts);\n      prevMsgEntry = prevMsgEntry.msgEntry;\n      return prevMsgEntry;\n    });\n    entry.byteStateChangeCounts = byteStateChangeCounts.reduce((memo, val) => {\n      if (!memo) {\n        return val;\n      }\n      return memo.map((count, idx) => val[idx] + count);\n    }, null);\n\n    return entry;\n  }\n\n  showingModal() {\n    const {\n      showOnboarding,\n      showLoadDbc,\n      showSaveDbc,\n      showAddSignal,\n      showEditMessageModal\n    } = this.state;\n    return (\n      showOnboarding\n      || showLoadDbc\n      || showSaveDbc\n      || showAddSignal\n      || showEditMessageModal\n    );\n  }\n\n  showOnboarding() {\n    this.setState({ showOnboarding: true });\n  }\n\n  hideOnboarding() {\n    this.setState({ showOnboarding: false });\n  }\n\n  showLoadDbc() {\n    this.setState({ showLoadDbc: true });\n  }\n\n  hideLoadDbc() {\n    this.setState({ showLoadDbc: false });\n  }\n\n  showSaveDbc() {\n    this.setState({ showSaveDbc: true });\n  }\n\n  hideSaveDbc() {\n    this.setState({ showSaveDbc: false });\n  }\n\n  updateMessageFrame(messageId, frame) {\n    const { messages } = this.state;\n\n    messages[messageId].frame = frame;\n    this.setState({ messages });\n  }\n\n  persistDbc({ dbcFilename, dbc }) {\n    const { route } = this.state;\n    if (route) {\n      persistDbc(route.fullname, { dbcFilename, dbc });\n    } else {\n      persistDbc('live', { dbcFilename, dbc });\n    }\n\n    this.loadMessagesFromCache();\n  }\n\n  onConfirmedSignalChange(message, signals) {\n    const { dbc, dbcFilename } = this.state;\n    dbc.setSignals(message.address, { ...signals });\n\n    this.persistDbc({ dbcFilename, dbc });\n\n    this.updateMessageFrame(message.id, dbc.getMessageFrame(message.address));\n\n    this.setState({ dbc, dbcText: dbc.text() }, () => {\n      this.decacheMessageId(message.id);\n      this.loadMessagesFromCache();\n    });\n  }\n\n  partChangeDebounced = debounce(() => {\n    this.loadMessagesFromCache();\n\n    this.spawnWorker();\n  }, 500);\n\n  onPartChange(part) {\n    let {\n      currentParts, currentPart, canFrameOffset, route\n    } = this.state;\n    if (canFrameOffset === -1 || part === currentPart) {\n      return;\n    }\n\n    // determine new parts to load, whether to prepend or append\n    let maxPart = Math.min(route.proclog, part + 1);\n    const minPart = Math.max(0, maxPart - PART_SEGMENT_LENGTH + 1);\n    if (minPart === 0) {\n      maxPart = Math.min(route.proclog, 2);\n    }\n    const currentPartSpan = currentParts[1] - currentParts[0] + 1;\n\n    // update current parts\n    currentParts = [minPart, maxPart];\n    currentPart = part;\n\n    if (\n      currentPart !== this.state.currentPart\n      || currentParts[0] !== this.state.currentParts[0]\n      || currentParts[1] !== this.state.currentParts[1]\n    ) {\n      // update state then load new parts\n      this.setState({ currentParts, currentPart }, this.partChangeDebounced);\n    }\n  }\n\n  showEditMessageModal(msgKey) {\n    const msg = this.state.messages[msgKey];\n    if (!msg.frame) {\n      msg.frame = this.state.dbc.createFrame(msg.address);\n    }\n\n    this.setState({\n      showEditMessageModal: true,\n      editMessageModalMessage: msgKey,\n      messages: this.state.messages,\n      dbcText: this.state.dbc.text()\n    });\n  }\n\n  hideEditMessageModal() {\n    this.setState({ showEditMessageModal: false });\n  }\n\n  onMessageFrameEdited(messageFrame) {\n    const {\n      messages, dbcFilename, dbc, editMessageModalMessage\n    } = this.state;\n\n    const message = { ...messages[editMessageModalMessage] };\n    message.frame = messageFrame;\n    dbc.messages.set(messageFrame.id, messageFrame);\n    this.persistDbc({ dbcFilename, dbc });\n\n    messages[editMessageModalMessage] = message;\n    this.setState({ messages, dbc, dbcText: dbc.text() });\n    this.hideEditMessageModal();\n  }\n\n  onSeek(seekIndex, seekTime) {\n    this.setState({ seekIndex, seekTime });\n\n    const { currentPart } = this.state;\n    const part = ~~(seekTime / 60);\n    if (part !== currentPart) {\n      this.onPartChange(part);\n    }\n  }\n\n  onUserSeek(seekTime) {\n    if (USE_UNLOGGER) {\n      this.unloggerClient.seek(this.props.dongleId, this.props.name, seekTime);\n    }\n\n    const msg = this.state.messages[this.state.selectedMessage];\n    let seekIndex;\n    if (msg) {\n      seekIndex = msg.entries.findIndex((e) => e.relTime >= seekTime);\n      if (seekIndex === -1) {\n        seekIndex = 0;\n      }\n    } else {\n      seekIndex = 0;\n    }\n\n    this.onSeek(seekIndex, seekTime);\n  }\n\n  onMessageSelected(msgKey) {\n    let { seekTime, seekIndex, messages } = this.state;\n    const msg = messages[msgKey];\n\n    if (seekTime > 0 && msg.entries.length > 0) {\n      seekIndex = msg.entries.findIndex((e) => e.relTime >= seekTime);\n      if (seekIndex === -1) {\n        seekIndex = 0;\n      }\n\n      seekTime = msg.entries[seekIndex].relTime;\n    }\n\n    this.setState({ seekTime, seekIndex, selectedMessage: msgKey });\n  }\n\n  updateSelectedMessages(selectedMessages) {\n    this.setState({ selectedMessages });\n  }\n\n  onMessageUnselected(msgKey) {\n    this.setState({ selectedMessage: null });\n  }\n\n  loginWithGithub() {\n    const { route } = this.state;\n    return (\n      <a\n        href={GithubAuth.authorizeUrl(\n          route && route.fullname ? route.fullname : ''\n        )}\n        className=\"button button--dark button--inline\"\n      >\n        <i className=\"fa fa-github\" />\n        <span> Log in with Github</span>\n      </a>\n    );\n  }\n\n  lastMessageEntriesById(obj, [msgId, message]) {\n    obj[msgId] = message.entries[message.entries.length - 1];\n    return obj;\n  }\n\n  processStreamedCanMessages(newCanMessages) {\n    const { dbcText } = this.state;\n    const {\n      firstCanTime,\n      lastBusTime,\n      messages,\n      maxByteStateChangeCount\n    } = this.state;\n    // map msg id to arrays\n    const prevMsgEntries = Object.entries(messages).reduce(\n      this.lastMessageEntriesById,\n      {}\n    );\n\n    const byteStateChangeCountsByMessage = Object.entries(messages).reduce(\n      (obj, [msgId, msg]) => {\n        obj[msgId] = msg.byteStateChangeCounts;\n        return obj;\n      },\n      {}\n    );\n\n    this.canStreamerWorker.postMessage({\n      newCanMessages,\n      prevMsgEntries,\n      firstCanTime,\n      dbcText,\n      lastBusTime,\n      byteStateChangeCountsByMessage,\n      maxByteStateChangeCount\n    });\n  }\n\n  firstEntryIndexInsideStreamingWindow(entries) {\n    const lastEntryTime = entries[entries.length - 1].relTime;\n    const windowFloor = lastEntryTime - STREAMING_WINDOW;\n\n    for (let i = 0; i < entries.length; i++) {\n      if (entries[i].relTime > windowFloor) {\n        return i;\n      }\n    }\n\n    return 0;\n  }\n\n  enforceStreamingMessageWindow(messages) {\n    const messageIds = Object.keys(messages);\n    for (let i = 0; i < messageIds.length; i++) {\n      const messageId = messageIds[i];\n      const message = messages[messageId];\n      if (message.entries.length < 2) {\n        continue;\n      }\n\n      const lastEntryTime = message.entries[message.entries.length - 1].relTime;\n      const entrySpan = lastEntryTime - message.entries[0].relTime;\n      if (entrySpan > STREAMING_WINDOW) {\n        const newEntryFloor = this.firstEntryIndexInsideStreamingWindow(\n          message.entries\n        );\n        message.entries = message.entries.slice(newEntryFloor);\n        messages[messageId] = message;\n      }\n    }\n\n    return messages;\n  }\n\n  _onStreamedCanMessagesProcessed(data) {\n    let {\n      newMessages,\n      seekTime,\n      lastBusTime,\n      firstCanTime,\n      maxByteStateChangeCount\n    } = data;\n\n    if (maxByteStateChangeCount < this.state.maxByteStateChangeCount) {\n      maxByteStateChangeCount = this.state.maxByteStateChangeCount;\n    }\n\n    let messages = this.addAndRehydrateMessages(newMessages);\n    messages = this.enforceStreamingMessageWindow(messages);\n    let { seekIndex, selectedMessages } = this.state;\n    if (\n      selectedMessages.length > 0\n      && messages[selectedMessages[0]] !== undefined\n    ) {\n      seekIndex = Math.max(0, messages[selectedMessages[0]].entries.length - 1);\n    }\n    this.setState({\n      messages,\n      seekTime,\n      seekIndex,\n      lastBusTime,\n      firstCanTime,\n      maxByteStateChangeCount\n    });\n  }\n\n  onStreamedCanMessagesProcessed(e) {\n    this._onStreamedCanMessagesProcessed(e.data);\n  }\n\n  async handlePandaConnect(e) {\n    this.setState({ attemptingPandaConnection: true, live: true });\n\n    const persistedDbc = fetchPersistedDbc('live');\n    if (persistedDbc) {\n      const { dbc, dbcText } = persistedDbc;\n      this.setState({ dbc, dbcText });\n    }\n    this.canStreamerWorker = new CanStreamerWorker();\n    this.canStreamerWorker.onmessage = this.onStreamedCanMessagesProcessed;\n\n    // if any errors go off during connection, mark as not trying to connect anymore...\n    const unlisten = this.pandaReader.onError((err) => {\n      console.error(err.stack || err);\n      this.setState({ attemptingPandaConnection: false });\n    });\n    try {\n      await this.pandaReader.start();\n      this.setState({\n        showOnboarding: false,\n        showLoadDbc: true\n      });\n    } catch (e) {}\n    this.setState({ attemptingPandaConnection: false });\n    unlisten();\n  }\n\n  githubSignOut(e, dataArray) {\n    unpersistGithubAuthToken();\n    this.setState({ isGithubAuthenticated: false });\n\n    e.preventDefault();\n  }\n\n  render() {\n    const {\n      route,\n      messages,\n      selectedMessages,\n      currentParts,\n      dbcFilename,\n      dbcLastSaved,\n      seekTime,\n      seekIndex,\n      shareUrl,\n      maxByteStateChangeCount,\n      live,\n      thumbnails,\n      selectedMessage,\n      canFrameOffset,\n      firstCanTime,\n      currentPart,\n      partsLoaded\n    } = this.state;\n\n    const { startTime, segments } = this.props;\n\n    return (\n      <div\n        id=\"cabana\"\n        className={cx({ 'is-showing-modal': this.showingModal() })}\n      >\n        {this.state.isLoading ? (\n          <LoadingBar isLoading={this.state.isLoading} />\n        ) : null}\n        <div className=\"cabana-header\">\n          <a className=\"cabana-header-logo\" href=\"\">\n            Comma Cabana\n          </a>\n          <div className=\"cabana-header-account\">\n            {this.state.isGithubAuthenticated ? (\n              <div>\n                <p>GitHub Authenticated</p>\n                <p\n                  className=\"cabana-header-account-signout\"\n                  onClick={this.githubSignOut}\n                >\n                  Sign out\n                </p>\n              </div>\n            ) : (\n              this.loginWithGithub()\n            )}\n          </div>\n        </div>\n        <div className=\"cabana-window\">\n          <Meta\n            url={this.state.route ? route.url : null}\n            messages={messages}\n            selectedMessages={selectedMessages}\n            updateSelectedMessages={this.updateSelectedMessages}\n            showEditMessageModal={this.showEditMessageModal}\n            currentParts={currentParts}\n            onMessageSelected={this.onMessageSelected}\n            onMessageUnselected={this.onMessageUnselected}\n            showLoadDbc={this.showLoadDbc}\n            showSaveDbc={this.showSaveDbc}\n            dbcFilename={dbcFilename}\n            dbcLastSaved={dbcLastSaved}\n            dongleId={this.props.dongleId}\n            name={this.props.name}\n            route={route}\n            seekTime={seekTime}\n            seekIndex={seekIndex}\n            shareUrl={shareUrl}\n            maxByteStateChangeCount={maxByteStateChangeCount}\n            isDemo={this.props.isDemo}\n            live={live}\n            saveLog={debounce(this.downloadLogAsCSV, 500)}\n          />\n          {route || live ? (\n            <Explorer\n              url={route ? route.url : null}\n              live={live}\n              messages={messages}\n              thumbnails={thumbnails}\n              selectedMessage={selectedMessage}\n              onConfirmedSignalChange={this.onConfirmedSignalChange}\n              onSeek={this.onSeek}\n              onUserSeek={this.onUserSeek}\n              canFrameOffset={canFrameOffset}\n              firstCanTime={firstCanTime}\n              seekTime={seekTime}\n              startTime={startTime}\n              startSegments={segments}\n              seekIndex={seekIndex}\n              currentParts={currentParts}\n              selectedPart={currentPart}\n              partsLoaded={partsLoaded}\n              autoplay={this.props.autoplay}\n              showEditMessageModal={this.showEditMessageModal}\n              onPartChange={this.onPartChange}\n              routeStartTime={\n                route ? route.start_time : Moment()\n              }\n              videoOffset={ (this.state.firstFrameTime && this.state.routeInitTime) ? this.state.firstFrameTime - this.state.routeInitTime : 0 }\n              partsCount={route ? route.proclog : 0}\n            />\n          ) : null}\n        </div>\n\n        {this.state.showOnboarding ? (\n          <OnboardingModal\n            handlePandaConnect={this.handlePandaConnect}\n            attemptingPandaConnection={this.state.attemptingPandaConnection}\n            routes={this.state.routes}\n          />\n        ) : null}\n\n        {this.state.showLoadDbc ? (\n          <LoadDbcModal\n            onDbcSelected={this.onDbcSelected}\n            handleClose={this.hideLoadDbc}\n            openDbcClient={this.openDbcClient}\n            loginWithGithub={this.loginWithGithub()}\n          />\n        ) : null}\n\n        {this.state.showSaveDbc ? (\n          <SaveDbcModal\n            dbc={this.state.dbc}\n            sourceDbcFilename={this.state.dbcFilename}\n            onDbcSaved={this.onDbcSaved}\n            handleClose={this.hideSaveDbc}\n            openDbcClient={this.openDbcClient}\n            hasGithubAuth={this.props.githubAuthToken !== null}\n            loginWithGithub={this.loginWithGithub()}\n          />\n        ) : null}\n\n        {this.state.showEditMessageModal ? (\n          <EditMessageModal\n            handleClose={this.hideEditMessageModal}\n            handleSave={this.onMessageFrameEdited}\n            message={this.state.messages[this.state.editMessageModalMessage]}\n          />\n        ) : null}\n      </div>\n    );\n  }\n}\n\nCanExplorer.propTypes = {\n  dongleId: PropTypes.string,\n  name: PropTypes.string,\n  dbc: PropTypes.instanceOf(DBC),\n  dbcFilename: PropTypes.string,\n  githubAuthToken: PropTypes.string,\n  autoplay: PropTypes.bool,\n  max: PropTypes.number,\n  url: PropTypes.string,\n  startTime: PropTypes.number,\n  segments: PropTypes.array\n};\n","export function hash(str) {\n  let hash = 5381;\n  let i = str.length;\n\n  while (i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i);\n  }\n\n  // to positive number\n  return (hash >>> 0).toString(16);\n}\n","import DBC from './models/can/dbc';\n\nconst AcuraDbc = new DBC(`\nVERSION \"\"\n\n\nNS_ :\n    NS_DESC_\n    CM_\n    BA_DEF_\n    BA_\n    VAL_\n    CAT_DEF_\n    CAT_\n    FILTER\n    BA_DEF_DEF_\n    EV_DATA_\n    ENVVAR_DATA_\n    SGTYPE_\n    SGTYPE_VAL_\n    BA_DEF_SGTYPE_\n    BA_SGTYPE_\n    SIG_TYPE_REF_\n    VAL_TABLE_\n    SIG_GROUP_\n    SIG_VALTYPE_\n    SIGTYPE_VALTYPE_\n    BO_TX_BU_\n    BA_DEF_REL_\n    BA_REL_\n    BA_DEF_DEF_REL_\n    BU_SG_REL_\n    BU_EV_REL_\n    BU_BO_REL_\n    SG_MUL_VAL_\n\nBS_:\n\nBU_: INTERCEPTOR EBCM NEO ADAS PCM EPS VSA SCM BDY XXX\n\n\nBO_ 57 XXX_1: 3 XXX\n\nBO_ 145 XXX_2: 8 XXX\n SG_ LAT_ACCEL : 7|10@0+ (0.02,-512) [-20|20] \"m/s2\" NEO\n\nBO_ 228 STEERING_CONTROL: 5 ADAS\n SG_ STEER_TORQUE : 7|16@0- (1,0) [-3840|3840] \"\" EPS\n SG_ STEER_TORQUE_REQUEST : 23|1@0+ (1,0) [0|1] \"\" EPS\n SG_ SET_ME_X00 : 31|8@0+ (1,0) [0|0] \"\" EPS\n SG_ COUNTER : 37|2@0+ (1,0) [0|3] \"\" EPS\n SG_ CHECKSUM : 35|4@0+ (1,0) [0|3] \"\" EPS\n\nBO_ 304 GAS_PEDAL2: 8 PCM\n SG_ ENGINE_TORQUE_ESTIMATE : 7|16@0- (1,0) [-1000|1000] \"Nm\" NEO\n SG_ ENGINE_TORQUE_REQUEST : 23|16@0- (1,0) [-1000|1000] \"Nm\" NEO\n SG_ CAR_GAS : 39|8@0+ (1,0) [0|255] \"\" NEO\n\nBO_ 316 GAS_PEDAL: 8 PCM\n SG_ CAR_GAS : 39|8@0+ (1,0) [0|255] \"\" NEO\n\nBO_ 342 STEERING_SENSORS: 6 EPS\n SG_ STEER_ANGLE : 7|16@0- (-0.1,0) [-500|500] \"deg\" NEO\n SG_ STEER_ANGLE_RATE : 23|16@0- (1,0) [-3000|3000] \"deg/s\" NEO\n SG_ COUNTER : 45|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 43|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 344 POWERTRAIN_DATA: 8 PCM\n SG_ XMISSION_SPEED : 7|16@0+ (0.002759506,0) [0|70] \"m/s\" NEO\n SG_ ENGINE_RPM : 23|16@0+ (1,0) [0|15000] \"rpm\" NEO\n SG_ XMISSION_SPEED2 : 39|16@0+ (0.002759506,0) [0|70] \"m/s\" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] \"\" NEO\n SG_ ODOMETER : 55|8@0+ (1,0) [0|255] \"\" XXX\n\nBO_ 380 POWERTRAIN_DATA2: 8 PCM\n SG_ PEDAL_GAS : 7|8@0+ (1,0) [0|255] \"\" NEO\n SG_ ENGINE_RPM : 23|16@0+ (1,0) [0|15000] \"rpm\" NEO\n SG_ GAS_PRESSED : 39|1@0+ (1,0) [0|1] \"\" NEO\n SG_ ACC_STATUS : 38|1@0+ (1,0) [0|1] \"rpm\" NEO\n SG_ BOH_17C : 37|5@0+ (1,0) [0|1] \"rpm\" NEO\n SG_ BRAKE_SWITCH : 32|1@0+ (1,0) [0|1] \"rpm\" NEO\n SG_ BOH2_17C : 47|10@0+ (1,0) [0|1] \"rpm\" NEO\n SG_ BRAKE_PRESSED : 53|1@0+ (1,0) [0|1] \"\" NEO\n SG_ BOH3_17C : 52|5@0+ (1,0) [0|1] \"rpm\" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 398 XXX_3: 3 XXX\n\nBO_ 399 STEER_STATUS: 7 EPS\n SG_ STEER_TORQUE_SENSOR : 7|16@0- (1,0) [-31000|31000] \"tbd\" NEO\n SG_ STEER_TORQUE_MOTOR : 23|16@0- (1,0) [-31000|31000] \"tbd\" NEO\n SG_ STEER_STATUS : 39|4@0+ (1,0) [0|15] \"\" NEO\n SG_ STEER_CONTROL_ACTIVE : 35|1@0+ (1,0) [0|1] \"\" NEO\n SG_ COUNTER : 53|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 51|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 419 GEARBOX: 8 PCM\n SG_ GEAR : 7|8@0+ (1,0) [0|256] \"\" NEO\n SG_ GEAR_SHIFTER : 35|4@0+ (1,0) [0|15] \"\" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 420 VSA_STATUS: 8 VSA\n SG_ USER_BRAKE : 7|16@0+ (0.015625,-1.609375) [0|1000] \"\" NEO\n SG_ ESP_DISABLED : 28|1@0+ (1,0) [0|1] \"\" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 422 SCM_BUTTONS: 8 SCM\n SG_ CRUISE_BUTTONS : 7|3@0+ (1,0) [0|7] \"\" NEO\n SG_ LIGHTS_SETTING : 1|2@0+ (1,0) [0|3] \"\" NEO\n SG_ MAIN_ON : 47|1@0+ (1,0) [0|1] \"\" NEO\n SG_ CRUISE_SETTING : 43|2@0+ (1,0) [0|3] \"\" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 428 XXX_4: 8 XXX\n\nBO_ 432 STANDSTILL: 7 VSA\n SG_ WHEELS_MOVING : 12|1@0+ (1,0) [0|1] \"\" NEO\n SG_ BRAKE_ERROR_1 : 11|1@0+ (1,0) [0|1] \"\" NEO\n SG_ BRAKE_ERROR_2 : 9|1@0+ (1,0) [0|1] \"\" NEO\n SG_ COUNTER : 53|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 51|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 464 WHEEL_SPEEDS: 8 VSA\n SG_ WHEEL_SPEED_FL : 7|15@0+ (0.002759506,0) [0|70] \"m/s\" NEO\n SG_ WHEEL_SPEED_FR : 8|15@0+ (0.002759506,0) [0|70] \"m/s\" NEO\n SG_ WHEEL_SPEED_RL : 25|15@0+ (0.002759506,0) [0|70] \"m/s\" NEO\n SG_ WHEEL_SPEED_RR : 42|15@0+ (0.002759506,0) [0|70] \"m/s\" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 476 XXX_5: 4 XXX\n\nBO_ 490 VEHICLE_DYNAMICS: 8 VSA\n SG_ LONG_ACCEL : 23|16@0- (0.0015384,0) [-20|20] \"m/s2\" NEO\n\nBO_ 506 BRAKE_COMMAND: 8 ADAS\n SG_ COMPUTER_BRAKE : 7|10@0+ (0.003906248,0) [0|1] \"\" EBCM\n SG_ ZEROS_BOH : 13|5@0+ (1,0) [0|1] \"\" EBCM\n SG_ COMPUTER_BRAKE_REQUEST : 8|1@0+ (1,0) [0|1] \"\" EBCM\n SG_ CRUISE_BOH2 : 23|3@0+ (1,0) [0|1] \"\" EBCM\n SG_ CRUISE_OVERRIDE : 20|1@0+ (1,0) [0|1] \"\" EBCM\n SG_ CRUISE_BOH3 : 19|1@0+ (1,0) [0|1] \"\" EBCM\n SG_ CRUISE_FAULT_CMD : 18|1@0+ (1,0) [0|1] \"\" EBCM\n SG_ CRUISE_CANCEL_CMD : 17|1@0+ (1,0) [0|1] \"\" EBCM\n SG_ COMPUTER_BRAKE_REQUEST_2 : 16|1@0+ (1,0) [0|1] \"\" EBCM\n SG_ CRUISE_BOH4 : 31|8@0+ (1,0) [0|1] \"\" EBCM\n SG_ BRAKE_LIGHTS : 39|1@0+ (1,0) [0|1] \"\" EBCM\n SG_ CRUISE_BOH5 : 38|7@0+ (1,0) [0|1] \"\" EBCM\n SG_ CHIME : 47|3@0+ (1,0) [0|7] \"\" EBCM\n SG_ CRUISE_BOH6 : 44|1@0+ (1,0) [0|1] \"\" EBCM\n SG_ FCW : 43|2@0+ (1,0) [0|3] \"\" EBCM\n SG_ CRUISE_BOH7 : 41|10@0+ (1,0) [0|0] \"\" EBCM\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] \"\" EBCM\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] \"\" EBCM\n\nBO_ 512 GAS_COMMAND: 3 NEO\n SG_ GAS_COMMAND : 7|16@0+ (0.253984064,-83.3) [0|1] \"\" INTERCEPTOR\n SG_ COUNTER : 21|2@0+ (1,0) [0|3] \"\" INTERCEPTOR\n SG_ CHECKSUM : 19|4@0+ (1,0) [0|3] \"\" INTERCEPTOR\n\nBO_ 513 GAS_SENSOR: 5 INTERCEPTOR\n SG_ INTERCEPTOR_GAS : 7|16@0+ (0.253984064,-83.3) [0|1] \"\" NEO\n SG_ INTERCEPTOR_GAS2 : 23|16@0+ (0.126992032,-83.3) [0|1] \"\" NEO\n SG_ COUNTER : 37|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 35|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 542 XXX_6: 7 XXX\n\nBO_ 545 XXX_7: 4 XXX\n\nBO_ 597 ROUGH_WHEEL_SPEED: 8 VSA\n SG_ WHEEL_SPEED_FL : 7|8@0+ (1,0) [0|255] \"mph\" NEO\n SG_ WHEEL_SPEED_FR : 15|8@0+ (1,0) [0|255] \"mph\" NEO\n SG_ WHEEL_SPEED_RL : 23|8@0+ (1,0) [0|255] \"mph\" NEO\n SG_ WHEEL_SPEED_RR : 31|8@0+ (1,0) [0|255] \"mph\" NEO\n SG_ SET_TO_X55 : 47|8@0+ (1,0) [0|255] \"\" NEO\n\nBO_ 660 SCM_COMMANDS: 8 SCM\n SG_ RIGHT_BLINKER : 6|1@0+ (1,0) [0|1] \"\" NEO\n SG_ LEFT_BLINKER : 5|1@0+ (1,0) [0|1] \"\" NEO\n SG_ WIPERS_SPEED : 4|2@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 773 SEATBELT_STATUS: 7 BDY\n SG_ SEATBELT_DRIVER_LAMP : 7|1@0+ (1,0) [0|1] \"\" NEO\n SG_ SEATBELT_DRIVER_LATCHED : 13|1@0+ (1,0) [0|1] \"\" NEO\n SG_ COUNTER : 53|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 51|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 777 XXX_8: 8 XXX\n\nBO_ 780 ACC_HUD: 8 ADAS\n SG_ PCM_SPEED : 7|16@0+ (0.002763889,0) [0|100] \"m/s\" BDY\n SG_ PCM_GAS : 23|7@0+ (1,0) [0|127] \"\" BDY\n SG_ ZEROS_BOH : 16|1@0+ (1,0) [0|255] \"\" BDY\n SG_ CRUISE_SPEED : 31|8@0+ (1,0) [0|255] \"\" BDY\n SG_ DTC_MODE : 39|1@0+ (1,0) [0|1] \"\" BDY\n SG_ BOH : 38|1@0+ (1,0) [0|1] \"\" BDY\n SG_ ACC_PROBLEM : 37|1@0+ (1,0) [0|1] \"\" BDY\n SG_ FCM_OFF : 36|1@0+ (1,0) [0|1] \"\" BDY\n SG_ BOH_2 : 35|1@0+ (1,0) [0|1] \"\" BDY\n SG_ FCM_PROBLEM : 34|1@0+ (1,0) [0|1] \"\" BDY\n SG_ RADAR_OBSTRUCTED : 33|1@0+ (1,0) [0|1] \"\" BDY\n SG_ ENABLE_MINI_CAR : 32|1@0+ (1,0) [0|1] \"\" BDY\n SG_ SET_ME_X03 : 47|2@0+ (1,0) [0|3] \"\" BDY\n SG_ HUD_LEAD : 45|2@0+ (1,0) [0|3] \"\" BDY\n SG_ BOH_3 : 43|1@0+ (1,0) [0|3] \"\" BDY\n SG_ BOH_4 : 42|1@0+ (1,0) [0|3] \"\" BDY\n SG_ BOH_5 : 41|1@0+ (1,0) [0|3] \"\" BDY\n SG_ CRUISE_CONTROL_LABEL : 40|1@0+ (1,0) [0|3] \"\" BDY\n SG_ HUD_DISTANCE_3 : 52|1@0+ (1,0) [0|1] \"\" BDY\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] \"\" BDY\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] \"\" BDY\n\nBO_ 800 XXX_9: 8 XXX\n\nBO_ 804 CRUISE: 8 PCM\n SG_ HUD_SPEED_KPH : 7|8@0+ (1,0) [0|255] \"kph\"  NEO\n SG_ HUD_SPEED_MPH : 15|8@0+ (1,0) [0|255] \"mph\"  NEO\n SG_ TRIP_FUEL_CONSUMED : 23|16@0+ (1,0) [0|255] \"\" NEO\n SG_ CRUISE_SPEED_PCM : 39|8@0+ (1,0) [0|255] \"\" NEO\n SG_ BOH2 : 47|8@0- (1,0) [0|255] \"\" NEO\n SG_ BOH3 : 55|8@0+ (1,0) [0|255] \"\" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 808 XXX_10: 8 XXX\n\nBO_ 819 XXX_11: 7 XXX\n\nBO_ 821 XXX_12: 5 XXX\n\nBO_ 829 LKAS_HUD_2: 5 ADAS\n SG_ CAM_TEMP_HIGH : 7|1@0+ (1,0) [0|255] \"\" BDY\n SG_ BOH : 23|2@0+ (1,0) [0|4] \"\" BDY\n SG_ DASHED_LANES : 14|1@0+ (1,0) [0|1] \"\" BDY\n SG_ DTC : 13|1@0+ (1,0) [0|1] \"\" BDY\n SG_ LKAS_PROBLEM : 12|1@0+ (1,0) [0|1] \"\" BDY\n SG_ LKAS_OFF : 11|1@0+ (1,0) [0|1] \"\" BDY\n SG_ SOLID_LANES : 10|1@0+ (1,0) [0|1] \"\" BDY\n SG_ LDW_RIGHT : 9|1@0+ (1,0) [0|1] \"\" BDY\n SG_ STEERING_REQUIRED : 8|1@0+ (1,0) [0|1] \"\" BDY\n SG_ LDW_PROBLEM : 21|1@0+ (1,0) [0|1] \"\" BDY\n SG_ BEEP : 17|2@0+ (1,0) [0|1] \"\" BDY\n SG_ LDW_ON : 28|1@0+ (1,0) [0|1] \"\" BDY\n SG_ LDW_OFF : 27|1@0+ (1,0) [0|1] \"\" BDY\n SG_ CLEAN_WINDSHIELD : 26|1@0+ (1,0) [0|1] \"\" BDY\n SG_ SET_ME_X48 : 31|8@0+ (1,0) [0|255] \"\" BDY\n SG_ COUNTER : 37|2@0+ (1,0) [0|3] \"\" BDY\n SG_ CHECKSUM : 35|4@0+ (1,0) [0|3] \"\" BDY\n\nBO_ 882 XXX_13: 2 XXX\n\nBO_ 884 XXX_14: 7 XXX\n\nBO_ 887 XXX_15: 8 XXX\n\nBO_ 888 XXX_16: 8 XXX\n\nBO_ 892 CRUISE_PARAMS: 8 PCM\n SG_ CRUISE_SPEED_OFFSET : 31|8@0- (0.1,0) [-128|127] \"kph\"  NEO\n\nBO_ 923 XXX_18: 2 XXX\n\nBO_ 929 XXX_19: 4 XXX\n\nBO_ 983 XXX_20: 8 XXX\n\nBO_ 985 XXX_21: 3 XXX\n\nBO_ 1024 XXX_22: 5 XXX\n\nBO_ 1027 XXX_23: 5 XXX\n\nBO_ 1029 DOORS_STATUS: 8 BDY\n SG_ DOOR_OPEN_FL : 37|1@0+ (1,0) [0|1] \"\" NEO\n SG_ DOOR_OPEN_FR : 38|1@0+ (1,0) [0|1] \"\" NEO\n SG_ DOOR_OPEN_RL : 39|1@0+ (1,0) [0|1] \"\" NEO\n SG_ DOOR_OPEN_RR : 40|1@0+ (1,0) [0|1] \"\" NEO\n SG_ COUNTER : 61|2@0+ (1,0) [0|3] \"\" NEO\n SG_ CHECKSUM : 59|4@0+ (1,0) [0|3] \"\" NEO\n\nBO_ 1030 XXX_24: 5 VSA\n\nBO_ 1034 XXX_25: 5 XXX\n\nBO_ 1036 XXX_26: 8 XXX\n\nBO_ 1039 XXX_27: 8 XXX\n\nBO_ 1057 XXX_28: 5 EPS\n\nBO_ 1064 XXX_29: 7 XXX\n\nBO_ 1108 XXX_30: 8 XXX\n\nBO_ 1365 XXX_31: 5 XXX\n\nBO_ 1600 XXX_32: 5 XXX\n\nBO_ 1601 XXX_33: 8 XXX\n\nBO_TX_BU_ 228 : NEO,ADAS;\nBO_TX_BU_ 506 : NEO,ADAS;\nBO_TX_BU_ 780 : NEO,ADAS;\nBO_TX_BU_ 829 : NEO,ADAS;\n\nCM_ SG_ 419 GEAR \"10 = reverse, 11 = transition\";\nCM_ SG_ 490 LONG_ACCEL \"wheel speed derivative, noisy and zero snapping\";\nCM_ SG_ 780 CRUISE_SPEED \"255 = no speed\";\nCM_ SG_ 804 CRUISE_SPEED_PCM \"255 = no speed\";\nCM_ SG_ 829 BEEP \"beeps are pleasant, chimes are for warnngs etc...\";\nVAL_ 399 STEER_STATUS 5 \"fault\" 4 \"no_torque_alert_2\" 2 \"no_torque_alert_1\" 0 \"normal\" ;\nVAL_ 419 GEAR_SHIFTER 10 \"S\" 4 \"D\" 3 \"N\" 2 \"R\" 1 \"P\" ;\nVAL_ 422 CRUISE_BUTTONS 7 \"tbd\" 6 \"tbd\" 5 \"tbd\" 4 \"accel_res\" 3 \"decel_set\" 2 \"cancel\" 1 \"main\" 0 \"none\" ;\nVAL_ 422 LIGHTS_SETTING 3 \"high_beam\" 2 \"low_beam\" 1 \"position\" 0 \"no_lights\" ;\nVAL_ 422 CRUISE_SETTING 3 \"distance_adj\" 2 \"tbd\" 1 \"lkas_button\" 0 \"none\" ;\nVAL_ 506 CHIME 4 \"double_chime\" 3 \"single_chime\" 2 \"continuous_chime\" 1 \"repeating_chime\" 0 \"no_chime\" ;\nVAL_ 506 FCW 3 \"fcw\" 2 \"fcw\" 1 \"fcw\" 0 \"no_fcw\" ;\nVAL_ 780 HUD_LEAD 3 \"no_car\" 2 \"solid_car\" 1 \"dashed_car\" 0 \"no_car\" ;\nVAL_ 829 BEEP 3 \"single_beep\" 2 \"triple_beep\" 1 \"repeated_beep\" 0 \"no_beep\" ;\n\nCM_ \"CHFFR_METRIC 342 STEER_ANGLE STEER_ANGLE 0.36 180; CHFFR_METRIC 380 ENGINE_RPM ENGINE_RPM 1 0; CHFFR_METRIC 804 ENGINE_TEMPERATURE ENGINE_TEMPERATURE 1 0\";\n`);\n\nexport default AcuraDbc;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport CommaAuth from '@commaai/my-comma-auth';\nimport { request as Request } from '@commaai/comma-api';\nimport Sentry from './logging/Sentry';\nimport CanExplorer from './CanExplorer';\nimport AcuraDbc from './acura-dbc';\nimport { getUrlParameter, modifyQueryParameters } from './utils/url';\nimport { GITHUB_AUTH_TOKEN_KEY } from './config';\nimport {\n  fetchPersistedDbc,\n  fetchPersistedGithubAuthToken,\n  persistGithubAuthToken\n} from './api/localstorage';\nimport { demoProps } from './demo';\n\nexport default function init() {\n  Sentry.init();\n\n  const routeFullName = getUrlParameter('route');\n  const isDemo = !!getUrlParameter('demo');\n  let segments = getUrlParameter('segments');\n  if (segments && segments.length) {\n    segments = segments.split(',').map(Number);\n\n    if (segments.length !== 2) {\n      segments = undefined;\n    }\n  }\n\n  let props = {\n    autoplay: true,\n    startTime: Number(getUrlParameter('seekTime') || 0),\n    segments,\n    isDemo\n  };\n  let persistedDbc = null;\n\n  if (routeFullName) {\n    const [dongleId, route] = routeFullName.split('|');\n    props.dongleId = dongleId;\n    props.name = route;\n\n    persistedDbc = fetchPersistedDbc(routeFullName);\n\n    const max = getUrlParameter('max');\n    const url = getUrlParameter('url');\n    const exp = getUrlParameter('exp');\n    const sig = getUrlParameter('sig');\n\n    if (max) {\n      props.max = max;\n    }\n    if (url) {\n      props.url = url;\n    }\n    if (exp) {\n      props.exp = exp;\n    }\n    if (sig) {\n      props.sig = sig;\n    }\n    props.isLegacyShare = max && url && !exp && !sig;\n    props.isShare = max && url && exp && sig;\n  } else if (isDemo) {\n    props = { ...props, ...demoProps };\n  }\n\n  if (persistedDbc) {\n    const { dbcFilename, dbc } = persistedDbc;\n    props.dbc = dbc;\n    props.dbcFilename = dbcFilename;\n  }\n\n  const authTokenQueryParam = getUrlParameter(GITHUB_AUTH_TOKEN_KEY);\n  if (authTokenQueryParam !== null) {\n    props.githubAuthToken = authTokenQueryParam;\n    persistGithubAuthToken(authTokenQueryParam);\n    const urlNoAuthToken = modifyQueryParameters({\n      remove: [GITHUB_AUTH_TOKEN_KEY]\n    });\n    window.location.href = urlNoAuthToken;\n  } else {\n    props.githubAuthToken = fetchPersistedGithubAuthToken();\n  }\n\n  async function renderDom() {\n    const token = await CommaAuth.init();\n    if (token) {\n      Request.configure(token);\n    }\n    ReactDOM.render(<CanExplorer {...props} />, document.getElementById('root')); // eslint-disable-line react/jsx-props-no-spreading\n  }\n\n  renderDom();\n}\n","import init from './init';\nimport './index.css';\n\ninit();\n","export default class Frame {\n  constructor({\n    name,\n    id = 0,\n    size = 0,\n    transmitters = [],\n    extended = 0,\n    comment = null,\n    signals = {}\n  }) {\n    Object.assign(this, {\n      name,\n      id,\n      size,\n      transmitters,\n      extended,\n      comment,\n      signals\n    });\n  }\n\n  nextNewTransmitterName() {\n    let txNum = 1;\n    let txName;\n    do {\n      txName = `NEW_TRANSMITTER_${txNum}`;\n      txNum++;\n    } while (this.transmitters.indexOf(txName) !== -1);\n\n    return txName;\n  }\n\n  addTransmitter() {\n    const txName = this.nextNewTransmitterName();\n    this.transmitters.push(txName);\n    return txName;\n  }\n\n  header() {\n    return (\n      `BO_ ${this.id} ${this.name}: ${this.size} `\n      + `${this.transmitters[0] || 'XXX'}`\n    );\n  }\n\n  text() {\n    const signals = Object.values(this.signals)\n      .map((signal) => ` ${signal.text()}`) // indent\n      .join('\\n');\n\n    if (signals.length > 0) {\n      return `${this.header()}\\n${signals}`;\n    }\n    return this.header();\n  }\n\n  copy() {\n    const copy = Object.assign(Object.create(this), this);\n\n    return copy;\n  }\n}\n","// Vendored from https://github.com/rapid7/le_js, which is broken with webpack.\n/* eslint-disable */\n\nif (typeof window === \"undefined\") {\n  // eslint-disable-line no-use-before-define\n  var window = self;\n}\nvar _indexOf = function(array, obj) {\n  for (var i = 0; i < array.length; i++) {\n    if (obj === array[i]) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n// Obtain a browser-specific XHR object\nvar _getAjaxObject = function() {\n  if (typeof XDomainRequest !== \"undefined\") {\n    // We're using IE8/9\n    return new XDomainRequest();\n  }\n  return new XMLHttpRequest();\n};\n\n/**\n * A single log event stream.\n * @constructor\n * @param {Object} options\n */\nfunction LogStream(options) {\n  /**\n   * @const\n   * @type {string} */\n  var _traceCode = options.trace\n    ? (Math.random() + Math.PI).toString(36).substring(2, 10)\n    : null;\n  /** @type {string} */\n  var _pageInfo = options.page_info;\n  /** @type {string} */\n  var _token = options.token;\n  /** @type {boolean} */\n  var _print = options.print;\n  /** @type {boolean} */\n  var _noFormat = options.no_format;\n  /** @type {boolean} */\n  var _SSL = (function() {\n    if (typeof XDomainRequest === \"undefined\") {\n      return options.ssl;\n    }\n    // If we're relying on XDomainRequest, we\n    // must adhere to the page's encryption scheme.\n    return window.location.protocol === \"https:\" ? true : false;\n  })();\n  /** @type {string} */\n  var _endpoint;\n  if (window.LEENDPOINT) {\n    _endpoint = window.LEENDPOINT;\n  } else if (_noFormat) {\n    _endpoint = \"webhook.logentries.com/noformat\";\n  } else {\n    _endpoint = \"js.logentries.com/v1\";\n  }\n  _endpoint = (_SSL ? \"https://\" : \"http://\") + _endpoint + \"/logs/\" + _token;\n\n  /**\n   * Flag to prevent further invocations on network err\n   ** @type {boolean} */\n  var _shouldCall = true;\n  /** @type {Array.<string>} */\n  var _backlog = [];\n  /** @type {boolean} */\n  var _active = false;\n  /** @type {boolean} */\n  var _sentPageInfo = false;\n\n  var _apiCall = function(token, data) {\n    _active = true;\n\n    var request = _getAjaxObject();\n\n    if (_shouldCall) {\n      if (request.constructor === XMLHttpRequest) {\n        // Currently we don't support fine-grained error\n        // handling in older versions of IE\n        request.onreadystatechange = function() {\n          if (request.readyState === 4) {\n            // Handle any errors\n            if (request.status >= 400) {\n              console.error(\"Couldn't submit events.\");\n              if (request.status === 410) {\n                // This API version has been phased out\n                console.warn(\"This version of le_js is no longer supported!\");\n              }\n            } else {\n              if (request.status === 301) {\n                // Server issued a deprecation warning\n                console.warn(\n                  \"This version of le_js is deprecated! Consider upgrading.\"\n                );\n              }\n              if (_backlog.length > 0) {\n                // Submit the next event in the backlog\n                _apiCall(token, _backlog.shift());\n              } else {\n                _active = false;\n              }\n            }\n          }\n        };\n      } else {\n        request.onload = function() {\n          if (_backlog.length > 0) {\n            // Submit the next event in the backlog\n            _apiCall(token, _backlog.shift());\n          } else {\n            _active = false;\n          }\n        };\n      }\n\n      request.open(\"POST\", _endpoint, true);\n      if (request.constructor === XMLHttpRequest) {\n        request.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n        request.setRequestHeader(\"Content-type\", \"application/json\");\n      }\n\n      if (request.overrideMimeType) {\n        request.overrideMimeType(\"text\");\n      }\n\n      request.send(data);\n    }\n  };\n\n  var _getEvent = function() {\n    var raw = null;\n    var args = Array.prototype.slice.call(arguments);\n    if (args.length === 0) {\n      throw new Error(\"No arguments!\");\n    } else if (args.length === 1) {\n      raw = args[0];\n    } else {\n      // Handle a variadic overload,\n      // e.g. _rawLog(\"some text \", x, \" ...\", 1);\n      raw = args;\n    }\n    return raw;\n  };\n\n  var _agentInfo = function() {\n    var nav = window.navigator || { doNotTrack: undefined };\n    var screen = window.screen || {};\n    var location = window.location || {};\n\n    return {\n      url: location.pathname,\n      referrer: document.referrer,\n      screen: {\n        width: screen.width,\n        height: screen.height\n      },\n      window: {\n        width: window.innerWidth,\n        height: window.innerHeight\n      },\n      browser: {\n        name: nav.appName,\n        version: nav.appVersion,\n        cookie_enabled: nav.cookieEnabled,\n        do_not_track: nav.doNotTrack\n      },\n      platform: nav.platform\n    };\n  };\n\n  // Single arg stops the compiler arity warning\n  var _rawLog = function(msg) {\n    var event = _getEvent.apply(this, arguments);\n\n    var data = { event: event };\n\n    // Add agent info if required\n    if (_pageInfo !== \"never\") {\n      if (!_sentPageInfo || _pageInfo === \"per-entry\") {\n        _sentPageInfo = true;\n        if (\n          typeof event.screen === \"undefined\" &&\n          typeof event.browser === \"undefined\"\n        )\n          _rawLog(_agentInfo())\n            .level(\"PAGE\")\n            .send();\n      }\n    }\n\n    if (_traceCode) {\n      data.trace = _traceCode;\n    }\n\n    return {\n      level: function(l) {\n        // Don't log PAGE events to console\n        // PAGE events are generated for the agentInfo function\n        if (_print && typeof console !== \"undefined\" && l !== \"PAGE\") {\n          var serialized = null;\n          if (typeof XDomainRequest !== \"undefined\") {\n            // We're using IE8/9\n            serialized = data.trace + \" \" + data.event;\n          }\n          try {\n            console[l.toLowerCase()].call(console, serialized || data);\n          } catch (ex) {\n            // IE compat fix\n            console.log(serialized || data);\n          }\n        }\n        data.level = l;\n\n        return {\n          send: function() {\n            var cache = [];\n            var serialized = JSON.stringify(data, function(key, value) {\n              if (typeof value === \"undefined\") {\n                return \"undefined\";\n              } else if (typeof value === \"object\" && value !== null) {\n                if (_indexOf(cache, value) !== -1) {\n                  // We've seen this object before;\n                  // return a placeholder instead to prevent\n                  // cycles\n                  return \"<?>\";\n                }\n                cache.push(value);\n              }\n              return value;\n            });\n\n            if (_active) {\n              _backlog.push(serialized);\n            } else {\n              _apiCall(_token, serialized);\n            }\n          }\n        };\n      }\n    };\n  };\n\n  if (options.catchall) {\n    var oldHandler = window.onerror;\n    var newHandler = function(msg, url, line) {\n      _rawLog({ error: msg, line: line, location: url })\n        .level(\"ERROR\")\n        .send();\n      if (oldHandler) {\n        return oldHandler(msg, url, line);\n      } else {\n        return false;\n      }\n    };\n    window.onerror = newHandler;\n  }\n\n  /** @expose */\n  this.log = _rawLog;\n}\n\n/**\n * A single log object\n * @constructor\n * @param {Object} options\n */\nfunction Logger(options) {\n  var logger;\n\n  // Default values\n  var dict = {\n    ssl: true,\n    catchall: false,\n    trace: true,\n    page_info: \"never\",\n    print: false,\n    endpoint: null,\n    token: null\n  };\n\n  if (typeof options === \"object\") for (var k in options) dict[k] = options[k];\n  else throw new Error(\"Invalid parameters for createLogStream()\");\n\n  if (dict.token === null) {\n    throw new Error(\"Token not present.\");\n  } else {\n    logger = new LogStream(dict);\n  }\n\n  var _log = function(msg) {\n    if (logger) {\n      return logger.log.apply(this, arguments);\n    } else throw new Error(\"You must call LE.init(...) first.\");\n  };\n\n  // The public interface\n  return {\n    log: function() {\n      _log\n        .apply(this, arguments)\n        .level(\"LOG\")\n        .send();\n    },\n    warn: function() {\n      _log\n        .apply(this, arguments)\n        .level(\"WARN\")\n        .send();\n    },\n    error: function() {\n      _log\n        .apply(this, arguments)\n        .level(\"ERROR\")\n        .send();\n    },\n    info: function() {\n      _log\n        .apply(this, arguments)\n        .level(\"INFO\")\n        .send();\n    }\n  };\n}\n\n// Array of Logger elements\nvar loggers = {};\n\nvar _getLogger = function(name) {\n  if (!loggers.hasOwnProperty(name))\n    throw new Error(\"Invalid name for logStream\");\n\n  return loggers[name];\n};\n\nvar _createLogStream = function(options) {\n  if (typeof options.name !== \"string\") throw new Error(\"Name not present.\");\n  else if (loggers.hasOwnProperty(options.name))\n    throw new Error(\"A logger with that name already exists!\");\n  loggers[options.name] = new Logger(options);\n\n  return true;\n};\n\nvar _deprecatedInit = function(options) {\n  var dict = {\n    name: \"default\"\n  };\n\n  if (typeof options === \"object\") for (var k in options) dict[k] = options[k];\n  else if (typeof options === \"string\") dict.token = options;\n  else throw new Error(\"Invalid parameters for init()\");\n\n  return _createLogStream(dict);\n};\n\nvar _destroyLogStream = function(name) {\n  if (typeof name === \"undefined\") {\n    name = \"default\";\n  }\n\n  delete loggers[name];\n};\n\n// The public interface\nexport default {\n  init: _deprecatedInit,\n  createLogStream: _createLogStream,\n  to: _getLogger,\n  destroy: _destroyLogStream,\n  log: function() {\n    for (var k in loggers) loggers[k].log.apply(this, arguments);\n  },\n  warn: function() {\n    for (var k in loggers) loggers[k].warn.apply(this, arguments);\n  },\n  error: function() {\n    for (var k in loggers) loggers[k].error.apply(this, arguments);\n  },\n  info: function() {\n    for (var k in loggers) loggers[k].info.apply(this, arguments);\n  }\n};\n"],"sourceRoot":""}